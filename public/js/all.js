!function(e,t,n){t[e]=n.call(t),"undefined"!=typeof module&&module.exports?module.exports=t[e]:"function"==typeof define&&define.amd&&define(function(){return t[e]})}("Primus",this,function e(){"use strict";function t(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function n(){}function r(t,n){if(!(t instanceof e)){var r=new Error("Primus#"+n+"'s context should called with a Primus instance");if("function"!=typeof t.listeners||!t.listeners("error").length)throw r;t.emit("error",r)}}function e(t,r){if(!(this instanceof e))return new e(t,r);if("function"!=typeof this.client){var i="The client library has not been compiled correctly, see https://github.com/primus/primus#client-library for more details";return this.critical(new Error(i))}"object"==typeof t?(r=t,t=r.url||r.uri||o):r=r||{};var s=this;r.queueSize="queueSize"in r?r.queueSize:1/0,r.timeout="timeout"in r?r.timeout:1e4,r.reconnect="reconnect"in r?r.reconnect:{},r.ping="ping"in r?r.ping:25e3,r.pong="pong"in r?r.pong:1e4,r.strategy="strategy"in r?r.strategy:[],r.transport="transport"in r?r.transport:{},s.buffer=[],s.writable=!0,s.readable=!0,s.url=s.parse(t||o),s.readyState=e.CLOSED,s.options=r,s.timers={},s.attempt=null,s.socket=null,s.latency=0,s.stamps=0,s.disconnect=!1,s.transport=r.transport,s.transformers={outgoing:[],incoming:[]},"string"==typeof r.strategy&&(r.strategy=r.strategy.split(/\s?\,\s?/g)),!1===r.strategy?r.strategy=[]:r.strategy.length||(r.strategy.push("disconnect","online"),this.authorization||r.strategy.push("timeout")),r.strategy=r.strategy.join(",").toLowerCase(),a||n.call(s),"websockets"in r&&(s.AVOID_WEBSOCKETS=!r.websockets),"network"in r&&(s.NETWORK_EVENTS=r.network),r.manual||(s.timers.open=setTimeout(function(){s.clearTimeout("open").open()},0)),s.initialise(r)}n.prototype._events=void 0,n.prototype.listeners=function(e){if(!this._events||!this._events[e])return[];for(var t=0,n=this._events[e].length,r=[];n>t;t++)r.push(this._events[e][t].fn);return r},n.prototype.emit=function(e,t,n,r,o,i){if(!this._events||!this._events[e])return!1;var a,s,u,c=this._events[e],f=c.length,l=arguments.length,p=c[0];if(1===f){switch(p.once&&this.removeListener(e,p.fn,!0),l){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,t),!0;case 3:return p.fn.call(p.context,t,n),!0;case 4:return p.fn.call(p.context,t,n,r),!0;case 5:return p.fn.call(p.context,t,n,r,o),!0;case 6:return p.fn.call(p.context,t,n,r,o,i),!0}for(s=1,a=new Array(l-1);l>s;s++)a[s-1]=arguments[s];p.fn.apply(p.context,a)}else for(s=0;f>s;s++)switch(c[s].once&&this.removeListener(e,c[s].fn,!0),l){case 1:c[s].fn.call(c[s].context);break;case 2:c[s].fn.call(c[s].context,t);break;case 3:c[s].fn.call(c[s].context,t,n);break;default:if(!a)for(u=1,a=new Array(l-1);l>u;u++)a[u-1]=arguments[u];c[s].fn.apply(c[s].context,a)}return!0},n.prototype.on=function(e,n,r){return this._events||(this._events={}),this._events[e]||(this._events[e]=[]),this._events[e].push(new t(n,r||this)),this},n.prototype.once=function(e,n,r){return this._events||(this._events={}),this._events[e]||(this._events[e]=[]),this._events[e].push(new t(n,r||this,!0)),this},n.prototype.removeListener=function(e,t,n){if(!this._events||!this._events[e])return this;var r=this._events[e],o=[];if(t)for(var i=0,a=r.length;a>i;i++)r[i].fn!==t&&r[i].once!==n&&o.push(r[i]);return this._events[e]=o.length?o:null,this},n.prototype.removeAllListeners=function(e){return this._events?(e?this._events[e]=null:this._events={},this):this},n.prototype.off=n.prototype.removeListener,n.prototype.addListener=n.prototype.on,n.prototype.setMaxListeners=function(){return this};var o;try{o=location.origin?location.origin:location.protocol+"//"+location.hostname+(location.port?":"+location.port:"")}catch(i){o="http://127.0.0.1"}e.require=function(e){return"function"!=typeof require?void 0:"function"==typeof define&&define.amd?void 0:require(e)};var a,s;try{e.Stream=a=e.require("stream"),s=e.require("url").parse,e.require("util").inherits(e,a)}catch(i){e.Stream=n,e.prototype=new n,s=function(e){var t,n=document.createElement("a"),r={};n.href=e;for(t in n)("string"==typeof n[t]||"number"==typeof n[t])&&(r[t]=n[t]);if(!r.port){var o=(r.href||"").split("/");if(o.length>2){var i=o[2],a=i.lastIndexOf("@");~a&&(i=i.slice(a+1)),o=i.split(":"),2===o.length&&(r.port=o[1])}}if(":"===r.protocol&&(r.protocol=r.href.substr(0,r.href.indexOf(":")+1)),"0"===r.port&&(r.port=""),~r.href.indexOf("@")&&!r.auth){var s=r.protocol.length+2;r.auth=r.href.slice(s,r.href.indexOf(r.pathname,s)).split("@")[0]}return r}}e.OPENING=1,e.CLOSED=2,e.OPEN=3,e.prototype.AVOID_WEBSOCKETS=!1,e.prototype.NETWORK_EVENTS=!1,e.prototype.online=!0;try{(e.prototype.NETWORK_EVENTS="onLine"in navigator&&(window.addEventListener||document.body.attachEvent))&&(navigator.onLine||(e.prototype.online=!1))}catch(i){}if(e.prototype.ark={},e.prototype.plugin=function(e){if(r(this,"plugin"),e)return this.ark[e];var t={};for(e in this.ark)t[e]=this.ark[e];return t},e.prototype.reserved=function(e){return/^(incoming|outgoing)::/.test(e)||e in this.reserved.events},e.prototype.reserved.events={readyStateChange:1,reconnecting:1,reconnected:1,reconnect:1,offline:1,timeout:1,online:1,error:1,close:1,open:1,data:1,end:1},e.prototype.initialise=function(t){function n(){i.online&&(i.online=!1,i.emit("offline"),i.end())}function r(){i.online||(i.online=!0,i.emit("online"),~i.options.strategy.indexOf("online")&&i.reconnect())}var o,i=this;i.on("outgoing::open",function(){var t=i.readyState;i.readyState=e.OPENING,t!==i.readyState&&i.emit("readyStateChange","opening"),o=+new Date}),i.on("incoming::open",function(){var t=i.readyState,n=i.attempt;if(i.attempt&&(i.attempt=null),i.writable=!0,i.readable=!0,i.online||(i.online=!0,i.emit("online")),i.readyState=e.OPEN,t!==i.readyState&&i.emit("readyStateChange","open"),i.latency=+new Date-o,i.emit("open"),n&&i.emit("reconnected"),i.clearTimeout("ping","pong").heartbeat(),i.buffer.length){var r=i.buffer.slice(),a=r.length,s=0;for(i.buffer.length=0;a>s;s++)i._write(r[s])}}),i.on("incoming::pong",function(e){i.online=!0,i.clearTimeout("pong").heartbeat(),i.latency=+new Date-e}),i.on("incoming::error",function(e){var t=i.timers.connect,n=e;if(i.attempt)return i.reconnect();if("string"==typeof e)n=new Error(e);else if(!(e instanceof Error)&&"object"==typeof e){n=new Error(e.message||e.reason);for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r])}i.listeners("error").length&&i.emit("error",n),t&&(~i.options.strategy.indexOf("timeout")?i.reconnect():i.end())}),i.on("incoming::data",function(e){i.decoder(e,function(t,n){return t?i.listeners("error").length&&i.emit("error",t):void(i.protocol(n)||i.transforms(i,i,"incoming",n,e))})}),i.on("incoming::end",function(){var t=i.readyState;if(i.disconnect)return i.disconnect=!1,i.end();if(i.readyState=e.CLOSED,t!==i.readyState&&i.emit("readyStateChange","end"),i.timers.connect&&i.end(),t!==e.OPEN)return i.attempt?i.reconnect():!1;this.writable=!1,this.readable=!1;for(var n in this.timers)this.clearTimeout(n);return i.emit("close"),~i.options.strategy.indexOf("disconnect")?i.reconnect():(i.emit("outgoing::end"),void i.emit("end"))}),i.client();for(var a in i.ark)i.ark[a].call(i,i,t);return i.NETWORK_EVENTS?(window.addEventListener?(window.addEventListener("offline",n,!1),window.addEventListener("online",r,!1)):document.body.attachEvent&&(document.body.attachEvent("onoffline",n),document.body.attachEvent("ononline",r)),i):i},e.prototype.protocol=function(e){if("string"!=typeof e||0!==e.indexOf("primus::"))return!1;var t=e.indexOf(":",8),n=e.slice(t+2);switch(e.slice(8,t)){case"pong":this.emit("incoming::pong",n);break;case"server":"close"===n&&(this.disconnect=!0);break;case"id":this.emit("incoming::id",n);break;default:return!1}return!0},e.prototype.transforms=function(e,t,n,r,o){var i={data:r},a=e.transformers[n];return function s(e,n){var r=a[e++];if(!r)return n();if(1===r.length){if(!1===r.call(t,i))return;return s(e,n)}r.call(t,i,function(r,o){return r?t.emit("error",r):void(!1!==o&&s(e,n))})}(0,function(){return"incoming"===n?t.emit("data",i.data,o):void t._write(i.data)}),this},e.prototype.id=function(e){return this.socket&&this.socket.id?e(this.socket.id):(this._write("primus::id::"),this.once("incoming::id",e))},e.prototype.open=function(){return r(this,"open"),!this.attempt&&this.options.timeout&&this.timeout(),this.emit("outgoing::open"),this},e.prototype.write=function(e){return r(this,"write"),this.transforms(this,this,"outgoing",e),!0},e.prototype._write=function(t){var n=this;return e.OPEN!==n.readyState?(this.buffer.length===this.options.queueSize&&this.buffer.splice(0,1),this.buffer.push(t),!1):(n.encoder(t,function(e,t){return e?n.listeners("error").length&&n.emit("error",e):void n.emit("outgoing::data",t)}),!0)},e.prototype.heartbeat=function(){function e(){n.clearTimeout("pong"),n.online&&(n.online=!1,n.emit("offline"),n.emit("incoming::end"))}function t(){var t=+new Date;n.clearTimeout("ping")._write("primus::ping::"+t),n.emit("outgoing::ping",t),n.timers.pong=setTimeout(e,n.options.pong)}var n=this;return n.options.ping?(n.timers.ping=setTimeout(t,n.options.ping),this):n},e.prototype.timeout=function(){function t(){n.removeListener("error",t).removeListener("open",t).removeListener("end",t).clearTimeout("connect")}var n=this;return n.timers.connect=setTimeout(function(){t(),n.readyState===e.OPEN||n.attempt||(n.emit("timeout"),~n.options.strategy.indexOf("timeout")?n.reconnect():n.end())},n.options.timeout),n.on("error",t).on("open",t).on("end",t)},e.prototype.clearTimeout=function(){for(var e=arguments,t=0,n=e.length;n>t;t++)this.timers[e[t]]&&clearTimeout(this.timers[e[t]]),delete this.timers[e[t]];return this},e.prototype.backoff=function(e,t){t=t||{};var n=this;return t.backoff?n:(t.maxDelay="maxDelay"in t?t.maxDelay:1/0,t.minDelay="minDelay"in t?t.minDelay:500,t.retries="retries"in t?t.retries:10,t.attempt=(+t.attempt||0)+1,t.factor="factor"in t?t.factor:2,t.attempt>t.retries?(e(new Error("Unable to retry"),t),n):(t.backoff=!0,t.timeout=1!==t.attempt?Math.min(Math.round((Math.random()+1)*t.minDelay*Math.pow(t.factor,t.attempt)),t.maxDelay):t.minDelay,n.timers.reconnect=setTimeout(function(){t.backoff=!1,n.clearTimeout("reconnect"),e(void 0,t)},t.timeout),n.emit("reconnecting",t),n))},e.prototype.reconnect=function(){var e=this;return e.attempt=e.attempt||e.clone(e.options.reconnect),e.backoff(function(t,n){return t?(e.attempt=null,e.emit("end")):(e.emit("reconnect",n),void e.emit("outgoing::reconnect"))},e.attempt),e},e.prototype.end=function(t){if(r(this,"end"),this.readyState===e.CLOSED&&!this.timers.connect)return this.timers.reconnect&&(this.clearTimeout("reconnect"),this.attempt=null,this.emit("end")),this;void 0!==t&&this.write(t),this.writable=!1,this.readable=!1;var n=this.readyState;this.readyState=e.CLOSED,n!==this.readyState&&this.emit("readyStateChange","end");for(var o in this.timers)this.clearTimeout(o);return this.emit("outgoing::end"),this.emit("close"),this.emit("end"),this},e.prototype.clone=function(e){return this.merge({},e)},e.prototype.merge=function(e){for(var t,n,r=Array.prototype.slice.call(arguments,1),o=0,i=r.length;i>o;o++){n=r[o];for(t in n)n.hasOwnProperty(t)&&(e[t]=n[t])}return e},e.prototype.parse=s,e.prototype.querystring=function(e){for(var t,n=/([^=?&]+)=([^&]*)/g,r={};t=n.exec(e);r[decodeURIComponent(t[1])]=decodeURIComponent(t[2]));return r},e.prototype.querystringify=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")},e.prototype.uri=function(e){var t=this.url,n=[],r=!1;e.query&&(r=!0),e=e||{},e.protocol="protocol"in e?e.protocol:"http",e.query=t.search&&"query"in e?"?"===t.search.charAt(0)?t.search.slice(1):t.search:!1,e.secure="secure"in e?e.secure:"https:"===t.protocol||"wss:"===t.protocol,e.auth="auth"in e?e.auth:t.auth,e.pathname="pathname"in e?e.pathname:this.pathname.slice(1),e.port="port"in e?+e.port:+t.port||(e.secure?443:80),e.host="host"in e?e.host:t.hostname||t.host.replace(":"+t.port,""),this.emit("outgoing::url",e);var o=443!==e.port&&80!==e.port?e.host+":"+e.port:e.host,i=this.querystring(e.query||"");return i._primuscb=+new Date+"-"+this.stamps++,e.query=this.querystringify(i),n.push(e.secure?e.protocol+"s:":e.protocol+":",""),n.push(e.auth?e.auth+"@"+o:o),e.pathname&&n.push(e.pathname),r?n.push("?"+e.query):delete e.query,e.object?e:n.join("/")},e.prototype.emits=function(e,t){var n=this;return function(r){var o=t?t.apply(n,arguments):r;setTimeout(function(){n.emit("incoming::"+e,o)},0)}},e.prototype.transform=function(e,t){return r(this,"transform"),e in this.transformers?(this.transformers[e].push(t),this):this.critical(new Error("Invalid transformer type"))},e.prototype.critical=function(e){if(this.listeners("error").length)return this.emit("error",e),this;throw e},e.connect=function(t,n){return new e(t,n)},e.EventEmitter=n,e.prototype.client=function(){var t,n=this,r=function(){if("undefined"!=typeof SockJS)return SockJS;try{return e.require("sockjs-client-node")}catch(t){}return void 0}();return r?(n.on("outgoing::open",function(){n.emit("outgoing::end"),n.socket=t=new r(n.uri({protocol:"http"}),null,n.merge(n.transport,{info:{websocket:!n.AVOID_WEBSOCKETS,cookie_needed:!0}})),t.onopen=n.emits("open"),t.onerror=n.emits("error"),t.onclose=function(e){setTimeout(function(){e&&e.code>1e3&&n.emit("incoming::error",e),n.emit("incoming::end")},0)},t.onmessage=n.emits("data",function(e){return e.data})}),n.on("outgoing::data",function(e){t&&t.send(e)}),n.on("outgoing::reconnect",function(){n.emit("outgoing::end"),n.emit("outgoing::open")}),void n.on("outgoing::end",function(){t&&(t.onerror=t.onopen=t.onclose=t.onmessage=function(){},t.close(),t=null)})):n.critical(new Error("Missing required `sockjs-client-node` module. Please run `npm install --save sockjs-client-node`"))},e.prototype.authorization=!1,e.prototype.pathname="/realtime",e.prototype.encoder=function(e,t){var n;try{e=JSON.stringify(e)}catch(r){n=r}t(n,e)},e.prototype.decoder=function(e,t){var n;if("string"!=typeof e)return t(n,e);try{e=JSON.parse(e)}catch(r){n=r}t(n,e)},e.prototype.version="2.4.9","object"==typeof JSON&&"function"==typeof JSON.stringify&&'["\u2028\u2029"]'===JSON.stringify(["\u2028\u2029"])&&(JSON.stringify=function(e){var t=/\u2028/g,n=/\u2029/g;return function(r,o,i){var a=e.call(this,r,o,i);return a&&(~a.indexOf("\u2028")&&(a=a.replace(t,"\\u2028")),~a.indexOf("\u2029")&&(a=a.replace(n,"\\u2029"))),a}}(JSON.stringify)),"undefined"!=typeof document&&"undefined"!=typeof navigator){document.addEventListener&&document.addEventListener("keydown",function(e){27===e.keyCode&&e.preventDefault&&e.preventDefault()},!1);var u=(navigator.userAgent||"").toLowerCase(),c=u.match(/.+(?:rv|it|ra|ie)[\/: ](\d+)\.(\d+)(?:\.(\d+))?/)||[],f=+[c[1],c[2]].join(".");!~u.indexOf("chrome")&&~u.indexOf("safari")&&534.54>f&&(e.prototype.AVOID_WEBSOCKETS=!0)}return e}),function PrimusLibraryWrap(Primus){var JSON;JSON||(JSON={}),function(){function str(e,t){var n,r,o,i,a,s=gap,u=t[e];switch(u&&"object"==typeof u&&"function"==typeof u.toJSON&&(u=u.toJSON(e)),"function"==typeof rep&&(u=rep.call(t,e,u)),typeof u){case"string":return quote(u);case"number":return isFinite(u)?String(u):"null";case"boolean":case"null":return String(u);case"object":if(!u)return"null";if(gap+=indent,a=[],"[object Array]"===Object.prototype.toString.apply(u)){for(i=u.length,n=0;i>n;n+=1)a[n]=str(n,u)||"null";return o=0===a.length?"[]":gap?"[\n"+gap+a.join(",\n"+gap)+"\n"+s+"]":"["+a.join(",")+"]",gap=s,o}if(rep&&"object"==typeof rep)for(i=rep.length,n=0;i>n;n+=1)"string"==typeof rep[n]&&(r=rep[n],o=str(r,u),o&&a.push(quote(r)+(gap?": ":":")+o));else for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(o=str(r,u),o&&a.push(quote(r)+(gap?": ":":")+o));return o=0===a.length?"{}":gap?"{\n"+gap+a.join(",\n"+gap)+"\n"+s+"}":"{"+a.join(",")+"}",gap=s,o}}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function f(e){return 10>e?"0"+e:e}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,n){var r;if(gap="",indent="","number"==typeof n)for(r=0;n>r;r+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=t,!t||"function"==typeof t||"object"==typeof t&&"number"==typeof t.length)return str("",{"":e});throw new Error("JSON.stringify")}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(e,t){var n,r,o=e[t];if(o&&"object"==typeof o)for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(r=walk(o,n),void 0!==r?o[n]=r:delete o[n]);return reviver.call(e,t,o)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),SockJS=function(){var e=document,t=window,n={},r=function(){};r.prototype.addEventListener=function(e,t){this._listeners||(this._listeners={}),e in this._listeners||(this._listeners[e]=[]);var r=this._listeners[e];-1===n.arrIndexOf(r,t)&&r.push(t)},r.prototype.removeEventListener=function(e,t){if(this._listeners&&e in this._listeners){var r=this._listeners[e],o=n.arrIndexOf(r,t);return-1!==o?void(r.length>1?this._listeners[e]=r.slice(0,o).concat(r.slice(o+1)):delete this._listeners[e]):void 0}},r.prototype.dispatchEvent=function(e){var t=e.type,n=Array.prototype.slice.call(arguments,0);if(this["on"+t]&&this["on"+t].apply(this,n),this._listeners&&t in this._listeners)for(var r=0;r<this._listeners[t].length;r++)this._listeners[t][r].apply(this,n)};var o=function(e,t){if(this.type=e,"undefined"!=typeof t)for(var n in t)t.hasOwnProperty(n)&&(this[n]=t[n])};o.prototype.toString=function(){var e=[];for(var t in this)if(this.hasOwnProperty(t)){var n=this[t];"function"==typeof n&&(n="[function]"),e.push(t+"="+n)}return"SimpleEvent("+e.join(", ")+")"};var i=function(e){var t=this;t._events=e||[],t._listeners={}};i.prototype.emit=function(e){var t=this;if(t._verifyType(e),!t._nuked){var n=Array.prototype.slice.call(arguments,1);if(t["on"+e]&&t["on"+e].apply(t,n),e in t._listeners)for(var r=0;r<t._listeners[e].length;r++)t._listeners[e][r].apply(t,n)}},i.prototype.on=function(e,t){var n=this;n._verifyType(e),n._nuked||(e in n._listeners||(n._listeners[e]=[]),n._listeners[e].push(t))},i.prototype._verifyType=function(e){var t=this;-1===n.arrIndexOf(t._events,e)&&n.log("Event "+JSON.stringify(e)+" not listed "+JSON.stringify(t._events)+" in "+t)},i.prototype.nuke=function(){var e=this;e._nuked=!0;for(var t=0;t<e._events.length;t++)delete e[e._events[t]];e._listeners={}};var a="abcdefghijklmnopqrstuvwxyz0123456789_";n.random_string=function(e,t){t=t||a.length;var n,r=[];for(n=0;e>n;n++)r.push(a.substr(Math.floor(Math.random()*t),1));return r.join("")},n.random_number=function(e){return Math.floor(Math.random()*e)},n.random_number_string=function(e){var t=(""+(e-1)).length,r=Array(t+1).join("0");return(r+n.random_number(e)).slice(-t)},n.getOrigin=function(e){if(e.match(/^file:\/\//))return null;var t,n,r=e.split("/"),o=r[0],i=r[2],a=i.lastIndexOf("@");return~a&&(i=i.slice(a+1)),r=i.split(":"),t=r[0],n=r[1],n||(n="https:"===o?443:80),o+"//"+t+":"+n},n.isSameOriginUrl=function(e,r){return r||(r=t.location.href),n.getOrigin(e)===n.getOrigin(r)},n.getParentDomain=function(e){if(/^[0-9.]*$/.test(e))return e;if(/^\[/.test(e))return e;if(!/[.]/.test(e))return e;var t=e.split(".").slice(1);return t.join(".")},n.objectExtend=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e};var s="_jp";n.polluteGlobalNamespace=function(){s in t||(t[s]={})},n.closeFrame=function(e,t){return"c"+JSON.stringify([e,t])},n.userSetCode=function(e){return 1e3===e||e>=3e3&&4999>=e},n.countRTO=function(e){return e>100?4*e:300+e},n.log=function(){t.console&&console.log&&console.log.apply&&console.log.apply(console,arguments)},n.bind=function(e,t){return e.bind?e.bind(t):function(){return e.apply(t,arguments)}},n.flatUrl=function(e){return-1===e.indexOf("?")&&-1===e.indexOf("#")},n.amendUrl=function(t){var r=e.location;if(!t)throw new Error("Wrong url for SockJS");if(!n.flatUrl(t))throw new Error("Only basic urls are supported in SockJS");return 0===t.indexOf("//")&&(t=r.protocol+t),0===t.indexOf("/")&&(t=r.protocol+"//"+r.host+t),t=t.replace(/[/]+$/,"")},n.arrIndexOf=function(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},n.arrSkip=function(e,t){var r=n.arrIndexOf(e,t);if(-1===r)return e.slice();var o=e.slice(0,r);return o.concat(e.slice(r+1))},n.isArray=Array.isArray||function(e){return{}.toString.call(e).indexOf("Array")>=0},n.delay=function(e,t){return"function"==typeof e&&(t=e,e=0),setTimeout(t,e)};var u,c=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,f={"\x00":"\\u0000","":"\\u0001","":"\\u0002","":"\\u0003","":"\\u0004","":"\\u0005","":"\\u0006","":"\\u0007","\b":"\\b","	":"\\t","\n":"\\n","":"\\u000b","\f":"\\f","\r":"\\r","":"\\u000e","":"\\u000f","":"\\u0010","":"\\u0011","":"\\u0012","":"\\u0013","":"\\u0014","":"\\u0015","":"\\u0016","":"\\u0017","":"\\u0018","":"\\u0019","":"\\u001a","":"\\u001b","":"\\u001c","":"\\u001d","":"\\u001e","":"\\u001f",'"':'\\"',"\\":"\\\\","":"\\u007f","":"\\u0080","":"\\u0081","":"\\u0082","":"\\u0083","":"\\u0084","":"\\u0085","":"\\u0086","":"\\u0087","":"\\u0088","":"\\u0089","":"\\u008a","":"\\u008b","":"\\u008c","":"\\u008d","":"\\u008e","":"\\u008f","":"\\u0090","":"\\u0091","":"\\u0092","":"\\u0093","":"\\u0094","":"\\u0095","":"\\u0096","":"\\u0097","":"\\u0098","":"\\u0099","":"\\u009a","":"\\u009b","":"\\u009c","":"\\u009d","":"\\u009e","":"\\u009f","­":"\\u00ad","؀":"\\u0600","؁":"\\u0601","؂":"\\u0602","؃":"\\u0603","؄":"\\u0604","܏":"\\u070f","឴":"\\u17b4","឵":"\\u17b5","‌":"\\u200c","‍":"\\u200d","‎":"\\u200e","‏":"\\u200f","\u2028":"\\u2028","\u2029":"\\u2029","‪":"\\u202a","‫":"\\u202b","‬":"\\u202c","‭":"\\u202d","‮":"\\u202e"," ":"\\u202f","⁠":"\\u2060","⁡":"\\u2061","⁢":"\\u2062","⁣":"\\u2063","⁤":"\\u2064","⁥":"\\u2065","⁦":"\\u2066","⁧":"\\u2067","⁨":"\\u2068","⁩":"\\u2069","⁪":"\\u206a","⁫":"\\u206b","⁬":"\\u206c","⁭":"\\u206d","⁮":"\\u206e","⁯":"\\u206f","﻿":"\\ufeff","￰":"\\ufff0","￱":"\\ufff1","￲":"\\ufff2","￳":"\\ufff3","￴":"\\ufff4","￵":"\\ufff5","￶":"\\ufff6","￷":"\\ufff7","￸":"\\ufff8","￹":"\\ufff9","￺":"\\ufffa","￻":"\\ufffb","￼":"\\ufffc","�":"\\ufffd","￾":"\\ufffe","￿":"\\uffff"},l=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,p=JSON&&JSON.stringify||function(e){return c.lastIndex=0,c.test(e)&&(e=e.replace(c,function(e){return f[e]})),'"'+e+'"'},d=function(e){var t,n={},r=[];for(t=0;65536>t;t++)r.push(String.fromCharCode(t));return e.lastIndex=0,r.join("").replace(e,function(e){return n[e]="\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4),""}),e.lastIndex=0,n};n.quote=function(e){var t=p(e);return l.lastIndex=0,l.test(t)?(u||(u=d(l)),t.replace(l,function(e){return u[e]})):t};var h=["websocket","xdr-streaming","xhr-streaming","iframe-eventsource","iframe-htmlfile","xdr-polling","xhr-polling","iframe-xhr-polling","jsonp-polling"];n.probeProtocols=function(){for(var e={},t=0;t<h.length;t++){var n=h[t];e[n]=x[n]&&x[n].enabled()}return e},n.detectProtocols=function(e,t,n){var r={},o=[];t||(t=h);for(var i=0;i<t.length;i++){var a=t[i];r[a]=e[a]}var s=function(e){var t=e.shift();r[t]?o.push(t):e.length>0&&s(e)};return n.websocket!==!1&&s(["websocket"]),r["xhr-streaming"]&&!n.null_origin?o.push("xhr-streaming"):!r["xdr-streaming"]||n.cookie_needed||n.null_origin?s(["iframe-eventsource","iframe-htmlfile"]):o.push("xdr-streaming"),r["xhr-polling"]&&!n.null_origin?o.push("xhr-polling"):!r["xdr-polling"]||n.cookie_needed||n.null_origin?s(["iframe-xhr-polling","jsonp-polling"]):o.push("xdr-polling"),o};var m="_sockjs_global";n.createHook=function(){var e="a"+n.random_string(8);if(!(m in t)){var r={};t[m]=function(e){return e in r||(r[e]={id:e,del:function(){delete r[e]}}),r[e]}}return t[m](e)},n.attachMessage=function(e){n.attachEvent("message",e)},n.attachEvent=function(n,r){"undefined"!=typeof t.addEventListener?t.addEventListener(n,r,!1):(e.attachEvent("on"+n,r),t.attachEvent("on"+n,r))},n.detachMessage=function(e){n.detachEvent("message",e)},n.detachEvent=function(n,r){"undefined"!=typeof t.addEventListener?t.removeEventListener(n,r,!1):(e.detachEvent("on"+n,r),t.detachEvent("on"+n,r))};var y={},v=!1,g=function(){for(var e in y)y[e](),delete y[e]},_=function(){v||(v=!0,g())};n.attachEvent("unload",_),n.unload_add=function(e){var t=n.random_string(8);return y[t]=e,v&&n.delay(g),t},n.unload_del=function(e){e in y&&delete y[e]},n.createIframe=function(t,r){var o,i,a=e.createElement("iframe"),s=function(){clearTimeout(o);try{a.onload=null}catch(e){}a.onerror=null},u=function(){a&&(s(),setTimeout(function(){a&&a.parentNode.removeChild(a),a=null},0),n.unload_del(i))},c=function(e){a&&(u(),r(e))},f=function(e,t){try{a&&a.contentWindow&&a.contentWindow.postMessage(e,t)}catch(n){}};return a.src=t,a.style.display="none",a.style.position="absolute",a.onerror=function(){c("onerror")},a.onload=function(){clearTimeout(o),o=setTimeout(function(){c("onload timeout")},2e3)},e.body.appendChild(a),o=setTimeout(function(){c("timeout")},15e3),i=n.unload_add(u),{post:f,cleanup:u,loaded:s}},n.createHtmlfile=function(e,r){var o,i,a,u=new ActiveXObject("htmlfile"),c=function(){clearTimeout(o)},f=function(){u&&(c(),n.unload_del(i),a.parentNode.removeChild(a),a=u=null,CollectGarbage())},l=function(e){u&&(f(),r(e))},p=function(e,t){try{a&&a.contentWindow&&a.contentWindow.postMessage(e,t)}catch(n){}};u.open(),u.write('<html><script>document.domain="'+document.domain+'";</script></html>'),u.close(),u.parentWindow[s]=t[s];var d=u.createElement("div");return u.body.appendChild(d),a=u.createElement("iframe"),d.appendChild(a),a.src=e,o=setTimeout(function(){l("timeout")},15e3),i=n.unload_add(f),{post:p,cleanup:f,loaded:c}};var b=function(){};b.prototype=new i(["chunk","finish"]),b.prototype._start=function(e,r,o,i){var a=this;try{a.xhr=new XMLHttpRequest}catch(s){}if(!a.xhr)try{a.xhr=new t.ActiveXObject("Microsoft.XMLHTTP")}catch(s){}(t.ActiveXObject||t.XDomainRequest)&&(r+=(-1===r.indexOf("?")?"?":"&")+"t="+ +new Date),a.unload_ref=n.unload_add(function(){a._cleanup(!0)});try{a.xhr.open(e,r,!0)}catch(u){return a.emit("finish",0,""),void a._cleanup()}if(i&&i.no_credentials||(a.xhr.withCredentials="true"),i&&i.headers)for(var c in i.headers)a.xhr.setRequestHeader(c,i.headers[c]);a.xhr.onreadystatechange=function(){if(a.xhr){var e=a.xhr;switch(e.readyState){case 3:try{var t=e.status,n=e.responseText}catch(e){}1223===t&&(t=204),n&&n.length>0&&a.emit("chunk",t,n);break;case 4:var t=e.status;1223===t&&(t=204),a.emit("finish",t,e.responseText),a._cleanup(!1)}}},a.xhr.send(o)},b.prototype._cleanup=function(e){var t=this;if(t.xhr){if(n.unload_del(t.unload_ref),t.xhr.onreadystatechange=function(){},e)try{t.xhr.abort()}catch(r){}t.unload_ref=t.xhr=null}},b.prototype.close=function(){var e=this;e.nuke(),e._cleanup(!0)};var w=n.XHRCorsObject=function(){var e=this,t=arguments;n.delay(function(){e._start.apply(e,t)})};w.prototype=new b;var S=n.XHRLocalObject=function(e,t,r){var o=this;n.delay(function(){o._start(e,t,r)})};S.prototype=new b;var O=n.XDRObject=function(e,t,r){var o=this;n.delay(function(){o._start(e,t,r)})};O.prototype=new i(["chunk","finish"]),O.prototype._start=function(e,t,r){var o=this,i=new XDomainRequest;t+=(-1===t.indexOf("?")?"?":"&")+"t="+ +new Date;var a=i.ontimeout=i.onerror=function(){o.emit("finish",0,""),o._cleanup(!1)};i.onprogress=function(){o.emit("chunk",200,i.responseText)},i.onload=function(){o.emit("finish",200,i.responseText),o._cleanup(!1)},o.xdr=i,o.unload_ref=n.unload_add(function(){o._cleanup(!0)});try{o.xdr.open(e,t),o.xdr.send(r)}catch(s){a()}},O.prototype._cleanup=function(e){var t=this;if(t.xdr){if(n.unload_del(t.unload_ref),t.xdr.ontimeout=t.xdr.onerror=t.xdr.onprogress=t.xdr.onload=null,e)try{t.xdr.abort()}catch(r){}t.unload_ref=t.xdr=null}},O.prototype.close=function(){var e=this;e.nuke(),e._cleanup(!0)},n.isXHRCorsCapable=function(){if(e.domain){if(t.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest)return 1;if(t.XDomainRequest)return 2}return P.enabled()?3:4};var x=function(e,r,o){if(this===t)return new x(e,r,o);var i,a=this;a._options={devel:!1,debug:!1,protocols_whitelist:[],info:void 0,rtt:void 0},o&&n.objectExtend(a._options,o),a._base_url=n.amendUrl(e),a._server=a._options.server||n.random_number_string(1e3),a._options.protocols_whitelist&&a._options.protocols_whitelist.length?i=a._options.protocols_whitelist:(i="string"==typeof r&&r.length>0?[r]:n.isArray(r)?r:null,i&&a._debug('Deprecated API: Use "protocols_whitelist" option instead of supplying protocol list as a second parameter to SockJS constructor.')),a._protocols=[],a.protocol=null,a.readyState=x.CONNECTING,a._ir=G(a._base_url),a._ir.onfinish=function(e,t){a._ir=null,e?(a._options.info&&(e=n.objectExtend(e,a._options.info)),a._options.rtt&&(t=a._options.rtt),a._applyInfo(e,t,i),a._didClose()):a._didClose(1002,"Can't connect to server",!0)}};x.prototype=new r,x.version="0.3.4",x.CONNECTING=0,x.OPEN=1,x.CLOSING=2,x.CLOSED=3,x.prototype._debug=function(){this._options.debug&&n.log.apply(n,arguments)},x.prototype._dispatchOpen=function(){var e=this;e.readyState===x.CONNECTING?(e._transport_tref&&(clearTimeout(e._transport_tref),e._transport_tref=null),e.readyState=x.OPEN,e.dispatchEvent(new o("open"))):e._didClose(1006,"Server lost session")},x.prototype._dispatchMessage=function(e){var t=this;t.readyState===x.OPEN&&t.dispatchEvent(new o("message",{data:e}))},x.prototype._dispatchHeartbeat=function(){var e=this;e.readyState===x.OPEN&&e.dispatchEvent(new o("heartbeat",{}))},x.prototype._didClose=function(e,t,r){var i=this;if(i.readyState!==x.CONNECTING&&i.readyState!==x.OPEN&&i.readyState!==x.CLOSING)throw new Error("INVALID_STATE_ERR");
i._ir&&(i._ir.nuke(),i._ir=null),i._transport&&(i._transport.doCleanup(),i._transport=null);var a=new o("close",{code:e,reason:t,wasClean:n.userSetCode(e)});if(!n.userSetCode(e)&&i.readyState===x.CONNECTING&&!r){if(i._try_next_protocol(a))return;a=new o("close",{code:2e3,reason:"All transports failed",wasClean:!1,last_event:a})}i.readyState=x.CLOSED,n.delay(function(){i.dispatchEvent(a)})},x.prototype._didMessage=function(e){var t=this,n=e.slice(0,1);switch(n){case"o":t._dispatchOpen();break;case"a":for(var r=JSON.parse(e.slice(1)||"[]"),o=0;o<r.length;o++)t._dispatchMessage(r[o]);break;case"m":var r=JSON.parse(e.slice(1)||"null");t._dispatchMessage(r);break;case"c":var r=JSON.parse(e.slice(1)||"[]");t._didClose(r[0],r[1]);break;case"h":t._dispatchHeartbeat()}},x.prototype._try_next_protocol=function(t){var r=this;for(r.protocol&&(r._debug("Closed transport:",r.protocol,""+t),r.protocol=null),r._transport_tref&&(clearTimeout(r._transport_tref),r._transport_tref=null);;){var o=r.protocol=r._protocols.shift();if(!o)return!1;if(x[o]&&x[o].need_body===!0&&(!e.body||"undefined"!=typeof e.readyState&&"complete"!==e.readyState))return r._protocols.unshift(o),r.protocol="waiting-for-load",n.attachEvent("load",function(){r._try_next_protocol()}),!0;if(x[o]&&x[o].enabled(r._options)){var i=x[o].roundTrips||1,a=(r._options.rto||0)*i||5e3;r._transport_tref=n.delay(a,function(){r.readyState===x.CONNECTING&&r._didClose(2007,"Transport timeouted")});var s=n.random_string(8),u=r._base_url+"/"+r._server+"/"+s;return r._debug("Opening transport:",o," url:"+u," RTO:"+r._options.rto),r._transport=new x[o](r,u,r._base_url),!0}r._debug("Skipping transport:",o)}},x.prototype.close=function(e,t){var r=this;if(e&&!n.userSetCode(e))throw new Error("INVALID_ACCESS_ERR");return r.readyState!==x.CONNECTING&&r.readyState!==x.OPEN?!1:(r.readyState=x.CLOSING,r._didClose(e||1e3,t||"Normal closure"),!0)},x.prototype.send=function(e){var t=this;if(t.readyState===x.CONNECTING)throw new Error("INVALID_STATE_ERR");return t.readyState===x.OPEN&&t._transport.doSend(n.quote(""+e)),!0},x.prototype._applyInfo=function(t,r,o){var i=this;i._options.info=t,i._options.rtt=r,i._options.rto=n.countRTO(r),i._options.info.null_origin=!e.domain;var a=n.probeProtocols();i._protocols=n.detectProtocols(a,o,t)};var E=x.websocket=function(e,r){var o=this,i=r+"/websocket";i="https"===i.slice(0,5)?"wss"+i.slice(5):"ws"+i.slice(4),o.ri=e,o.url=i;var a=t.WebSocket||t.MozWebSocket;o.ws=new a(o.url),o.ws.onmessage=function(e){o.ri._didMessage(e.data)},o.ws.onerror=function(){e._didMessage(n.closeFrame(1006,"WebSocket connection broken"))},o.unload_ref=n.unload_add(function(){o.ws.close()}),o.ws.onclose=function(){o.ri._didMessage(n.closeFrame(1006,"WebSocket connection broken"))}};E.prototype.doSend=function(e){this.ws.send("["+e+"]")},E.prototype.doCleanup=function(){var e=this,t=e.ws;t&&(t.onmessage=t.onclose=t.onerror=null,t.close(),n.unload_del(e.unload_ref),e.unload_ref=e.ri=e.ws=null)},E.enabled=function(){return!(!t.WebSocket&&!t.MozWebSocket)},E.roundTrips=2;var C=function(){};C.prototype.send_constructor=function(e){var t=this;t.send_buffer=[],t.sender=e},C.prototype.doSend=function(e){var t=this;t.send_buffer.push(e),t.send_stop||t.send_schedule()},C.prototype.send_schedule_wait=function(){var e,t=this;t.send_stop=function(){t.send_stop=null,clearTimeout(e)},e=n.delay(25,function(){t.send_stop=null,t.send_schedule()})},C.prototype.send_schedule=function(){var e=this;if(e.send_buffer.length>0){var t="["+e.send_buffer.join(",")+"]";e.send_stop=e.sender(e.trans_url,t,function(t,n){e.send_stop=null,t===!1?e.ri._didClose(1006,"Sending error "+n):e.send_schedule_wait()}),e.send_buffer=[]}},C.prototype.send_destructor=function(){var e=this;e._send_stop&&e._send_stop(),e._send_stop=null};var N=function(t,r,o){var i=this;if(!("_send_form"in i)){var a=i._send_form=e.createElement("form"),s=i._send_area=e.createElement("textarea");s.name="d",a.style.display="none",a.style.position="absolute",a.method="POST",a.enctype="application/x-www-form-urlencoded",a.acceptCharset="UTF-8",a.appendChild(s),e.body.appendChild(a)}var a=i._send_form,s=i._send_area,u="a"+n.random_string(8);a.target=u,a.action=t+"/jsonp_send?i="+u;var c;try{c=e.createElement('<iframe name="'+u+'">')}catch(f){c=e.createElement("iframe"),c.name=u}c.id=u,a.appendChild(c),c.style.display="none";try{s.value=r}catch(l){n.log("Your browser is seriously broken. Go home! "+l.message)}a.submit();var p=function(){c.onerror&&(c.onreadystatechange=c.onerror=c.onload=null,n.delay(500,function(){c.parentNode.removeChild(c),c=null}),s.value="",o(!0))};return c.onerror=c.onload=p,c.onreadystatechange=function(){"complete"==c.readyState&&p()},p},k=function(e){return function(t,n,r){var o=new e("POST",t+"/xhr_send",n);return o.onfinish=function(e){r(200===e||204===e,"http status "+e)},function(e){r(!1,e)}}},T=function(t,r){var o,i,a=e.createElement("script"),s=function(e){i&&(i.parentNode.removeChild(i),i=null),a&&(clearTimeout(o),a.parentNode.removeChild(a),a.onreadystatechange=a.onerror=a.onload=a.onclick=null,a=null,r(e),r=null)},u=!1,c=null;if(a.id="a"+n.random_string(8),a.src=t,a.type="text/javascript",a.charset="UTF-8",a.onerror=function(){c||(c=setTimeout(function(){u||s(n.closeFrame(1006,"JSONP script loaded abnormally (onerror)"))},1e3))},a.onload=function(){s(n.closeFrame(1006,"JSONP script loaded abnormally (onload)"))},a.onreadystatechange=function(){if(/loaded|closed/.test(a.readyState)){if(a&&a.htmlFor&&a.onclick){u=!0;try{a.onclick()}catch(e){}}a&&s(n.closeFrame(1006,"JSONP script loaded abnormally (onreadystatechange)"))}},"undefined"==typeof a.async&&e.attachEvent)if(/opera/i.test(navigator.userAgent))i=e.createElement("script"),i.text="try{var a = document.getElementById('"+a.id+"'); if(a)a.onerror();}catch(x){};",a.async=i.async=!1;else{try{a.htmlFor=a.id,a.event="onclick"}catch(f){}a.async=!0}"undefined"!=typeof a.async&&(a.async=!0),o=setTimeout(function(){s(n.closeFrame(1006,"JSONP script loaded abnormally (timeout)"))},35e3);var l=e.getElementsByTagName("head")[0];return l.insertBefore(a,l.firstChild),i&&l.insertBefore(i,l.firstChild),s},j=x["jsonp-polling"]=function(e,t){n.polluteGlobalNamespace();var r=this;r.ri=e,r.trans_url=t,r.send_constructor(N),r._schedule_recv()};j.prototype=new C,j.prototype._schedule_recv=function(){var e=this,t=function(t){e._recv_stop=null,t&&(e._is_closing||e.ri._didMessage(t)),e._is_closing||e._schedule_recv()};e._recv_stop=L(e.trans_url+"/jsonp",T,t)},j.enabled=function(){return!0},j.need_body=!0,j.prototype.doCleanup=function(){var e=this;e._is_closing=!0,e._recv_stop&&e._recv_stop(),e.ri=e._recv_stop=null,e.send_destructor()};var L=function(e,r,o){var i="a"+n.random_string(6),a=e+"?c="+escape(s+"."+i),u=0,c=function(e){switch(u){case 0:delete t[s][i],o(e);break;case 1:o(e),u=2;break;case 2:delete t[s][i]}},f=r(a,c);t[s][i]=f;var l=function(){t[s][i]&&(u=1,t[s][i](n.closeFrame(1e3,"JSONP user aborted read")))};return l},J=function(){};J.prototype=new C,J.prototype.run=function(e,t,n,r,o){var i=this;i.ri=e,i.trans_url=t,i.send_constructor(k(o)),i.poll=new Z(e,r,t+n,o)},J.prototype.doCleanup=function(){var e=this;e.poll&&(e.poll.abort(),e.poll=null)};var M=x["xhr-streaming"]=function(e,t){this.run(e,t,"/xhr_streaming",rt,n.XHRCorsObject)};M.prototype=new J,M.enabled=function(){return t.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest&&!/opera/i.test(navigator.userAgent)},M.roundTrips=2,M.need_body=!0;var I=x["xdr-streaming"]=function(e,t){this.run(e,t,"/xhr_streaming",rt,n.XDRObject)};I.prototype=new J,I.enabled=function(){return!!t.XDomainRequest},I.roundTrips=2;var R=x["xhr-polling"]=function(e,t){this.run(e,t,"/xhr",rt,n.XHRCorsObject)};R.prototype=new J,R.enabled=M.enabled,R.roundTrips=2;var D=x["xdr-polling"]=function(e,t){this.run(e,t,"/xhr",rt,n.XDRObject)};D.prototype=new J,D.enabled=I.enabled,D.roundTrips=2;var P=function(){};P.prototype.i_constructor=function(e,t,r){var o=this;o.ri=e,o.origin=n.getOrigin(r),o.base_url=r,o.trans_url=t;var i=r+"/iframe.html";o.ri._options.devel&&(i+="?t="+ +new Date),o.window_id=n.random_string(8),i+="#"+o.window_id,o.iframeObj=n.createIframe(i,function(e){o.ri._didClose(1006,"Unable to load an iframe ("+e+")")}),o.onmessage_cb=n.bind(o.onmessage,o),n.attachMessage(o.onmessage_cb)},P.prototype.doCleanup=function(){var e=this;if(e.iframeObj){n.detachMessage(e.onmessage_cb);try{e.iframeObj.iframe.contentWindow&&e.postMessage("c")}catch(t){}e.iframeObj.cleanup(),e.iframeObj=null,e.onmessage_cb=e.iframeObj=null}},P.prototype.onmessage=function(e){var t=this;if(n.isSameOriginUrl(e.origin,t.origin)){var r=e.data.slice(0,8),o=e.data.slice(8,9),i=e.data.slice(9);if(r===t.window_id)switch(o){case"s":t.iframeObj.loaded(),t.postMessage("s",JSON.stringify([x.version,t.protocol,t.trans_url,t.base_url]));break;case"t":t.ri._didMessage(i)}}},P.prototype.postMessage=function(e,t){var n=this;n.iframeObj.post(n.window_id+e+(t||""),n.origin)},P.prototype.doSend=function(e){this.postMessage("m",e)},P.enabled=function(){var e=navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("Konqueror");return("function"==typeof t.postMessage||"object"==typeof t.postMessage)&&!e};var q,A=function(e,r){parent!==t?parent.postMessage(q+e+(r||""),"*"):n.log("Can't postMessage, no parent window.",e,r)},X=function(){};X.prototype._didClose=function(e,t){A("t",n.closeFrame(e,t))},X.prototype._didMessage=function(e){A("t",e)},X.prototype._doSend=function(e){this._transport.doSend(e)},X.prototype._doCleanup=function(){this._transport.doCleanup()},n.parent_origin=void 0,x.bootstrap_iframe=function(){var r;q=e.location.hash.slice(1);var o=function(e){if(e.source===parent&&("undefined"==typeof n.parent_origin&&(n.parent_origin=e.origin),e.origin===n.parent_origin)){var o=e.data.slice(0,8),i=e.data.slice(8,9),a=e.data.slice(9);if(o===q)switch(i){case"s":var s=JSON.parse(a),u=s[0],c=s[1],f=s[2],l=s[3];if(u!==x.version&&n.log('Incompatibile SockJS! Main site uses: "'+u+'", the iframe: "'+x.version+'".'),!n.flatUrl(f)||!n.flatUrl(l))return void n.log("Only basic urls are supported in SockJS");if(!n.isSameOriginUrl(f)||!n.isSameOriginUrl(l))return void n.log("Can't connect to different domain from within an iframe. ("+JSON.stringify([t.location.href,f,l])+")");r=new X,r._transport=new X[c](r,f,l);break;case"m":r._doSend(a);break;case"c":r&&r._doCleanup(),r=null}}};n.attachMessage(o),A("s")};var U=function(e,t){var r=this;n.delay(function(){r.doXhr(e,t)})};U.prototype=new i(["finish"]),U.prototype.doXhr=function(e,t){var r=this,o=(new Date).getTime(),i=new t("GET",e+"/info"),a=n.delay(8e3,function(){i.ontimeout()});i.onfinish=function(e,t){if(clearTimeout(a),a=null,200===e){var n=(new Date).getTime()-o,i=JSON.parse(t);"object"!=typeof i&&(i={}),r.emit("finish",i,n)}else r.emit("finish")},i.ontimeout=function(){i.close(),r.emit("finish")}};var H=function(t){var r=this,o=function(){var e=new P;e.protocol="w-iframe-info-receiver";var n=function(t){if("string"==typeof t&&"m"===t.substr(0,1)){var n=JSON.parse(t.substr(1)),o=n[0],i=n[1];r.emit("finish",o,i)}else r.emit("finish");e.doCleanup(),e=null},o={_options:{},_didClose:n,_didMessage:n};e.i_constructor(o,t,t)};e.body?o():n.attachEvent("load",o)};H.prototype=new i(["finish"]);var W=function(){var e=this;n.delay(function(){e.emit("finish",{},2e3)})};W.prototype=new i(["finish"]);var G=function(e){if(n.isSameOriginUrl(e))return new U(e,n.XHRLocalObject);switch(n.isXHRCorsCapable()){case 1:return new U(e,n.XHRLocalObject);case 2:return new U(e,n.XDRObject);case 3:return new H(e);default:return new W}},F=X["w-iframe-info-receiver"]=function(e,t,r){var o=new U(r,n.XHRLocalObject);o.onfinish=function(t,n){e._didMessage("m"+JSON.stringify([t,n])),e._didClose()}};F.prototype.doCleanup=function(){};var V=x["iframe-eventsource"]=function(){var e=this;e.protocol="w-iframe-eventsource",e.i_constructor.apply(e,arguments)};V.prototype=new P,V.enabled=function(){return"EventSource"in t&&P.enabled()},V.need_body=!0,V.roundTrips=3;var z=X["w-iframe-eventsource"]=function(e,t){this.run(e,t,"/eventsource",Q,n.XHRLocalObject)};z.prototype=new J;var B=x["iframe-xhr-polling"]=function(){var e=this;e.protocol="w-iframe-xhr-polling",e.i_constructor.apply(e,arguments)};B.prototype=new P,B.enabled=function(){return t.XMLHttpRequest&&P.enabled()},B.need_body=!0,B.roundTrips=3;var K=X["w-iframe-xhr-polling"]=function(e,t){this.run(e,t,"/xhr",rt,n.XHRLocalObject)};K.prototype=new J;var $=x["iframe-htmlfile"]=function(){var e=this;e.protocol="w-iframe-htmlfile",e.i_constructor.apply(e,arguments)};$.prototype=new P,$.enabled=function(){return P.enabled()},$.need_body=!0,$.roundTrips=3;var Y=X["w-iframe-htmlfile"]=function(e,t){this.run(e,t,"/htmlfile",nt,n.XHRLocalObject)};Y.prototype=new J;var Z=function(e,t,n,r){var o=this;o.ri=e,o.Receiver=t,o.recv_url=n,o.AjaxObject=r,o._scheduleRecv()};Z.prototype._scheduleRecv=function(){var e=this,t=e.poll=new e.Receiver(e.recv_url,e.AjaxObject),n=0;t.onmessage=function(t){n+=1,e.ri._didMessage(t.data)},t.onclose=function(n){e.poll=t=t.onmessage=t.onclose=null,e.poll_is_closing||("permanent"===n.reason?e.ri._didClose(1006,"Polling error ("+n.reason+")"):e._scheduleRecv())}},Z.prototype.abort=function(){var e=this;e.poll_is_closing=!0,e.poll&&e.poll.abort()};var Q=function(e){var t=this,r=new EventSource(e);r.onmessage=function(e){t.dispatchEvent(new o("message",{data:unescape(e.data)}))},t.es_close=r.onerror=function(e,i){var a=i?"user":2!==r.readyState?"network":"permanent";t.es_close=r.onmessage=r.onerror=null,r.close(),r=null,n.delay(200,function(){t.dispatchEvent(new o("close",{reason:a}))})}};Q.prototype=new r,Q.prototype.abort=function(){var e=this;e.es_close&&e.es_close({},!0)};var et,tt=function(){if(void 0===et)if("ActiveXObject"in t)try{et=!!new ActiveXObject("htmlfile")}catch(e){}else et=!1;return et},nt=function(e){var r=this;n.polluteGlobalNamespace(),r.id="a"+n.random_string(6,26),e+=(-1===e.indexOf("?")?"?":"&")+"c="+escape(s+"."+r.id);var i,a=tt()?n.createHtmlfile:n.createIframe;t[s][r.id]={start:function(){i.loaded()},message:function(e){r.dispatchEvent(new o("message",{data:e}))},stop:function(){r.iframe_close({},"network")}},r.iframe_close=function(e,n){i.cleanup(),r.iframe_close=i=null,delete t[s][r.id],r.dispatchEvent(new o("close",{reason:n}))},i=a(e,function(){r.iframe_close({},"permanent")})};nt.prototype=new r,nt.prototype.abort=function(){var e=this;e.iframe_close&&e.iframe_close({},"user")};var rt=function(e,t){var n=this,r=0;n.xo=new t("POST",e,null),n.xo.onchunk=function(e,t){if(200===e)for(;;){var i=t.slice(r),a=i.indexOf("\n");if(-1===a)break;r+=a+1;var s=i.slice(0,a);n.dispatchEvent(new o("message",{data:s}))}},n.xo.onfinish=function(e,t){n.xo.onchunk(e,t),n.xo=null;var r=200===e?"network":"permanent";n.dispatchEvent(new o("close",{reason:r}))}};return rt.prototype=new r,rt.prototype.abort=function(){var e=this;e.xo&&(e.xo.close(),e.dispatchEvent(new o("close",{reason:"user"})),e.xo=null)},x.getUtils=function(){return n},x.getIframeTransport=function(){return P},x}(),"_sockjs_onload"in window&&setTimeout(_sockjs_onload,1),"function"==typeof define&&define.amd&&define("sockjs",[],function(){return SockJS})}(this.Primus);
function Tile(e){var t=e,n="perspective( 800px ) rotateX( 0deg ) rotateY( 0deg ) translateZ( 0px )",i=function(){t.style.webkitTransformOrigin="50% 50%",t.style.MozTransformOrigin="50% 50%",t.style.msTransformOrigin="50% 50%",t.style.oTransformOrigin="50% 50%",t.style.transformOrigin="50% 50%",t.parentElement.style.webkitTransformStyle="preserve-3d",t.parentElement.style.MozTransformStyle="preserve-3d",t.parentElement.style.msTransformStyle="preserve-3d",t.parentElement.style.oTransformStyle="preserve-3d",t.parentElement.style.transformStyle="preserve-3d",t.style.webkitTransition="-webkit-transform 0.08s",t.style.MozTransition="-moz-transform 0.08s",t.style.msTransition="-ms-transform 0.08s",t.style.oTransition="-o-transform 0.08s",t.style.transition="transform 0.08s",t.style.outline="1px solid transparent",t.style.webkitFontSmoothing="antialiased",t.addEventListener("mousedown",r,!1)},o=function(e,n){var i=t.offsetWidth,o=t.offsetHeight,r="perspective( 800px ) ";r+=e>i/4&&i/4*3>e&&n>o/4&&o/4*3>n?"rotateX( 0deg ) rotateY( 0deg ) translateZ( -30px )":Math.min(e,i-e)<Math.min(n,o-n)?i-e>e?"rotateX( 0deg ) rotateY( -20deg ) translateZ( 0px )":"rotateX( 0deg ) rotateY( 20deg ) translateZ( 0px )":o-n>n?"rotateX( 20deg ) rotateY( 0deg ) translateZ( 0px )":"rotateX( -20deg ) rotateY( 0deg ) translateZ( 0px )",t.style.webkitTransform=r,t.style.MozTransform=r,t.style.msTransform=r,t.style.oTransform=r,t.style.transform=r,document.addEventListener("mouseup",a,!1)},r=function(e){if(e.offsetX)return void o(e.offsetX,e.offsetY);var n=l(t),i=e.pageX-n.x,r=e.pageY-n.y;o(i,r)},a=function(){t.style.webkitTransform=n,t.style.MozTransform=n,t.style.msTransform=n,t.style.oTransform=n,t.style.transform=n,document.removeEventListener("mouseup",a,!1)},s=function(e,t){return parseInt(e.getPropertyValue(t),10)},l=function(e){var t=0,n=0,i=!0;do{t+=e.offsetLeft,n+=e.offsetTop;var o=getComputedStyle(e,null),r=s(o,"border-top-width"),a=s(o,"border-left-width");if(n+=r,t+=a,i){var l=s(o,"padding-top"),c=s(o,"padding-left");n+=l,t+=c}i=!1}while(e=e.offsetParent);return{x:t,y:n}};i()}!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=e.length,n=ot.type(e);return"function"===n||ot.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function i(e,t,n){if(ot.isFunction(t))return ot.grep(e,function(e,i){return!!t.call(e,i,e)!==n});if(t.nodeType)return ot.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(pt.test(t))return ot.filter(t,e,n);t=ot.filter(t,e)}return ot.grep(e,function(e){return ot.inArray(e,t)>=0!==n})}function o(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function r(e){var t=wt[e]={};return ot.each(e.match(bt)||[],function(e,n){t[n]=!0}),t}function a(){ht.addEventListener?(ht.removeEventListener("DOMContentLoaded",s,!1),e.removeEventListener("load",s,!1)):(ht.detachEvent("onreadystatechange",s),e.detachEvent("onload",s))}function s(){(ht.addEventListener||"load"===event.type||"complete"===ht.readyState)&&(a(),ot.ready())}function l(e,t,n){if(void 0===n&&1===e.nodeType){var i="data-"+t.replace(kt,"-$1").toLowerCase();if(n=e.getAttribute(i),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:Tt.test(n)?ot.parseJSON(n):n}catch(o){}ot.data(e,t,n)}else n=void 0}return n}function c(e){var t;for(t in e)if(("data"!==t||!ot.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function d(e,t,n,i){if(ot.acceptData(e)){var o,r,a=ot.expando,s=e.nodeType,l=s?ot.cache:e,c=s?e[a]:e[a]&&a;if(c&&l[c]&&(i||l[c].data)||void 0!==n||"string"!=typeof t)return c||(c=s?e[a]=U.pop()||ot.guid++:a),l[c]||(l[c]=s?{}:{toJSON:ot.noop}),("object"==typeof t||"function"==typeof t)&&(i?l[c]=ot.extend(l[c],t):l[c].data=ot.extend(l[c].data,t)),r=l[c],i||(r.data||(r.data={}),r=r.data),void 0!==n&&(r[ot.camelCase(t)]=n),"string"==typeof t?(o=r[t],null==o&&(o=r[ot.camelCase(t)])):o=r,o}}function u(e,t,n){if(ot.acceptData(e)){var i,o,r=e.nodeType,a=r?ot.cache:e,s=r?e[ot.expando]:ot.expando;if(a[s]){if(t&&(i=n?a[s]:a[s].data)){ot.isArray(t)?t=t.concat(ot.map(t,ot.camelCase)):t in i?t=[t]:(t=ot.camelCase(t),t=t in i?[t]:t.split(" ")),o=t.length;for(;o--;)delete i[t[o]];if(n?!c(i):!ot.isEmptyObject(i))return}(n||(delete a[s].data,c(a[s])))&&(r?ot.cleanData([e],!0):nt.deleteExpando||a!=a.window?delete a[s]:a[s]=null)}}}function p(){return!0}function f(){return!1}function h(){try{return ht.activeElement}catch(e){}}function m(e){var t=Lt.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function g(e,t){var n,i,o=0,r=typeof e.getElementsByTagName!==Ct?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==Ct?e.querySelectorAll(t||"*"):void 0;if(!r)for(r=[],n=e.childNodes||e;null!=(i=n[o]);o++)!t||ot.nodeName(i,t)?r.push(i):ot.merge(r,g(i,t));return void 0===t||t&&ot.nodeName(e,t)?ot.merge([e],r):r}function v(e){It.test(e.type)&&(e.defaultChecked=e.checked)}function y(e,t){return ot.nodeName(e,"table")&&ot.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function b(e){return e.type=(null!==ot.find.attr(e,"type"))+"/"+e.type,e}function w(e){var t=Xt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function _(e,t){for(var n,i=0;null!=(n=e[i]);i++)ot._data(n,"globalEval",!t||ot._data(t[i],"globalEval"))}function x(e,t){if(1===t.nodeType&&ot.hasData(e)){var n,i,o,r=ot._data(e),a=ot._data(t,r),s=r.events;if(s){delete a.handle,a.events={};for(n in s)for(i=0,o=s[n].length;o>i;i++)ot.event.add(t,n,s[n][i])}a.data&&(a.data=ot.extend({},a.data))}}function C(e,t){var n,i,o;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!nt.noCloneEvent&&t[ot.expando]){o=ot._data(t);for(i in o.events)ot.removeEvent(t,i,o.handle);t.removeAttribute(ot.expando)}"script"===n&&t.text!==e.text?(b(t).text=e.text,w(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),nt.html5Clone&&e.innerHTML&&!ot.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&It.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function T(t,n){var i,o=ot(n.createElement(t)).appendTo(n.body),r=e.getDefaultComputedStyle&&(i=e.getDefaultComputedStyle(o[0]))?i.display:ot.css(o[0],"display");return o.detach(),r}function k(e){var t=ht,n=Zt[e];return n||(n=T(e,t),"none"!==n&&n||(Jt=(Jt||ot("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(Jt[0].contentWindow||Jt[0].contentDocument).document,t.write(),t.close(),n=T(e,t),Jt.detach()),Zt[e]=n),n}function E(e,t){return{get:function(){var n=e();return null!=n?n?void delete this.get:(this.get=t).apply(this,arguments):void 0}}}function N(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),i=t,o=fn.length;o--;)if(t=fn[o]+n,t in e)return t;return i}function D(e,t){for(var n,i,o,r=[],a=0,s=e.length;s>a;a++)i=e[a],i.style&&(r[a]=ot._data(i,"olddisplay"),n=i.style.display,t?(r[a]||"none"!==n||(i.style.display=""),""===i.style.display&&Dt(i)&&(r[a]=ot._data(i,"olddisplay",k(i.nodeName)))):(o=Dt(i),(n&&"none"!==n||!o)&&ot._data(i,"olddisplay",o?n:ot.css(i,"display"))));for(a=0;s>a;a++)i=e[a],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?r[a]||"":"none"));return e}function S(e,t,n){var i=cn.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function I(e,t,n,i,o){for(var r=n===(i?"border":"content")?4:"width"===t?1:0,a=0;4>r;r+=2)"margin"===n&&(a+=ot.css(e,n+Nt[r],!0,o)),i?("content"===n&&(a-=ot.css(e,"padding"+Nt[r],!0,o)),"margin"!==n&&(a-=ot.css(e,"border"+Nt[r]+"Width",!0,o))):(a+=ot.css(e,"padding"+Nt[r],!0,o),"padding"!==n&&(a+=ot.css(e,"border"+Nt[r]+"Width",!0,o)));return a}function O(e,t,n){var i=!0,o="width"===t?e.offsetWidth:e.offsetHeight,r=en(e),a=nt.boxSizing&&"border-box"===ot.css(e,"boxSizing",!1,r);if(0>=o||null==o){if(o=tn(e,t,r),(0>o||null==o)&&(o=e.style[t]),on.test(o))return o;i=a&&(nt.boxSizingReliable()||o===e.style[t]),o=parseFloat(o)||0}return o+I(e,t,n||(a?"border":"content"),i,r)+"px"}function j(e,t,n,i,o){return new j.prototype.init(e,t,n,i,o)}function $(){return setTimeout(function(){hn=void 0}),hn=ot.now()}function M(e,t){var n,i={height:e},o=0;for(t=t?1:0;4>o;o+=2-t)n=Nt[o],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function A(e,t,n){for(var i,o=(wn[t]||[]).concat(wn["*"]),r=0,a=o.length;a>r;r++)if(i=o[r].call(n,t,e))return i}function L(e,t,n){var i,o,r,a,s,l,c,d,u=this,p={},f=e.style,h=e.nodeType&&Dt(e),m=ot._data(e,"fxshow");n.queue||(s=ot._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,u.always(function(){u.always(function(){s.unqueued--,ot.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],c=ot.css(e,"display"),d="none"===c?ot._data(e,"olddisplay")||k(e.nodeName):c,"inline"===d&&"none"===ot.css(e,"float")&&(nt.inlineBlockNeedsLayout&&"inline"!==k(e.nodeName)?f.zoom=1:f.display="inline-block")),n.overflow&&(f.overflow="hidden",nt.shrinkWrapBlocks()||u.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}));for(i in t)if(o=t[i],gn.exec(o)){if(delete t[i],r=r||"toggle"===o,o===(h?"hide":"show")){if("show"!==o||!m||void 0===m[i])continue;h=!0}p[i]=m&&m[i]||ot.style(e,i)}else c=void 0;if(ot.isEmptyObject(p))"inline"===("none"===c?k(e.nodeName):c)&&(f.display=c);else{m?"hidden"in m&&(h=m.hidden):m=ot._data(e,"fxshow",{}),r&&(m.hidden=!h),h?ot(e).show():u.done(function(){ot(e).hide()}),u.done(function(){var t;ot._removeData(e,"fxshow");for(t in p)ot.style(e,t,p[t])});for(i in p)a=A(h?m[i]:0,i,u),i in m||(m[i]=a.start,h&&(a.end=a.start,a.start="width"===i||"height"===i?1:0))}}function P(e,t){var n,i,o,r,a;for(n in e)if(i=ot.camelCase(n),o=t[i],r=e[n],ot.isArray(r)&&(o=r[1],r=e[n]=r[0]),n!==i&&(e[i]=r,delete e[n]),a=ot.cssHooks[i],a&&"expand"in a){r=a.expand(r),delete e[i];for(n in r)n in e||(e[n]=r[n],t[n]=o)}else t[i]=o}function H(e,t,n){var i,o,r=0,a=bn.length,s=ot.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var t=hn||$(),n=Math.max(0,c.startTime+c.duration-t),i=n/c.duration||0,r=1-i,a=0,l=c.tweens.length;l>a;a++)c.tweens[a].run(r);return s.notifyWith(e,[c,r,n]),1>r&&l?n:(s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:ot.extend({},t),opts:ot.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:hn||$(),duration:n.duration,tweens:[],createTween:function(t,n){var i=ot.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(o)return this;for(o=!0;i>n;n++)c.tweens[n].run(1);return t?s.resolveWith(e,[c,t]):s.rejectWith(e,[c,t]),this}}),d=c.props;for(P(d,c.opts.specialEasing);a>r;r++)if(i=bn[r].call(c,e,d,c.opts))return i;return ot.map(d,A,c),ot.isFunction(c.opts.start)&&c.opts.start.call(e,c),ot.fx.timer(ot.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function B(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,o=0,r=t.toLowerCase().match(bt)||[];if(ot.isFunction(n))for(;i=r[o++];)"+"===i.charAt(0)?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function F(e,t,n,i){function o(s){var l;return r[s]=!0,ot.each(e[s]||[],function(e,s){var c=s(t,n,i);return"string"!=typeof c||a||r[c]?a?!(l=c):void 0:(t.dataTypes.unshift(c),o(c),!1)}),l}var r={},a=e===Wn;return o(t.dataTypes[0])||!r["*"]&&o("*")}function z(e,t){var n,i,o=ot.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((o[i]?e:n||(n={}))[i]=t[i]);return n&&ot.extend(!0,e,n),e}function R(e,t,n){for(var i,o,r,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===o&&(o=e.mimeType||t.getResponseHeader("Content-Type"));if(o)for(a in s)if(s[a]&&s[a].test(o)){l.unshift(a);break}if(l[0]in n)r=l[0];else{for(a in n){if(!l[0]||e.converters[a+" "+l[0]]){r=a;break}i||(i=a)}r=r||i}return r?(r!==l[0]&&l.unshift(r),n[r]):void 0}function q(e,t,n,i){var o,r,a,s,l,c={},d=e.dataTypes.slice();if(d[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(r=d.shift();r;)if(e.responseFields[r]&&(n[e.responseFields[r]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=r,r=d.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(a=c[l+" "+r]||c["* "+r],!a)for(o in c)if(s=o.split(" "),s[1]===r&&(a=c[l+" "+s[0]]||c["* "+s[0]])){a===!0?a=c[o]:c[o]!==!0&&(r=s[0],d.unshift(s[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(u){return{state:"parsererror",error:a?u:"No conversion from "+l+" to "+r}}}return{state:"success",data:t}}function W(e,t,n,i){var o;if(ot.isArray(t))ot.each(t,function(t,o){n||Un.test(e)?i(e,o):W(e+"["+("object"==typeof o?t:"")+"]",o,n,i)});else if(n||"object"!==ot.type(t))i(e,t);else for(o in t)W(e+"["+o+"]",t[o],n,i)}function Y(){try{return new e.XMLHttpRequest}catch(t){}}function V(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function X(e){return ot.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var U=[],G=U.slice,K=U.concat,Q=U.push,J=U.indexOf,Z={},et=Z.toString,tt=Z.hasOwnProperty,nt={},it="1.11.1",ot=function(e,t){return new ot.fn.init(e,t)},rt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,at=/^-ms-/,st=/-([\da-z])/gi,lt=function(e,t){return t.toUpperCase()};ot.fn=ot.prototype={jquery:it,constructor:ot,selector:"",length:0,toArray:function(){return G.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:G.call(this)},pushStack:function(e){var t=ot.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return ot.each(this,e,t)},map:function(e){return this.pushStack(ot.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(G.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:Q,sort:U.sort,splice:U.splice},ot.extend=ot.fn.extend=function(){var e,t,n,i,o,r,a=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||ot.isFunction(a)||(a={}),s===l&&(a=this,s--);l>s;s++)if(null!=(o=arguments[s]))for(i in o)e=a[i],n=o[i],a!==n&&(c&&n&&(ot.isPlainObject(n)||(t=ot.isArray(n)))?(t?(t=!1,r=e&&ot.isArray(e)?e:[]):r=e&&ot.isPlainObject(e)?e:{},a[i]=ot.extend(c,r,n)):void 0!==n&&(a[i]=n));return a},ot.extend({expando:"jQuery"+(it+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===ot.type(e)},isArray:Array.isArray||function(e){return"array"===ot.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!ot.isArray(e)&&e-parseFloat(e)>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==ot.type(e)||e.nodeType||ot.isWindow(e))return!1;try{if(e.constructor&&!tt.call(e,"constructor")&&!tt.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(nt.ownLast)for(t in e)return tt.call(e,t);for(t in e);return void 0===t||tt.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?Z[et.call(e)]||"object":typeof e},globalEval:function(t){t&&ot.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(at,"ms-").replace(st,lt)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,i){var o,r=0,a=e.length,s=n(e);if(i){if(s)for(;a>r&&(o=t.apply(e[r],i),o!==!1);r++);else for(r in e)if(o=t.apply(e[r],i),o===!1)break}else if(s)for(;a>r&&(o=t.call(e[r],r,e[r]),o!==!1);r++);else for(r in e)if(o=t.call(e[r],r,e[r]),o===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(rt,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(n(Object(e))?ot.merge(i,"string"==typeof e?[e]:e):Q.call(i,e)),i},inArray:function(e,t,n){var i;if(t){if(J)return J.call(t,e,n);for(i=t.length,n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,i=0,o=e.length;n>i;)e[o++]=t[i++];if(n!==n)for(;void 0!==t[i];)e[o++]=t[i++];return e.length=o,e},grep:function(e,t,n){for(var i,o=[],r=0,a=e.length,s=!n;a>r;r++)i=!t(e[r],r),i!==s&&o.push(e[r]);return o},map:function(e,t,i){var o,r=0,a=e.length,s=n(e),l=[];if(s)for(;a>r;r++)o=t(e[r],r,i),null!=o&&l.push(o);else for(r in e)o=t(e[r],r,i),null!=o&&l.push(o);return K.apply([],l)},guid:1,proxy:function(e,t){var n,i,o;return"string"==typeof t&&(o=e[t],t=e,e=o),ot.isFunction(e)?(n=G.call(arguments,2),i=function(){return e.apply(t||this,n.concat(G.call(arguments)))},i.guid=e.guid=e.guid||ot.guid++,i):void 0},now:function(){return+new Date},support:nt}),ot.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Z["[object "+t+"]"]=t.toLowerCase()});var ct=function(e){function t(e,t,n,i){var o,r,a,s,l,c,u,f,h,m;if((t?t.ownerDocument||t:F)!==j&&O(t),t=t||j,n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=t.nodeType)&&9!==s)return[];if(M&&!i){if(o=yt.exec(e))if(a=o[1]){if(9===s){if(r=t.getElementById(a),!r||!r.parentNode)return n;if(r.id===a)return n.push(r),n}else if(t.ownerDocument&&(r=t.ownerDocument.getElementById(a))&&H(t,r)&&r.id===a)return n.push(r),n}else{if(o[2])return Z.apply(n,t.getElementsByTagName(e)),n;if((a=o[3])&&_.getElementsByClassName&&t.getElementsByClassName)return Z.apply(n,t.getElementsByClassName(a)),n}if(_.qsa&&(!A||!A.test(e))){if(f=u=B,h=t,m=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(c=k(e),(u=t.getAttribute("id"))?f=u.replace(wt,"\\$&"):t.setAttribute("id",f),f="[id='"+f+"'] ",l=c.length;l--;)c[l]=f+p(c[l]);h=bt.test(e)&&d(t.parentNode)||t,m=c.join(",")}if(m)try{return Z.apply(n,h.querySelectorAll(m)),n}catch(g){}finally{u||t.removeAttribute("id")}}}return N(e.replace(lt,"$1"),t,n,i)}function n(){function e(n,i){return t.push(n+" ")>x.cacheLength&&delete e[t.shift()],e[n+" "]=i}var t=[];return e}function i(e){return e[B]=!0,e}function o(e){var t=j.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function r(e,t){for(var n=e.split("|"),i=e.length;i--;)x.attrHandle[n[i]]=t}function a(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||U)-(~e.sourceIndex||U);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function c(e){return i(function(t){return t=+t,i(function(n,i){for(var o,r=e([],n.length,t),a=r.length;a--;)n[o=r[a]]&&(n[o]=!(i[o]=n[o]))})})}function d(e){return e&&typeof e.getElementsByTagName!==X&&e}function u(){}function p(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function f(e,t,n){var i=t.dir,o=n&&"parentNode"===i,r=R++;return t.first?function(t,n,r){for(;t=t[i];)if(1===t.nodeType||o)return e(t,n,r)}:function(t,n,a){var s,l,c=[z,r];if(a){for(;t=t[i];)if((1===t.nodeType||o)&&e(t,n,a))return!0}else for(;t=t[i];)if(1===t.nodeType||o){if(l=t[B]||(t[B]={}),(s=l[i])&&s[0]===z&&s[1]===r)return c[2]=s[2];if(l[i]=c,c[2]=e(t,n,a))return!0}}}function h(e){return e.length>1?function(t,n,i){for(var o=e.length;o--;)if(!e[o](t,n,i))return!1;return!0}:e[0]}function m(e,n,i){for(var o=0,r=n.length;r>o;o++)t(e,n[o],i);return i}function g(e,t,n,i,o){for(var r,a=[],s=0,l=e.length,c=null!=t;l>s;s++)(r=e[s])&&(!n||n(r,i,o))&&(a.push(r),c&&t.push(s));return a}function v(e,t,n,o,r,a){return o&&!o[B]&&(o=v(o)),r&&!r[B]&&(r=v(r,a)),i(function(i,a,s,l){var c,d,u,p=[],f=[],h=a.length,v=i||m(t||"*",s.nodeType?[s]:s,[]),y=!e||!i&&t?v:g(v,p,e,s,l),b=n?r||(i?e:h||o)?[]:a:y;if(n&&n(y,b,s,l),o)for(c=g(b,f),o(c,[],s,l),d=c.length;d--;)(u=c[d])&&(b[f[d]]=!(y[f[d]]=u));if(i){if(r||e){if(r){for(c=[],d=b.length;d--;)(u=b[d])&&c.push(y[d]=u);r(null,b=[],c,l)}for(d=b.length;d--;)(u=b[d])&&(c=r?tt.call(i,u):p[d])>-1&&(i[c]=!(a[c]=u))}}else b=g(b===a?b.splice(h,b.length):b),r?r(null,a,b,l):Z.apply(a,b)})}function y(e){for(var t,n,i,o=e.length,r=x.relative[e[0].type],a=r||x.relative[" "],s=r?1:0,l=f(function(e){return e===t},a,!0),c=f(function(e){return tt.call(t,e)>-1},a,!0),d=[function(e,n,i){return!r&&(i||n!==D)||((t=n).nodeType?l(e,n,i):c(e,n,i))}];o>s;s++)if(n=x.relative[e[s].type])d=[f(h(d),n)];else{if(n=x.filter[e[s].type].apply(null,e[s].matches),n[B]){for(i=++s;o>i&&!x.relative[e[i].type];i++);return v(s>1&&h(d),s>1&&p(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(lt,"$1"),n,i>s&&y(e.slice(s,i)),o>i&&y(e=e.slice(i)),o>i&&p(e))}d.push(n)}return h(d)}function b(e,n){var o=n.length>0,r=e.length>0,a=function(i,a,s,l,c){var d,u,p,f=0,h="0",m=i&&[],v=[],y=D,b=i||r&&x.find.TAG("*",c),w=z+=null==y?1:Math.random()||.1,_=b.length;for(c&&(D=a!==j&&a);h!==_&&null!=(d=b[h]);h++){if(r&&d){for(u=0;p=e[u++];)if(p(d,a,s)){l.push(d);break}c&&(z=w)}o&&((d=!p&&d)&&f--,i&&m.push(d))}if(f+=h,o&&h!==f){for(u=0;p=n[u++];)p(m,v,a,s);if(i){if(f>0)for(;h--;)m[h]||v[h]||(v[h]=Q.call(l));v=g(v)}Z.apply(l,v),c&&!i&&v.length>0&&f+n.length>1&&t.uniqueSort(l)}return c&&(z=w,D=y),m};return o?i(a):a}var w,_,x,C,T,k,E,N,D,S,I,O,j,$,M,A,L,P,H,B="sizzle"+-new Date,F=e.document,z=0,R=0,q=n(),W=n(),Y=n(),V=function(e,t){return e===t&&(I=!0),0},X="undefined",U=1<<31,G={}.hasOwnProperty,K=[],Q=K.pop,J=K.push,Z=K.push,et=K.slice,tt=K.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},nt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",it="[\\x20\\t\\r\\n\\f]",ot="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",rt=ot.replace("w","w#"),at="\\["+it+"*("+ot+")(?:"+it+"*([*^$|!~]?=)"+it+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+rt+"))|)"+it+"*\\]",st=":("+ot+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+at+")*)|.*)\\)|)",lt=new RegExp("^"+it+"+|((?:^|[^\\\\])(?:\\\\.)*)"+it+"+$","g"),ct=new RegExp("^"+it+"*,"+it+"*"),dt=new RegExp("^"+it+"*([>+~]|"+it+")"+it+"*"),ut=new RegExp("="+it+"*([^\\]'\"]*?)"+it+"*\\]","g"),pt=new RegExp(st),ft=new RegExp("^"+rt+"$"),ht={ID:new RegExp("^#("+ot+")"),CLASS:new RegExp("^\\.("+ot+")"),TAG:new RegExp("^("+ot.replace("w","w*")+")"),ATTR:new RegExp("^"+at),PSEUDO:new RegExp("^"+st),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+it+"*(even|odd|(([+-]|)(\\d*)n|)"+it+"*(?:([+-]|)"+it+"*(\\d+)|))"+it+"*\\)|)","i"),bool:new RegExp("^(?:"+nt+")$","i"),needsContext:new RegExp("^"+it+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+it+"*((?:-\\d)?\\d*)"+it+"*\\)|)(?=[^-]|$)","i")},mt=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,vt=/^[^{]+\{\s*\[native \w/,yt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,bt=/[+~]/,wt=/'|\\/g,_t=new RegExp("\\\\([\\da-f]{1,6}"+it+"?|("+it+")|.)","ig"),xt=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)};try{Z.apply(K=et.call(F.childNodes),F.childNodes),K[F.childNodes.length].nodeType}catch(Ct){Z={apply:K.length?function(e,t){J.apply(e,et.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}_=t.support={},T=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},O=t.setDocument=function(e){var t,n=e?e.ownerDocument||e:F,i=n.defaultView;return n!==j&&9===n.nodeType&&n.documentElement?(j=n,$=n.documentElement,M=!T(n),i&&i!==i.top&&(i.addEventListener?i.addEventListener("unload",function(){O()},!1):i.attachEvent&&i.attachEvent("onunload",function(){O()})),_.attributes=o(function(e){return e.className="i",!e.getAttribute("className")}),_.getElementsByTagName=o(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),_.getElementsByClassName=vt.test(n.getElementsByClassName)&&o(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),_.getById=o(function(e){return $.appendChild(e).id=B,!n.getElementsByName||!n.getElementsByName(B).length}),_.getById?(x.find.ID=function(e,t){if(typeof t.getElementById!==X&&M){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},x.filter.ID=function(e){var t=e.replace(_t,xt);return function(e){return e.getAttribute("id")===t}}):(delete x.find.ID,x.filter.ID=function(e){var t=e.replace(_t,xt);return function(e){var n=typeof e.getAttributeNode!==X&&e.getAttributeNode("id");return n&&n.value===t}}),x.find.TAG=_.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==X?t.getElementsByTagName(e):void 0}:function(e,t){var n,i=[],o=0,r=t.getElementsByTagName(e);if("*"===e){for(;n=r[o++];)1===n.nodeType&&i.push(n);return i}return r},x.find.CLASS=_.getElementsByClassName&&function(e,t){return typeof t.getElementsByClassName!==X&&M?t.getElementsByClassName(e):void 0},L=[],A=[],(_.qsa=vt.test(n.querySelectorAll))&&(o(function(e){e.innerHTML="<select msallowclip=''><option selected=''></option></select>",e.querySelectorAll("[msallowclip^='']").length&&A.push("[*^$]="+it+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||A.push("\\["+it+"*(?:value|"+nt+")"),e.querySelectorAll(":checked").length||A.push(":checked")}),o(function(e){var t=n.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&A.push("name"+it+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||A.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),A.push(",.*:")})),(_.matchesSelector=vt.test(P=$.matches||$.webkitMatchesSelector||$.mozMatchesSelector||$.oMatchesSelector||$.msMatchesSelector))&&o(function(e){_.disconnectedMatch=P.call(e,"div"),P.call(e,"[s!='']:x"),L.push("!=",st)}),A=A.length&&new RegExp(A.join("|")),L=L.length&&new RegExp(L.join("|")),t=vt.test($.compareDocumentPosition),H=t||vt.test($.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},V=t?function(e,t){if(e===t)return I=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i?i:(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&i||!_.sortDetached&&t.compareDocumentPosition(e)===i?e===n||e.ownerDocument===F&&H(F,e)?-1:t===n||t.ownerDocument===F&&H(F,t)?1:S?tt.call(S,e)-tt.call(S,t):0:4&i?-1:1)}:function(e,t){if(e===t)return I=!0,0;var i,o=0,r=e.parentNode,s=t.parentNode,l=[e],c=[t];if(!r||!s)return e===n?-1:t===n?1:r?-1:s?1:S?tt.call(S,e)-tt.call(S,t):0;if(r===s)return a(e,t);for(i=e;i=i.parentNode;)l.unshift(i);for(i=t;i=i.parentNode;)c.unshift(i);for(;l[o]===c[o];)o++;return o?a(l[o],c[o]):l[o]===F?-1:c[o]===F?1:0},n):j},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==j&&O(e),n=n.replace(ut,"='$1']"),!(!_.matchesSelector||!M||L&&L.test(n)||A&&A.test(n)))try{var i=P.call(e,n);if(i||_.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(o){}return t(n,j,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==j&&O(e),H(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==j&&O(e);var n=x.attrHandle[t.toLowerCase()],i=n&&G.call(x.attrHandle,t.toLowerCase())?n(e,t,!M):void 0;return void 0!==i?i:_.attributes||!M?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],i=0,o=0;if(I=!_.detectDuplicates,S=!_.sortStable&&e.slice(0),e.sort(V),I){for(;t=e[o++];)t===e[o]&&(i=n.push(o));for(;i--;)e.splice(n[i],1)}return S=null,e},C=t.getText=function(e){var t,n="",i=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=C(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[i++];)n+=C(t);return n},x=t.selectors={cacheLength:50,createPseudo:i,match:ht,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(_t,xt),e[3]=(e[3]||e[4]||e[5]||"").replace(_t,xt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return ht.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&pt.test(n)&&(t=k(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(_t,xt).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=q[e+" "];return t||(t=new RegExp("(^|"+it+")"+e+"("+it+"|$)"))&&q(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==X&&e.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(o){var r=t.attr(o,e);return null==r?"!="===n:n?(r+="","="===n?r===i:"!="===n?r!==i:"^="===n?i&&0===r.indexOf(i):"*="===n?i&&r.indexOf(i)>-1:"$="===n?i&&r.slice(-i.length)===i:"~="===n?(" "+r+" ").indexOf(i)>-1:"|="===n?r===i||r.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(e,t,n,i,o){var r="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===o?function(e){return!!e.parentNode}:function(t,n,l){var c,d,u,p,f,h,m=r!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!l&&!s;if(g){if(r){for(;m;){for(u=t;u=u[m];)if(s?u.nodeName.toLowerCase()===v:1===u.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?g.firstChild:g.lastChild],a&&y){for(d=g[B]||(g[B]={}),c=d[e]||[],f=c[0]===z&&c[1],p=c[0]===z&&c[2],u=f&&g.childNodes[f];u=++f&&u&&u[m]||(p=f=0)||h.pop();)if(1===u.nodeType&&++p&&u===t){d[e]=[z,f,p];break}}else if(y&&(c=(t[B]||(t[B]={}))[e])&&c[0]===z)p=c[1];else for(;(u=++f&&u&&u[m]||(p=f=0)||h.pop())&&((s?u.nodeName.toLowerCase()!==v:1!==u.nodeType)||!++p||(y&&((u[B]||(u[B]={}))[e]=[z,p]),u!==t)););return p-=o,p===i||p%i===0&&p/i>=0}}},PSEUDO:function(e,n){var o,r=x.pseudos[e]||x.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return r[B]?r(n):r.length>1?(o=[e,e,"",n],x.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){for(var i,o=r(e,n),a=o.length;a--;)i=tt.call(e,o[a]),e[i]=!(t[i]=o[a])}):function(e){return r(e,0,o)}):r}},pseudos:{not:i(function(e){var t=[],n=[],o=E(e.replace(lt,"$1"));return o[B]?i(function(e,t,n,i){for(var r,a=o(e,null,i,[]),s=e.length;s--;)(r=a[s])&&(e[s]=!(t[s]=r))}):function(e,i,r){return t[0]=e,o(t,null,r,n),!n.pop()}}),has:i(function(e){return function(n){return t(e,n).length>0}}),contains:i(function(e){return function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:i(function(e){return ft.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(_t,xt).toLowerCase(),function(t){var n;do if(n=M?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");
while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===$},focus:function(e){return e===j.activeElement&&(!j.hasFocus||j.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!x.pseudos.empty(e)},header:function(e){return gt.test(e.nodeName)},input:function(e){return mt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,n){return[0>n?n+t:n]}),even:c(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:c(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:c(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:c(function(e,t,n){for(var i=0>n?n+t:n;++i<t;)e.push(i);return e})}},x.pseudos.nth=x.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[w]=s(w);for(w in{submit:!0,reset:!0})x.pseudos[w]=l(w);return u.prototype=x.filters=x.pseudos,x.setFilters=new u,k=t.tokenize=function(e,n){var i,o,r,a,s,l,c,d=W[e+" "];if(d)return n?0:d.slice(0);for(s=e,l=[],c=x.preFilter;s;){(!i||(o=ct.exec(s)))&&(o&&(s=s.slice(o[0].length)||s),l.push(r=[])),i=!1,(o=dt.exec(s))&&(i=o.shift(),r.push({value:i,type:o[0].replace(lt," ")}),s=s.slice(i.length));for(a in x.filter)!(o=ht[a].exec(s))||c[a]&&!(o=c[a](o))||(i=o.shift(),r.push({value:i,type:a,matches:o}),s=s.slice(i.length));if(!i)break}return n?s.length:s?t.error(e):W(e,l).slice(0)},E=t.compile=function(e,t){var n,i=[],o=[],r=Y[e+" "];if(!r){for(t||(t=k(e)),n=t.length;n--;)r=y(t[n]),r[B]?i.push(r):o.push(r);r=Y(e,b(o,i)),r.selector=e}return r},N=t.select=function(e,t,n,i){var o,r,a,s,l,c="function"==typeof e&&e,u=!i&&k(e=c.selector||e);if(n=n||[],1===u.length){if(r=u[0]=u[0].slice(0),r.length>2&&"ID"===(a=r[0]).type&&_.getById&&9===t.nodeType&&M&&x.relative[r[1].type]){if(t=(x.find.ID(a.matches[0].replace(_t,xt),t)||[])[0],!t)return n;c&&(t=t.parentNode),e=e.slice(r.shift().value.length)}for(o=ht.needsContext.test(e)?0:r.length;o--&&(a=r[o],!x.relative[s=a.type]);)if((l=x.find[s])&&(i=l(a.matches[0].replace(_t,xt),bt.test(r[0].type)&&d(t.parentNode)||t))){if(r.splice(o,1),e=i.length&&p(r),!e)return Z.apply(n,i),n;break}}return(c||E(e,u))(i,t,!M,n,bt.test(e)&&d(t.parentNode)||t),n},_.sortStable=B.split("").sort(V).join("")===B,_.detectDuplicates=!!I,O(),_.sortDetached=o(function(e){return 1&e.compareDocumentPosition(j.createElement("div"))}),o(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||r("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),_.attributes&&o(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||r("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),o(function(e){return null==e.getAttribute("disabled")})||r(nt,function(e,t,n){var i;return n?void 0:e[t]===!0?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),t}(e);ot.find=ct,ot.expr=ct.selectors,ot.expr[":"]=ot.expr.pseudos,ot.unique=ct.uniqueSort,ot.text=ct.getText,ot.isXMLDoc=ct.isXML,ot.contains=ct.contains;var dt=ot.expr.match.needsContext,ut=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,pt=/^.[^:#\[\.,]*$/;ot.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?ot.find.matchesSelector(i,e)?[i]:[]:ot.find.matches(e,ot.grep(t,function(e){return 1===e.nodeType}))},ot.fn.extend({find:function(e){var t,n=[],i=this,o=i.length;if("string"!=typeof e)return this.pushStack(ot(e).filter(function(){for(t=0;o>t;t++)if(ot.contains(i[t],this))return!0}));for(t=0;o>t;t++)ot.find(e,i[t],n);return n=this.pushStack(o>1?ot.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(i(this,e||[],!1))},not:function(e){return this.pushStack(i(this,e||[],!0))},is:function(e){return!!i(this,"string"==typeof e&&dt.test(e)?ot(e):e||[],!1).length}});var ft,ht=e.document,mt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,gt=ot.fn.init=function(e,t){var n,i;if(!e)return this;if("string"==typeof e){if(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:mt.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||ft).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof ot?t[0]:t,ot.merge(this,ot.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:ht,!0)),ut.test(n[1])&&ot.isPlainObject(t))for(n in t)ot.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}if(i=ht.getElementById(n[2]),i&&i.parentNode){if(i.id!==n[2])return ft.find(e);this.length=1,this[0]=i}return this.context=ht,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):ot.isFunction(e)?"undefined"!=typeof ft.ready?ft.ready(e):e(ot):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),ot.makeArray(e,this))};gt.prototype=ot.fn,ft=ot(ht);var vt=/^(?:parents|prev(?:Until|All))/,yt={children:!0,contents:!0,next:!0,prev:!0};ot.extend({dir:function(e,t,n){for(var i=[],o=e[t];o&&9!==o.nodeType&&(void 0===n||1!==o.nodeType||!ot(o).is(n));)1===o.nodeType&&i.push(o),o=o[t];return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),ot.fn.extend({has:function(e){var t,n=ot(e,this),i=n.length;return this.filter(function(){for(t=0;i>t;t++)if(ot.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,i=0,o=this.length,r=[],a=dt.test(e)||"string"!=typeof e?ot(e,t||this.context):0;o>i;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&ot.find.matchesSelector(n,e))){r.push(n);break}return this.pushStack(r.length>1?ot.unique(r):r)},index:function(e){return e?"string"==typeof e?ot.inArray(this[0],ot(e)):ot.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(ot.unique(ot.merge(this.get(),ot(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ot.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ot.dir(e,"parentNode")},parentsUntil:function(e,t,n){return ot.dir(e,"parentNode",n)},next:function(e){return o(e,"nextSibling")},prev:function(e){return o(e,"previousSibling")},nextAll:function(e){return ot.dir(e,"nextSibling")},prevAll:function(e){return ot.dir(e,"previousSibling")},nextUntil:function(e,t,n){return ot.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return ot.dir(e,"previousSibling",n)},siblings:function(e){return ot.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return ot.sibling(e.firstChild)},contents:function(e){return ot.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:ot.merge([],e.childNodes)}},function(e,t){ot.fn[e]=function(n,i){var o=ot.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(o=ot.filter(i,o)),this.length>1&&(yt[e]||(o=ot.unique(o)),vt.test(e)&&(o=o.reverse())),this.pushStack(o)}});var bt=/\S+/g,wt={};ot.Callbacks=function(e){e="string"==typeof e?wt[e]||r(e):ot.extend({},e);var t,n,i,o,a,s,l=[],c=!e.once&&[],d=function(r){for(n=e.memory&&r,i=!0,a=s||0,s=0,o=l.length,t=!0;l&&o>a;a++)if(l[a].apply(r[0],r[1])===!1&&e.stopOnFalse){n=!1;break}t=!1,l&&(c?c.length&&d(c.shift()):n?l=[]:u.disable())},u={add:function(){if(l){var i=l.length;!function r(t){ot.each(t,function(t,n){var i=ot.type(n);"function"===i?e.unique&&u.has(n)||l.push(n):n&&n.length&&"string"!==i&&r(n)})}(arguments),t?o=l.length:n&&(s=i,d(n))}return this},remove:function(){return l&&ot.each(arguments,function(e,n){for(var i;(i=ot.inArray(n,l,i))>-1;)l.splice(i,1),t&&(o>=i&&o--,a>=i&&a--)}),this},has:function(e){return e?ot.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],o=0,this},disable:function(){return l=c=n=void 0,this},disabled:function(){return!l},lock:function(){return c=void 0,n||u.disable(),this},locked:function(){return!c},fireWith:function(e,n){return!l||i&&!c||(n=n||[],n=[e,n.slice?n.slice():n],t?c.push(n):d(n)),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!i}};return u},ot.extend({Deferred:function(e){var t=[["resolve","done",ot.Callbacks("once memory"),"resolved"],["reject","fail",ot.Callbacks("once memory"),"rejected"],["notify","progress",ot.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var e=arguments;return ot.Deferred(function(n){ot.each(t,function(t,r){var a=ot.isFunction(e[t])&&e[t];o[r[1]](function(){var e=a&&a.apply(this,arguments);e&&ot.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[r[0]+"With"](this===i?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?ot.extend(e,i):i}},o={};return i.pipe=i.then,ot.each(t,function(e,r){var a=r[2],s=r[3];i[r[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),o[r[0]]=function(){return o[r[0]+"With"](this===o?i:this,arguments),this},o[r[0]+"With"]=a.fireWith}),i.promise(o),e&&e.call(o,o),o},when:function(e){var t,n,i,o=0,r=G.call(arguments),a=r.length,s=1!==a||e&&ot.isFunction(e.promise)?a:0,l=1===s?e:ot.Deferred(),c=function(e,n,i){return function(o){n[e]=this,i[e]=arguments.length>1?G.call(arguments):o,i===t?l.notifyWith(n,i):--s||l.resolveWith(n,i)}};if(a>1)for(t=new Array(a),n=new Array(a),i=new Array(a);a>o;o++)r[o]&&ot.isFunction(r[o].promise)?r[o].promise().done(c(o,i,r)).fail(l.reject).progress(c(o,n,t)):--s;return s||l.resolveWith(i,r),l.promise()}});var _t;ot.fn.ready=function(e){return ot.ready.promise().done(e),this},ot.extend({isReady:!1,readyWait:1,holdReady:function(e){e?ot.readyWait++:ot.ready(!0)},ready:function(e){if(e===!0?!--ot.readyWait:!ot.isReady){if(!ht.body)return setTimeout(ot.ready);ot.isReady=!0,e!==!0&&--ot.readyWait>0||(_t.resolveWith(ht,[ot]),ot.fn.triggerHandler&&(ot(ht).triggerHandler("ready"),ot(ht).off("ready")))}}}),ot.ready.promise=function(t){if(!_t)if(_t=ot.Deferred(),"complete"===ht.readyState)setTimeout(ot.ready);else if(ht.addEventListener)ht.addEventListener("DOMContentLoaded",s,!1),e.addEventListener("load",s,!1);else{ht.attachEvent("onreadystatechange",s),e.attachEvent("onload",s);var n=!1;try{n=null==e.frameElement&&ht.documentElement}catch(i){}n&&n.doScroll&&!function o(){if(!ot.isReady){try{n.doScroll("left")}catch(e){return setTimeout(o,50)}a(),ot.ready()}}()}return _t.promise(t)};var xt,Ct="undefined";for(xt in ot(nt))break;nt.ownLast="0"!==xt,nt.inlineBlockNeedsLayout=!1,ot(function(){var e,t,n,i;n=ht.getElementsByTagName("body")[0],n&&n.style&&(t=ht.createElement("div"),i=ht.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(t),typeof t.style.zoom!==Ct&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",nt.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(i))}),function(){var e=ht.createElement("div");if(null==nt.deleteExpando){nt.deleteExpando=!0;try{delete e.test}catch(t){nt.deleteExpando=!1}}e=null}(),ot.acceptData=function(e){var t=ot.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return 1!==n&&9!==n?!1:!t||t!==!0&&e.getAttribute("classid")===t};var Tt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,kt=/([A-Z])/g;ot.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?ot.cache[e[ot.expando]]:e[ot.expando],!!e&&!c(e)},data:function(e,t,n){return d(e,t,n)},removeData:function(e,t){return u(e,t)},_data:function(e,t,n){return d(e,t,n,!0)},_removeData:function(e,t){return u(e,t,!0)}}),ot.fn.extend({data:function(e,t){var n,i,o,r=this[0],a=r&&r.attributes;if(void 0===e){if(this.length&&(o=ot.data(r),1===r.nodeType&&!ot._data(r,"parsedAttrs"))){for(n=a.length;n--;)a[n]&&(i=a[n].name,0===i.indexOf("data-")&&(i=ot.camelCase(i.slice(5)),l(r,i,o[i])));ot._data(r,"parsedAttrs",!0)}return o}return"object"==typeof e?this.each(function(){ot.data(this,e)}):arguments.length>1?this.each(function(){ot.data(this,e,t)}):r?l(r,e,ot.data(r,e)):void 0},removeData:function(e){return this.each(function(){ot.removeData(this,e)})}}),ot.extend({queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=ot._data(e,t),n&&(!i||ot.isArray(n)?i=ot._data(e,t,ot.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=ot.queue(e,t),i=n.length,o=n.shift(),r=ot._queueHooks(e,t),a=function(){ot.dequeue(e,t)};"inprogress"===o&&(o=n.shift(),i--),o&&("fx"===t&&n.unshift("inprogress"),delete r.stop,o.call(e,a,r)),!i&&r&&r.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ot._data(e,n)||ot._data(e,n,{empty:ot.Callbacks("once memory").add(function(){ot._removeData(e,t+"queue"),ot._removeData(e,n)})})}}),ot.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?ot.queue(this[0],e):void 0===t?this:this.each(function(){var n=ot.queue(this,e,t);ot._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&ot.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ot.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,o=ot.Deferred(),r=this,a=this.length,s=function(){--i||o.resolveWith(r,[r])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)n=ot._data(r[a],e+"queueHooks"),n&&n.empty&&(i++,n.empty.add(s));return s(),o.promise(t)}});var Et=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Nt=["Top","Right","Bottom","Left"],Dt=function(e,t){return e=t||e,"none"===ot.css(e,"display")||!ot.contains(e.ownerDocument,e)},St=ot.access=function(e,t,n,i,o,r,a){var s=0,l=e.length,c=null==n;if("object"===ot.type(n)){o=!0;for(s in n)ot.access(e,t,s,n[s],!0,r,a)}else if(void 0!==i&&(o=!0,ot.isFunction(i)||(a=!0),c&&(a?(t.call(e,i),t=null):(c=t,t=function(e,t,n){return c.call(ot(e),n)})),t))for(;l>s;s++)t(e[s],n,a?i:i.call(e[s],s,t(e[s],n)));return o?e:c?t.call(e):l?t(e[0],n):r},It=/^(?:checkbox|radio)$/i;!function(){var e=ht.createElement("input"),t=ht.createElement("div"),n=ht.createDocumentFragment();if(t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",nt.leadingWhitespace=3===t.firstChild.nodeType,nt.tbody=!t.getElementsByTagName("tbody").length,nt.htmlSerialize=!!t.getElementsByTagName("link").length,nt.html5Clone="<:nav></:nav>"!==ht.createElement("nav").cloneNode(!0).outerHTML,e.type="checkbox",e.checked=!0,n.appendChild(e),nt.appendChecked=e.checked,t.innerHTML="<textarea>x</textarea>",nt.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,n.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",nt.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,nt.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){nt.noCloneEvent=!1}),t.cloneNode(!0).click()),null==nt.deleteExpando){nt.deleteExpando=!0;try{delete t.test}catch(i){nt.deleteExpando=!1}}}(),function(){var t,n,i=ht.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})n="on"+t,(nt[t+"Bubbles"]=n in e)||(i.setAttribute(n,"t"),nt[t+"Bubbles"]=i.attributes[n].expando===!1);i=null}();var Ot=/^(?:input|select|textarea)$/i,jt=/^key/,$t=/^(?:mouse|pointer|contextmenu)|click/,Mt=/^(?:focusinfocus|focusoutblur)$/,At=/^([^.]*)(?:\.(.+)|)$/;ot.event={global:{},add:function(e,t,n,i,o){var r,a,s,l,c,d,u,p,f,h,m,g=ot._data(e);if(g){for(n.handler&&(l=n,n=l.handler,o=l.selector),n.guid||(n.guid=ot.guid++),(a=g.events)||(a=g.events={}),(d=g.handle)||(d=g.handle=function(e){return typeof ot===Ct||e&&ot.event.triggered===e.type?void 0:ot.event.dispatch.apply(d.elem,arguments)},d.elem=e),t=(t||"").match(bt)||[""],s=t.length;s--;)r=At.exec(t[s])||[],f=m=r[1],h=(r[2]||"").split(".").sort(),f&&(c=ot.event.special[f]||{},f=(o?c.delegateType:c.bindType)||f,c=ot.event.special[f]||{},u=ot.extend({type:f,origType:m,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&ot.expr.match.needsContext.test(o),namespace:h.join(".")},l),(p=a[f])||(p=a[f]=[],p.delegateCount=0,c.setup&&c.setup.call(e,i,h,d)!==!1||(e.addEventListener?e.addEventListener(f,d,!1):e.attachEvent&&e.attachEvent("on"+f,d))),c.add&&(c.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),o?p.splice(p.delegateCount++,0,u):p.push(u),ot.event.global[f]=!0);e=null}},remove:function(e,t,n,i,o){var r,a,s,l,c,d,u,p,f,h,m,g=ot.hasData(e)&&ot._data(e);if(g&&(d=g.events)){for(t=(t||"").match(bt)||[""],c=t.length;c--;)if(s=At.exec(t[c])||[],f=m=s[1],h=(s[2]||"").split(".").sort(),f){for(u=ot.event.special[f]||{},f=(i?u.delegateType:u.bindType)||f,p=d[f]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=r=p.length;r--;)a=p[r],!o&&m!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||i&&i!==a.selector&&("**"!==i||!a.selector)||(p.splice(r,1),a.selector&&p.delegateCount--,u.remove&&u.remove.call(e,a));l&&!p.length&&(u.teardown&&u.teardown.call(e,h,g.handle)!==!1||ot.removeEvent(e,f,g.handle),delete d[f])}else for(f in d)ot.event.remove(e,f+t[c],n,i,!0);ot.isEmptyObject(d)&&(delete g.handle,ot._removeData(e,"events"))}},trigger:function(t,n,i,o){var r,a,s,l,c,d,u,p=[i||ht],f=tt.call(t,"type")?t.type:t,h=tt.call(t,"namespace")?t.namespace.split("."):[];if(s=d=i=i||ht,3!==i.nodeType&&8!==i.nodeType&&!Mt.test(f+ot.event.triggered)&&(f.indexOf(".")>=0&&(h=f.split("."),f=h.shift(),h.sort()),a=f.indexOf(":")<0&&"on"+f,t=t[ot.expando]?t:new ot.Event(f,"object"==typeof t&&t),t.isTrigger=o?2:3,t.namespace=h.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:ot.makeArray(n,[t]),c=ot.event.special[f]||{},o||!c.trigger||c.trigger.apply(i,n)!==!1)){if(!o&&!c.noBubble&&!ot.isWindow(i)){for(l=c.delegateType||f,Mt.test(l+f)||(s=s.parentNode);s;s=s.parentNode)p.push(s),d=s;d===(i.ownerDocument||ht)&&p.push(d.defaultView||d.parentWindow||e)}for(u=0;(s=p[u++])&&!t.isPropagationStopped();)t.type=u>1?l:c.bindType||f,r=(ot._data(s,"events")||{})[t.type]&&ot._data(s,"handle"),r&&r.apply(s,n),r=a&&s[a],r&&r.apply&&ot.acceptData(s)&&(t.result=r.apply(s,n),t.result===!1&&t.preventDefault());if(t.type=f,!o&&!t.isDefaultPrevented()&&(!c._default||c._default.apply(p.pop(),n)===!1)&&ot.acceptData(i)&&a&&i[f]&&!ot.isWindow(i)){d=i[a],d&&(i[a]=null),ot.event.triggered=f;try{i[f]()}catch(m){}ot.event.triggered=void 0,d&&(i[a]=d)}return t.result}},dispatch:function(e){e=ot.event.fix(e);var t,n,i,o,r,a=[],s=G.call(arguments),l=(ot._data(this,"events")||{})[e.type]||[],c=ot.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){for(a=ot.event.handlers.call(this,e,l),t=0;(o=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,r=0;(i=o.handlers[r++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(i.namespace))&&(e.handleObj=i,e.data=i.data,n=((ot.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,s),void 0!==n&&(e.result=n)===!1&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,o,r,a=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==e.type)){for(o=[],r=0;s>r;r++)i=t[r],n=i.selector+" ",void 0===o[n]&&(o[n]=i.needsContext?ot(n,this).index(l)>=0:ot.find(n,this,null,[l]).length),o[n]&&o.push(i);o.length&&a.push({elem:l,handlers:o})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},fix:function(e){if(e[ot.expando])return e;var t,n,i,o=e.type,r=e,a=this.fixHooks[o];for(a||(this.fixHooks[o]=a=$t.test(o)?this.mouseHooks:jt.test(o)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,e=new ot.Event(r),t=i.length;t--;)n=i[t],e[n]=r[n];return e.target||(e.target=r.srcElement||ht),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,r):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,o,r=t.button,a=t.fromElement;return null==e.pageX&&null!=t.clientX&&(i=e.target.ownerDocument||ht,o=i.documentElement,n=i.body,e.pageX=t.clientX+(o&&o.scrollLeft||n&&n.scrollLeft||0)-(o&&o.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(o&&o.scrollTop||n&&n.scrollTop||0)-(o&&o.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?t.toElement:a),e.which||void 0===r||(e.which=1&r?1:2&r?3:4&r?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==h()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===h()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return ot.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return ot.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var o=ot.extend(new ot.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?ot.event.trigger(o,null,t):ot.event.dispatch.call(t,o),o.isDefaultPrevented()&&n.preventDefault()}},ot.removeEvent=ht.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var i="on"+t;e.detachEvent&&(typeof e[i]===Ct&&(e[i]=null),e.detachEvent(i,n))},ot.Event=function(e,t){return this instanceof ot.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?p:f):this.type=e,t&&ot.extend(this,t),this.timeStamp=e&&e.timeStamp||ot.now(),void(this[ot.expando]=!0)):new ot.Event(e,t)},ot.Event.prototype={isDefaultPrevented:f,isPropagationStopped:f,isImmediatePropagationStopped:f,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=p,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=p,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=p,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},ot.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){ot.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,o=e.relatedTarget,r=e.handleObj;return(!o||o!==i&&!ot.contains(i,o))&&(e.type=r.origType,n=r.handler.apply(this,arguments),e.type=t),n}}}),nt.submitBubbles||(ot.event.special.submit={setup:function(){return ot.nodeName(this,"form")?!1:void ot.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=ot.nodeName(t,"input")||ot.nodeName(t,"button")?t.form:void 0;n&&!ot._data(n,"submitBubbles")&&(ot.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),ot._data(n,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&ot.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return ot.nodeName(this,"form")?!1:void ot.event.remove(this,"._submit")}}),nt.changeBubbles||(ot.event.special.change={setup:function(){return Ot.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(ot.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),ot.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),ot.event.simulate("change",this,e,!0)})),!1):void ot.event.add(this,"beforeactivate._change",function(e){var t=e.target;Ot.test(t.nodeName)&&!ot._data(t,"changeBubbles")&&(ot.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||ot.event.simulate("change",this.parentNode,e,!0)}),ot._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return ot.event.remove(this,"._change"),!Ot.test(this.nodeName)}}),nt.focusinBubbles||ot.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){ot.event.simulate(t,e.target,ot.event.fix(e),!0)};ot.event.special[t]={setup:function(){var i=this.ownerDocument||this,o=ot._data(i,t);o||i.addEventListener(e,n,!0),ot._data(i,t,(o||0)+1)},teardown:function(){var i=this.ownerDocument||this,o=ot._data(i,t)-1;o?ot._data(i,t,o):(i.removeEventListener(e,n,!0),ot._removeData(i,t))}}}),ot.fn.extend({on:function(e,t,n,i,o){var r,a;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(r in e)this.on(r,t,n,e[r],o);return this}if(null==n&&null==i?(i=t,n=t=void 0):null==i&&("string"==typeof t?(i=n,n=void 0):(i=n,n=t,t=void 0)),i===!1)i=f;else if(!i)return this;return 1===o&&(a=i,i=function(e){return ot().off(e),a.apply(this,arguments)},i.guid=a.guid||(a.guid=ot.guid++)),this.each(function(){ot.event.add(this,e,i,n,t)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,t,n){var i,o;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,ot(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=f),this.each(function(){ot.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){ot.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?ot.event.trigger(e,t,n,!0):void 0}});var Lt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Pt=/ jQuery\d+="(?:null|\d+)"/g,Ht=new RegExp("<(?:"+Lt+")[\\s/>]","i"),Bt=/^\s+/,Ft=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,zt=/<([\w:]+)/,Rt=/<tbody/i,qt=/<|&#?\w+;/,Wt=/<(?:script|style|link)/i,Yt=/checked\s*(?:[^=]|=\s*.checked.)/i,Vt=/^$|\/(?:java|ecma)script/i,Xt=/^true\/(.*)/,Ut=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Gt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:nt.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Kt=m(ht),Qt=Kt.appendChild(ht.createElement("div"));Gt.optgroup=Gt.option,Gt.tbody=Gt.tfoot=Gt.colgroup=Gt.caption=Gt.thead,Gt.th=Gt.td,ot.extend({clone:function(e,t,n){var i,o,r,a,s,l=ot.contains(e.ownerDocument,e);if(nt.html5Clone||ot.isXMLDoc(e)||!Ht.test("<"+e.nodeName+">")?r=e.cloneNode(!0):(Qt.innerHTML=e.outerHTML,Qt.removeChild(r=Qt.firstChild)),!(nt.noCloneEvent&&nt.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ot.isXMLDoc(e)))for(i=g(r),s=g(e),a=0;null!=(o=s[a]);++a)i[a]&&C(o,i[a]);if(t)if(n)for(s=s||g(e),i=i||g(r),a=0;null!=(o=s[a]);a++)x(o,i[a]);else x(e,r);return i=g(r,"script"),i.length>0&&_(i,!l&&g(e,"script")),i=s=o=null,r},buildFragment:function(e,t,n,i){for(var o,r,a,s,l,c,d,u=e.length,p=m(t),f=[],h=0;u>h;h++)if(r=e[h],r||0===r)if("object"===ot.type(r))ot.merge(f,r.nodeType?[r]:r);else if(qt.test(r)){for(s=s||p.appendChild(t.createElement("div")),l=(zt.exec(r)||["",""])[1].toLowerCase(),d=Gt[l]||Gt._default,s.innerHTML=d[1]+r.replace(Ft,"<$1></$2>")+d[2],o=d[0];o--;)s=s.lastChild;if(!nt.leadingWhitespace&&Bt.test(r)&&f.push(t.createTextNode(Bt.exec(r)[0])),!nt.tbody)for(r="table"!==l||Rt.test(r)?"<table>"!==d[1]||Rt.test(r)?0:s:s.firstChild,o=r&&r.childNodes.length;o--;)ot.nodeName(c=r.childNodes[o],"tbody")&&!c.childNodes.length&&r.removeChild(c);for(ot.merge(f,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=p.lastChild}else f.push(t.createTextNode(r));for(s&&p.removeChild(s),nt.appendChecked||ot.grep(g(f,"input"),v),h=0;r=f[h++];)if((!i||-1===ot.inArray(r,i))&&(a=ot.contains(r.ownerDocument,r),s=g(p.appendChild(r),"script"),a&&_(s),n))for(o=0;r=s[o++];)Vt.test(r.type||"")&&n.push(r);return s=null,p},cleanData:function(e,t){for(var n,i,o,r,a=0,s=ot.expando,l=ot.cache,c=nt.deleteExpando,d=ot.event.special;null!=(n=e[a]);a++)if((t||ot.acceptData(n))&&(o=n[s],r=o&&l[o])){if(r.events)for(i in r.events)d[i]?ot.event.remove(n,i):ot.removeEvent(n,i,r.handle);l[o]&&(delete l[o],c?delete n[s]:typeof n.removeAttribute!==Ct?n.removeAttribute(s):n[s]=null,U.push(o))}}}),ot.fn.extend({text:function(e){return St(this,function(e){return void 0===e?ot.text(this):this.empty().append((this[0]&&this[0].ownerDocument||ht).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=e?ot.filter(e,this):this,o=0;null!=(n=i[o]);o++)t||1!==n.nodeType||ot.cleanData(g(n)),n.parentNode&&(t&&ot.contains(n.ownerDocument,n)&&_(g(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&ot.cleanData(g(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&ot.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return ot.clone(this,e,t)})},html:function(e){return St(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Pt,""):void 0;if(!("string"!=typeof e||Wt.test(e)||!nt.htmlSerialize&&Ht.test(e)||!nt.leadingWhitespace&&Bt.test(e)||Gt[(zt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Ft,"<$1></$2>");try{for(;i>n;n++)t=this[n]||{},1===t.nodeType&&(ot.cleanData(g(t,!1)),t.innerHTML=e);t=0}catch(o){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,ot.cleanData(g(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=K.apply([],e);var n,i,o,r,a,s,l=0,c=this.length,d=this,u=c-1,p=e[0],f=ot.isFunction(p);if(f||c>1&&"string"==typeof p&&!nt.checkClone&&Yt.test(p))return this.each(function(n){var i=d.eq(n);
f&&(e[0]=p.call(this,n,i.html())),i.domManip(e,t)});if(c&&(s=ot.buildFragment(e,this[0].ownerDocument,!1,this),n=s.firstChild,1===s.childNodes.length&&(s=n),n)){for(r=ot.map(g(s,"script"),b),o=r.length;c>l;l++)i=s,l!==u&&(i=ot.clone(i,!0,!0),o&&ot.merge(r,g(i,"script"))),t.call(this[l],i,l);if(o)for(a=r[r.length-1].ownerDocument,ot.map(r,w),l=0;o>l;l++)i=r[l],Vt.test(i.type||"")&&!ot._data(i,"globalEval")&&ot.contains(a,i)&&(i.src?ot._evalUrl&&ot._evalUrl(i.src):ot.globalEval((i.text||i.textContent||i.innerHTML||"").replace(Ut,"")));s=n=null}return this}}),ot.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ot.fn[e]=function(e){for(var n,i=0,o=[],r=ot(e),a=r.length-1;a>=i;i++)n=i===a?this:this.clone(!0),ot(r[i])[t](n),Q.apply(o,n.get());return this.pushStack(o)}});var Jt,Zt={};!function(){var e;nt.shrinkWrapBlocks=function(){if(null!=e)return e;e=!1;var t,n,i;return n=ht.getElementsByTagName("body")[0],n&&n.style?(t=ht.createElement("div"),i=ht.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(t),typeof t.style.zoom!==Ct&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(ht.createElement("div")).style.width="5px",e=3!==t.offsetWidth),n.removeChild(i),e):void 0}}();var en,tn,nn=/^margin/,on=new RegExp("^("+Et+")(?!px)[a-z%]+$","i"),rn=/^(top|right|bottom|left)$/;e.getComputedStyle?(en=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)},tn=function(e,t,n){var i,o,r,a,s=e.style;return n=n||en(e),a=n?n.getPropertyValue(t)||n[t]:void 0,n&&(""!==a||ot.contains(e.ownerDocument,e)||(a=ot.style(e,t)),on.test(a)&&nn.test(t)&&(i=s.width,o=s.minWidth,r=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=o,s.maxWidth=r)),void 0===a?a:a+""}):ht.documentElement.currentStyle&&(en=function(e){return e.currentStyle},tn=function(e,t,n){var i,o,r,a,s=e.style;return n=n||en(e),a=n?n[t]:void 0,null==a&&s&&s[t]&&(a=s[t]),on.test(a)&&!rn.test(t)&&(i=s.left,o=e.runtimeStyle,r=o&&o.left,r&&(o.left=e.currentStyle.left),s.left="fontSize"===t?"1em":a,a=s.pixelLeft+"px",s.left=i,r&&(o.left=r)),void 0===a?a:a+""||"auto"}),!function(){function t(){var t,n,i,o;n=ht.getElementsByTagName("body")[0],n&&n.style&&(t=ht.createElement("div"),i=ht.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(t),t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",r=a=!1,l=!0,e.getComputedStyle&&(r="1%"!==(e.getComputedStyle(t,null)||{}).top,a="4px"===(e.getComputedStyle(t,null)||{width:"4px"}).width,o=t.appendChild(ht.createElement("div")),o.style.cssText=t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",o.style.marginRight=o.style.width="0",t.style.width="1px",l=!parseFloat((e.getComputedStyle(o,null)||{}).marginRight)),t.innerHTML="<table><tr><td></td><td>t</td></tr></table>",o=t.getElementsByTagName("td"),o[0].style.cssText="margin:0;border:0;padding:0;display:none",s=0===o[0].offsetHeight,s&&(o[0].style.display="",o[1].style.display="none",s=0===o[0].offsetHeight),n.removeChild(i))}var n,i,o,r,a,s,l;n=ht.createElement("div"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",o=n.getElementsByTagName("a")[0],(i=o&&o.style)&&(i.cssText="float:left;opacity:.5",nt.opacity="0.5"===i.opacity,nt.cssFloat=!!i.cssFloat,n.style.backgroundClip="content-box",n.cloneNode(!0).style.backgroundClip="",nt.clearCloneStyle="content-box"===n.style.backgroundClip,nt.boxSizing=""===i.boxSizing||""===i.MozBoxSizing||""===i.WebkitBoxSizing,ot.extend(nt,{reliableHiddenOffsets:function(){return null==s&&t(),s},boxSizingReliable:function(){return null==a&&t(),a},pixelPosition:function(){return null==r&&t(),r},reliableMarginRight:function(){return null==l&&t(),l}}))}(),ot.swap=function(e,t,n,i){var o,r,a={};for(r in t)a[r]=e.style[r],e.style[r]=t[r];o=n.apply(e,i||[]);for(r in t)e.style[r]=a[r];return o};var an=/alpha\([^)]*\)/i,sn=/opacity\s*=\s*([^)]*)/,ln=/^(none|table(?!-c[ea]).+)/,cn=new RegExp("^("+Et+")(.*)$","i"),dn=new RegExp("^([+-])=("+Et+")","i"),un={position:"absolute",visibility:"hidden",display:"block"},pn={letterSpacing:"0",fontWeight:"400"},fn=["Webkit","O","Moz","ms"];ot.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=tn(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":nt.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,r,a,s=ot.camelCase(t),l=e.style;if(t=ot.cssProps[s]||(ot.cssProps[s]=N(l,s)),a=ot.cssHooks[t]||ot.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(o=a.get(e,!1,i))?o:l[t];if(r=typeof n,"string"===r&&(o=dn.exec(n))&&(n=(o[1]+1)*o[2]+parseFloat(ot.css(e,t)),r="number"),null!=n&&n===n&&("number"!==r||ot.cssNumber[s]||(n+="px"),nt.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),!(a&&"set"in a&&void 0===(n=a.set(e,n,i)))))try{l[t]=n}catch(c){}}},css:function(e,t,n,i){var o,r,a,s=ot.camelCase(t);return t=ot.cssProps[s]||(ot.cssProps[s]=N(e.style,s)),a=ot.cssHooks[t]||ot.cssHooks[s],a&&"get"in a&&(r=a.get(e,!0,n)),void 0===r&&(r=tn(e,t,i)),"normal"===r&&t in pn&&(r=pn[t]),""===n||n?(o=parseFloat(r),n===!0||ot.isNumeric(o)?o||0:r):r}}),ot.each(["height","width"],function(e,t){ot.cssHooks[t]={get:function(e,n,i){return n?ln.test(ot.css(e,"display"))&&0===e.offsetWidth?ot.swap(e,un,function(){return O(e,t,i)}):O(e,t,i):void 0},set:function(e,n,i){var o=i&&en(e);return S(e,n,i?I(e,t,i,nt.boxSizing&&"border-box"===ot.css(e,"boxSizing",!1,o),o):0)}}}),nt.opacity||(ot.cssHooks.opacity={get:function(e,t){return sn.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,i=e.currentStyle,o=ot.isNumeric(t)?"alpha(opacity="+100*t+")":"",r=i&&i.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===ot.trim(r.replace(an,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||i&&!i.filter)||(n.filter=an.test(r)?r.replace(an,o):r+" "+o)}}),ot.cssHooks.marginRight=E(nt.reliableMarginRight,function(e,t){return t?ot.swap(e,{display:"inline-block"},tn,[e,"marginRight"]):void 0}),ot.each({margin:"",padding:"",border:"Width"},function(e,t){ot.cssHooks[e+t]={expand:function(n){for(var i=0,o={},r="string"==typeof n?n.split(" "):[n];4>i;i++)o[e+Nt[i]+t]=r[i]||r[i-2]||r[0];return o}},nn.test(e)||(ot.cssHooks[e+t].set=S)}),ot.fn.extend({css:function(e,t){return St(this,function(e,t,n){var i,o,r={},a=0;if(ot.isArray(t)){for(i=en(e),o=t.length;o>a;a++)r[t[a]]=ot.css(e,t[a],!1,i);return r}return void 0!==n?ot.style(e,t,n):ot.css(e,t)},e,t,arguments.length>1)},show:function(){return D(this,!0)},hide:function(){return D(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Dt(this)?ot(this).show():ot(this).hide()})}}),ot.Tween=j,j.prototype={constructor:j,init:function(e,t,n,i,o,r){this.elem=e,this.prop=n,this.easing=o||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=r||(ot.cssNumber[n]?"":"px")},cur:function(){var e=j.propHooks[this.prop];return e&&e.get?e.get(this):j.propHooks._default.get(this)},run:function(e){var t,n=j.propHooks[this.prop];return this.pos=t=this.options.duration?ot.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):j.propHooks._default.set(this),this}},j.prototype.init.prototype=j.prototype,j.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=ot.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){ot.fx.step[e.prop]?ot.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[ot.cssProps[e.prop]]||ot.cssHooks[e.prop])?ot.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},j.propHooks.scrollTop=j.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ot.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},ot.fx=j.prototype.init,ot.fx.step={};var hn,mn,gn=/^(?:toggle|show|hide)$/,vn=new RegExp("^(?:([+-])=|)("+Et+")([a-z%]*)$","i"),yn=/queueHooks$/,bn=[L],wn={"*":[function(e,t){var n=this.createTween(e,t),i=n.cur(),o=vn.exec(t),r=o&&o[3]||(ot.cssNumber[e]?"":"px"),a=(ot.cssNumber[e]||"px"!==r&&+i)&&vn.exec(ot.css(n.elem,e)),s=1,l=20;if(a&&a[3]!==r){r=r||a[3],o=o||[],a=+i||1;do s=s||".5",a/=s,ot.style(n.elem,e,a+r);while(s!==(s=n.cur()/i)&&1!==s&&--l)}return o&&(a=n.start=+a||+i||0,n.unit=r,n.end=o[1]?a+(o[1]+1)*o[2]:+o[2]),n}]};ot.Animation=ot.extend(H,{tweener:function(e,t){ot.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,o=e.length;o>i;i++)n=e[i],wn[n]=wn[n]||[],wn[n].unshift(t)},prefilter:function(e,t){t?bn.unshift(e):bn.push(e)}}),ot.speed=function(e,t,n){var i=e&&"object"==typeof e?ot.extend({},e):{complete:n||!n&&t||ot.isFunction(e)&&e,duration:e,easing:n&&t||t&&!ot.isFunction(t)&&t};return i.duration=ot.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in ot.fx.speeds?ot.fx.speeds[i.duration]:ot.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){ot.isFunction(i.old)&&i.old.call(this),i.queue&&ot.dequeue(this,i.queue)},i},ot.fn.extend({fadeTo:function(e,t,n,i){return this.filter(Dt).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var o=ot.isEmptyObject(e),r=ot.speed(t,n,i),a=function(){var t=H(this,ot.extend({},e),r);(o||ot._data(this,"finish"))&&t.stop(!0)};return a.finish=a,o||r.queue===!1?this.each(a):this.queue(r.queue,a)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,o=null!=e&&e+"queueHooks",r=ot.timers,a=ot._data(this);if(o)a[o]&&a[o].stop&&i(a[o]);else for(o in a)a[o]&&a[o].stop&&yn.test(o)&&i(a[o]);for(o=r.length;o--;)r[o].elem!==this||null!=e&&r[o].queue!==e||(r[o].anim.stop(n),t=!1,r.splice(o,1));(t||!n)&&ot.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=ot._data(this),i=n[e+"queue"],o=n[e+"queueHooks"],r=ot.timers,a=i?i.length:0;for(n.finish=!0,ot.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===e&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;a>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),ot.each(["toggle","show","hide"],function(e,t){var n=ot.fn[t];ot.fn[t]=function(e,i,o){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(M(t,!0),e,i,o)}}),ot.each({slideDown:M("show"),slideUp:M("hide"),slideToggle:M("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ot.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),ot.timers=[],ot.fx.tick=function(){var e,t=ot.timers,n=0;for(hn=ot.now();n<t.length;n++)e=t[n],e()||t[n]!==e||t.splice(n--,1);t.length||ot.fx.stop(),hn=void 0},ot.fx.timer=function(e){ot.timers.push(e),e()?ot.fx.start():ot.timers.pop()},ot.fx.interval=13,ot.fx.start=function(){mn||(mn=setInterval(ot.fx.tick,ot.fx.interval))},ot.fx.stop=function(){clearInterval(mn),mn=null},ot.fx.speeds={slow:600,fast:200,_default:400},ot.fn.delay=function(e,t){return e=ot.fx?ot.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},function(){var e,t,n,i,o;t=ht.createElement("div"),t.setAttribute("className","t"),t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=t.getElementsByTagName("a")[0],n=ht.createElement("select"),o=n.appendChild(ht.createElement("option")),e=t.getElementsByTagName("input")[0],i.style.cssText="top:1px",nt.getSetAttribute="t"!==t.className,nt.style=/top/.test(i.getAttribute("style")),nt.hrefNormalized="/a"===i.getAttribute("href"),nt.checkOn=!!e.value,nt.optSelected=o.selected,nt.enctype=!!ht.createElement("form").enctype,n.disabled=!0,nt.optDisabled=!o.disabled,e=ht.createElement("input"),e.setAttribute("value",""),nt.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),nt.radioValue="t"===e.value}();var _n=/\r/g;ot.fn.extend({val:function(e){var t,n,i,o=this[0];return arguments.length?(i=ot.isFunction(e),this.each(function(n){var o;1===this.nodeType&&(o=i?e.call(this,n,ot(this).val()):e,null==o?o="":"number"==typeof o?o+="":ot.isArray(o)&&(o=ot.map(o,function(e){return null==e?"":e+""})),t=ot.valHooks[this.type]||ot.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))})):o?(t=ot.valHooks[o.type]||ot.valHooks[o.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(o,"value"))?n:(n=o.value,"string"==typeof n?n.replace(_n,""):null==n?"":n)):void 0}}),ot.extend({valHooks:{option:{get:function(e){var t=ot.find.attr(e,"value");return null!=t?t:ot.trim(ot.text(e))}},select:{get:function(e){for(var t,n,i=e.options,o=e.selectedIndex,r="select-one"===e.type||0>o,a=r?null:[],s=r?o+1:i.length,l=0>o?s:r?o:0;s>l;l++)if(n=i[l],!(!n.selected&&l!==o||(nt.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&ot.nodeName(n.parentNode,"optgroup"))){if(t=ot(n).val(),r)return t;a.push(t)}return a},set:function(e,t){for(var n,i,o=e.options,r=ot.makeArray(t),a=o.length;a--;)if(i=o[a],ot.inArray(ot.valHooks.option.get(i),r)>=0)try{i.selected=n=!0}catch(s){i.scrollHeight}else i.selected=!1;return n||(e.selectedIndex=-1),o}}}}),ot.each(["radio","checkbox"],function(){ot.valHooks[this]={set:function(e,t){return ot.isArray(t)?e.checked=ot.inArray(ot(e).val(),t)>=0:void 0}},nt.checkOn||(ot.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var xn,Cn,Tn=ot.expr.attrHandle,kn=/^(?:checked|selected)$/i,En=nt.getSetAttribute,Nn=nt.input;ot.fn.extend({attr:function(e,t){return St(this,ot.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ot.removeAttr(this,e)})}}),ot.extend({attr:function(e,t,n){var i,o,r=e.nodeType;return e&&3!==r&&8!==r&&2!==r?typeof e.getAttribute===Ct?ot.prop(e,t,n):(1===r&&ot.isXMLDoc(e)||(t=t.toLowerCase(),i=ot.attrHooks[t]||(ot.expr.match.bool.test(t)?Cn:xn)),void 0===n?i&&"get"in i&&null!==(o=i.get(e,t))?o:(o=ot.find.attr(e,t),null==o?void 0:o):null!==n?i&&"set"in i&&void 0!==(o=i.set(e,n,t))?o:(e.setAttribute(t,n+""),n):void ot.removeAttr(e,t)):void 0},removeAttr:function(e,t){var n,i,o=0,r=t&&t.match(bt);if(r&&1===e.nodeType)for(;n=r[o++];)i=ot.propFix[n]||n,ot.expr.match.bool.test(n)?Nn&&En||!kn.test(n)?e[i]=!1:e[ot.camelCase("default-"+n)]=e[i]=!1:ot.attr(e,n,""),e.removeAttribute(En?n:i)},attrHooks:{type:{set:function(e,t){if(!nt.radioValue&&"radio"===t&&ot.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),Cn={set:function(e,t,n){return t===!1?ot.removeAttr(e,n):Nn&&En||!kn.test(n)?e.setAttribute(!En&&ot.propFix[n]||n,n):e[ot.camelCase("default-"+n)]=e[n]=!0,n}},ot.each(ot.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Tn[t]||ot.find.attr;Tn[t]=Nn&&En||!kn.test(t)?function(e,t,i){var o,r;return i||(r=Tn[t],Tn[t]=o,o=null!=n(e,t,i)?t.toLowerCase():null,Tn[t]=r),o}:function(e,t,n){return n?void 0:e[ot.camelCase("default-"+t)]?t.toLowerCase():null}}),Nn&&En||(ot.attrHooks.value={set:function(e,t,n){return ot.nodeName(e,"input")?void(e.defaultValue=t):xn&&xn.set(e,t,n)}}),En||(xn={set:function(e,t,n){var i=e.getAttributeNode(n);return i||e.setAttributeNode(i=e.ownerDocument.createAttribute(n)),i.value=t+="","value"===n||t===e.getAttribute(n)?t:void 0}},Tn.id=Tn.name=Tn.coords=function(e,t,n){var i;return n?void 0:(i=e.getAttributeNode(t))&&""!==i.value?i.value:null},ot.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);return n&&n.specified?n.value:void 0},set:xn.set},ot.attrHooks.contenteditable={set:function(e,t,n){xn.set(e,""===t?!1:t,n)}},ot.each(["width","height"],function(e,t){ot.attrHooks[t]={set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}}})),nt.style||(ot.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var Dn=/^(?:input|select|textarea|button|object)$/i,Sn=/^(?:a|area)$/i;ot.fn.extend({prop:function(e,t){return St(this,ot.prop,e,t,arguments.length>1)},removeProp:function(e){return e=ot.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(t){}})}}),ot.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var i,o,r,a=e.nodeType;return e&&3!==a&&8!==a&&2!==a?(r=1!==a||!ot.isXMLDoc(e),r&&(t=ot.propFix[t]||t,o=ot.propHooks[t]),void 0!==n?o&&"set"in o&&void 0!==(i=o.set(e,n,t))?i:e[t]=n:o&&"get"in o&&null!==(i=o.get(e,t))?i:e[t]):void 0},propHooks:{tabIndex:{get:function(e){var t=ot.find.attr(e,"tabindex");return t?parseInt(t,10):Dn.test(e.nodeName)||Sn.test(e.nodeName)&&e.href?0:-1}}}}),nt.hrefNormalized||ot.each(["href","src"],function(e,t){ot.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),nt.optSelected||(ot.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),ot.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ot.propFix[this.toLowerCase()]=this}),nt.enctype||(ot.propFix.enctype="encoding");var In=/[\t\r\n\f]/g;ot.fn.extend({addClass:function(e){var t,n,i,o,r,a,s=0,l=this.length,c="string"==typeof e&&e;if(ot.isFunction(e))return this.each(function(t){ot(this).addClass(e.call(this,t,this.className))});if(c)for(t=(e||"").match(bt)||[];l>s;s++)if(n=this[s],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(In," "):" ")){for(r=0;o=t[r++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");a=ot.trim(i),n.className!==a&&(n.className=a)}return this},removeClass:function(e){var t,n,i,o,r,a,s=0,l=this.length,c=0===arguments.length||"string"==typeof e&&e;if(ot.isFunction(e))return this.each(function(t){ot(this).removeClass(e.call(this,t,this.className))});if(c)for(t=(e||"").match(bt)||[];l>s;s++)if(n=this[s],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(In," "):"")){for(r=0;o=t[r++];)for(;i.indexOf(" "+o+" ")>=0;)i=i.replace(" "+o+" "," ");a=e?ot.trim(i):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(ot.isFunction(e)?function(n){ot(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var t,i=0,o=ot(this),r=e.match(bt)||[];t=r[i++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else(n===Ct||"boolean"===n)&&(this.className&&ot._data(this,"__className__",this.className),this.className=this.className||e===!1?"":ot._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(In," ").indexOf(t)>=0)return!0;return!1}}),ot.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){ot.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),ot.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var On=ot.now(),jn=/\?/,$n=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;ot.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var n,i=null,o=ot.trim(t+"");return o&&!ot.trim(o.replace($n,function(e,t,o,r){return n&&t&&(i=0),0===i?e:(n=o||t,i+=!r-!o,"")}))?Function("return "+o)():ot.error("Invalid JSON: "+t)},ot.parseXML=function(t){var n,i;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(i=new DOMParser,n=i.parseFromString(t,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(t))}catch(o){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||ot.error("Invalid XML: "+t),n};var Mn,An,Ln=/#.*$/,Pn=/([?&])_=[^&]*/,Hn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Bn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Fn=/^(?:GET|HEAD)$/,zn=/^\/\//,Rn=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,qn={},Wn={},Yn="*/".concat("*");try{An=location.href}catch(Vn){An=ht.createElement("a"),An.href="",An=An.href}Mn=Rn.exec(An.toLowerCase())||[],ot.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:An,type:"GET",isLocal:Bn.test(Mn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Yn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ot.parseJSON,"text xml":ot.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?z(z(e,ot.ajaxSettings),t):z(ot.ajaxSettings,e)},ajaxPrefilter:B(qn),ajaxTransport:B(Wn),ajax:function(e,t){function n(e,t,n,i){var o,d,v,y,w,x=t;2!==b&&(b=2,s&&clearTimeout(s),c=void 0,a=i||"",_.readyState=e>0?4:0,o=e>=200&&300>e||304===e,n&&(y=R(u,_,n)),y=q(u,y,_,o),o?(u.ifModified&&(w=_.getResponseHeader("Last-Modified"),w&&(ot.lastModified[r]=w),w=_.getResponseHeader("etag"),w&&(ot.etag[r]=w)),204===e||"HEAD"===u.type?x="nocontent":304===e?x="notmodified":(x=y.state,d=y.data,v=y.error,o=!v)):(v=x,(e||!x)&&(x="error",0>e&&(e=0))),_.status=e,_.statusText=(t||x)+"",o?h.resolveWith(p,[d,x,_]):h.rejectWith(p,[_,x,v]),_.statusCode(g),g=void 0,l&&f.trigger(o?"ajaxSuccess":"ajaxError",[_,u,o?d:v]),m.fireWith(p,[_,x]),l&&(f.trigger("ajaxComplete",[_,u]),--ot.active||ot.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var i,o,r,a,s,l,c,d,u=ot.ajaxSetup({},t),p=u.context||u,f=u.context&&(p.nodeType||p.jquery)?ot(p):ot.event,h=ot.Deferred(),m=ot.Callbacks("once memory"),g=u.statusCode||{},v={},y={},b=0,w="canceled",_={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!d)for(d={};t=Hn.exec(a);)d[t[1].toLowerCase()]=t[2];t=d[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,v[e]=t),this},overrideMimeType:function(e){return b||(u.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)g[t]=[g[t],e[t]];else _.always(e[_.status]);return this},abort:function(e){var t=e||w;return c&&c.abort(t),n(0,t),this}};if(h.promise(_).complete=m.add,_.success=_.done,_.error=_.fail,u.url=((e||u.url||An)+"").replace(Ln,"").replace(zn,Mn[1]+"//"),u.type=t.method||t.type||u.method||u.type,u.dataTypes=ot.trim(u.dataType||"*").toLowerCase().match(bt)||[""],null==u.crossDomain&&(i=Rn.exec(u.url.toLowerCase()),u.crossDomain=!(!i||i[1]===Mn[1]&&i[2]===Mn[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(Mn[3]||("http:"===Mn[1]?"80":"443")))),u.data&&u.processData&&"string"!=typeof u.data&&(u.data=ot.param(u.data,u.traditional)),F(qn,u,t,_),2===b)return _;l=u.global,l&&0===ot.active++&&ot.event.trigger("ajaxStart"),u.type=u.type.toUpperCase(),u.hasContent=!Fn.test(u.type),r=u.url,u.hasContent||(u.data&&(r=u.url+=(jn.test(r)?"&":"?")+u.data,delete u.data),u.cache===!1&&(u.url=Pn.test(r)?r.replace(Pn,"$1_="+On++):r+(jn.test(r)?"&":"?")+"_="+On++)),u.ifModified&&(ot.lastModified[r]&&_.setRequestHeader("If-Modified-Since",ot.lastModified[r]),ot.etag[r]&&_.setRequestHeader("If-None-Match",ot.etag[r])),(u.data&&u.hasContent&&u.contentType!==!1||t.contentType)&&_.setRequestHeader("Content-Type",u.contentType),_.setRequestHeader("Accept",u.dataTypes[0]&&u.accepts[u.dataTypes[0]]?u.accepts[u.dataTypes[0]]+("*"!==u.dataTypes[0]?", "+Yn+"; q=0.01":""):u.accepts["*"]);for(o in u.headers)_.setRequestHeader(o,u.headers[o]);if(u.beforeSend&&(u.beforeSend.call(p,_,u)===!1||2===b))return _.abort();w="abort";for(o in{success:1,error:1,complete:1})_[o](u[o]);if(c=F(Wn,u,t,_)){_.readyState=1,l&&f.trigger("ajaxSend",[_,u]),u.async&&u.timeout>0&&(s=setTimeout(function(){_.abort("timeout")},u.timeout));try{b=1,c.send(v,n)}catch(x){if(!(2>b))throw x;n(-1,x)}}else n(-1,"No Transport");return _},getJSON:function(e,t,n){return ot.get(e,t,n,"json")},getScript:function(e,t){return ot.get(e,void 0,t,"script")}}),ot.each(["get","post"],function(e,t){ot[t]=function(e,n,i,o){return ot.isFunction(n)&&(o=o||i,i=n,n=void 0),ot.ajax({url:e,type:t,dataType:o,data:n,success:i})}}),ot.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ot.fn[t]=function(e){return this.on(t,e)}}),ot._evalUrl=function(e){return ot.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},ot.fn.extend({wrapAll:function(e){if(ot.isFunction(e))return this.each(function(t){ot(this).wrapAll(e.call(this,t))});if(this[0]){var t=ot(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return this.each(ot.isFunction(e)?function(t){ot(this).wrapInner(e.call(this,t))}:function(){var t=ot(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=ot.isFunction(e);return this.each(function(n){ot(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){ot.nodeName(this,"body")||ot(this).replaceWith(this.childNodes)}).end()}}),ot.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!nt.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||ot.css(e,"display"))},ot.expr.filters.visible=function(e){return!ot.expr.filters.hidden(e)};var Xn=/%20/g,Un=/\[\]$/,Gn=/\r?\n/g,Kn=/^(?:submit|button|image|reset|file)$/i,Qn=/^(?:input|select|textarea|keygen)/i;ot.param=function(e,t){var n,i=[],o=function(e,t){t=ot.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=ot.ajaxSettings&&ot.ajaxSettings.traditional),ot.isArray(e)||e.jquery&&!ot.isPlainObject(e))ot.each(e,function(){o(this.name,this.value)});else for(n in e)W(n,e[n],t,o);return i.join("&").replace(Xn,"+")},ot.fn.extend({serialize:function(){return ot.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ot.prop(this,"elements");return e?ot.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ot(this).is(":disabled")&&Qn.test(this.nodeName)&&!Kn.test(e)&&(this.checked||!It.test(e))}).map(function(e,t){var n=ot(this).val();return null==n?null:ot.isArray(n)?ot.map(n,function(e){return{name:t.name,value:e.replace(Gn,"\r\n")}}):{name:t.name,value:n.replace(Gn,"\r\n")}}).get()}}),ot.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&Y()||V()}:Y;var Jn=0,Zn={},ei=ot.ajaxSettings.xhr();e.ActiveXObject&&ot(e).on("unload",function(){for(var e in Zn)Zn[e](void 0,!0)}),nt.cors=!!ei&&"withCredentials"in ei,ei=nt.ajax=!!ei,ei&&ot.ajaxTransport(function(e){if(!e.crossDomain||nt.cors){var t;return{send:function(n,i){var o,r=e.xhr(),a=++Jn;if(r.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(o in e.xhrFields)r[o]=e.xhrFields[o];e.mimeType&&r.overrideMimeType&&r.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(o in n)void 0!==n[o]&&r.setRequestHeader(o,n[o]+"");r.send(e.hasContent&&e.data||null),t=function(n,o){var s,l,c;if(t&&(o||4===r.readyState))if(delete Zn[a],t=void 0,r.onreadystatechange=ot.noop,o)4!==r.readyState&&r.abort();else{c={},s=r.status,"string"==typeof r.responseText&&(c.text=r.responseText);try{l=r.statusText}catch(d){l=""}s||!e.isLocal||e.crossDomain?1223===s&&(s=204):s=c.text?200:404}c&&i(s,l,c,r.getAllResponseHeaders())},e.async?4===r.readyState?setTimeout(t):r.onreadystatechange=Zn[a]=t:t()},abort:function(){t&&t(void 0,!0)}}}}),ot.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return ot.globalEval(e),e}}}),ot.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),ot.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=ht.head||ot("head")[0]||ht.documentElement;return{send:function(i,o){t=ht.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||o(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var ti=[],ni=/(=)\?(?=&|$)|\?\?/;ot.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=ti.pop()||ot.expando+"_"+On++;return this[e]=!0,e}}),ot.ajaxPrefilter("json jsonp",function(t,n,i){var o,r,a,s=t.jsonp!==!1&&(ni.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&ni.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(o=t.jsonpCallback=ot.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(ni,"$1"+o):t.jsonp!==!1&&(t.url+=(jn.test(t.url)?"&":"?")+t.jsonp+"="+o),t.converters["script json"]=function(){return a||ot.error(o+" was not called"),a[0]},t.dataTypes[0]="json",r=e[o],e[o]=function(){a=arguments},i.always(function(){e[o]=r,t[o]&&(t.jsonpCallback=n.jsonpCallback,ti.push(o)),a&&ot.isFunction(r)&&r(a[0]),a=r=void 0}),"script"):void 0}),ot.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||ht;var i=ut.exec(e),o=!n&&[];return i?[t.createElement(i[1])]:(i=ot.buildFragment([e],t,o),o&&o.length&&ot(o).remove(),ot.merge([],i.childNodes))};var ii=ot.fn.load;ot.fn.load=function(e,t,n){if("string"!=typeof e&&ii)return ii.apply(this,arguments);var i,o,r,a=this,s=e.indexOf(" ");return s>=0&&(i=ot.trim(e.slice(s,e.length)),e=e.slice(0,s)),ot.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),a.length>0&&ot.ajax({url:e,type:r,dataType:"html",data:t}).done(function(e){o=arguments,a.html(i?ot("<div>").append(ot.parseHTML(e)).find(i):e)}).complete(n&&function(e,t){a.each(n,o||[e.responseText,t,e])}),this},ot.expr.filters.animated=function(e){return ot.grep(ot.timers,function(t){return e===t.elem}).length};var oi=e.document.documentElement;ot.offset={setOffset:function(e,t,n){var i,o,r,a,s,l,c,d=ot.css(e,"position"),u=ot(e),p={};"static"===d&&(e.style.position="relative"),s=u.offset(),r=ot.css(e,"top"),l=ot.css(e,"left"),c=("absolute"===d||"fixed"===d)&&ot.inArray("auto",[r,l])>-1,c?(i=u.position(),a=i.top,o=i.left):(a=parseFloat(r)||0,o=parseFloat(l)||0),ot.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(p.top=t.top-s.top+a),null!=t.left&&(p.left=t.left-s.left+o),"using"in t?t.using.call(e,p):u.css(p)
}},ot.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){ot.offset.setOffset(this,e,t)});var t,n,i={top:0,left:0},o=this[0],r=o&&o.ownerDocument;return r?(t=r.documentElement,ot.contains(t,o)?(typeof o.getBoundingClientRect!==Ct&&(i=o.getBoundingClientRect()),n=X(r),{top:i.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:i.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):i):void 0},position:function(){if(this[0]){var e,t,n={top:0,left:0},i=this[0];return"fixed"===ot.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ot.nodeName(e[0],"html")||(n=e.offset()),n.top+=ot.css(e[0],"borderTopWidth",!0),n.left+=ot.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-ot.css(i,"marginTop",!0),left:t.left-n.left-ot.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||oi;e&&!ot.nodeName(e,"html")&&"static"===ot.css(e,"position");)e=e.offsetParent;return e||oi})}}),ot.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);ot.fn[e]=function(i){return St(this,function(e,i,o){var r=X(e);return void 0===o?r?t in r?r[t]:r.document.documentElement[i]:e[i]:void(r?r.scrollTo(n?ot(r).scrollLeft():o,n?o:ot(r).scrollTop()):e[i]=o)},e,i,arguments.length,null)}}),ot.each(["top","left"],function(e,t){ot.cssHooks[t]=E(nt.pixelPosition,function(e,n){return n?(n=tn(e,t),on.test(n)?ot(e).position()[t]+"px":n):void 0})}),ot.each({Height:"height",Width:"width"},function(e,t){ot.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){ot.fn[i]=function(i,o){var r=arguments.length&&(n||"boolean"!=typeof i),a=n||(i===!0||o===!0?"margin":"border");return St(this,function(t,n,i){var o;return ot.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?ot.css(t,n,a):ot.style(t,n,i,a)},t,r?i:void 0,r,null)}})}),ot.fn.size=function(){return this.length},ot.fn.andSelf=ot.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ot});var ri=e.jQuery,ai=e.$;return ot.noConflict=function(t){return e.$===ot&&(e.$=ai),t&&e.jQuery===ot&&(e.jQuery=ri),ot},typeof t===Ct&&(e.jQuery=e.$=ot),ot}),function(e){e.fn.bPopup=function(t,n){function i(){switch(m.contentContainer=e(m.contentContainer||E),m.content){case"iframe":var t=e('<iframe class="b-iframe" '+m.iframeAttr+"></iframe>");t.appendTo(m.contentContainer),C=E.outerHeight(!0),T=E.outerWidth(!0),o(),t.attr("src",m.loadUrl),p(m.loadCallback);break;case"image":o(),e("<img />").load(function(){p(m.loadCallback),a(e(this))}).attr("src",m.loadUrl).hide().appendTo(m.contentContainer);break;default:o(),e('<div class="b-ajax-wrapper"></div>').load(m.loadUrl,m.loadData,function(){p(m.loadCallback),a(e(this))}).hide().appendTo(m.contentContainer)}}function o(){m.modal&&e('<div class="b-modal '+g+'"></div>').css({backgroundColor:m.modalColor,position:"fixed",top:0,right:0,bottom:0,left:0,opacity:0,zIndex:m.zIndex+M}).appendTo(m.appendTo).fadeTo(m.speed,m.opacity),f(),E.data("bPopup",m).data("id",g).css({left:"slideIn"==m.transition||"slideBack"==m.transition?"slideBack"==m.transition?N.scrollLeft()+O:-1*(x+T):d(!(!m.follow[0]&&b||w)),position:m.positionStyle||"absolute",top:"slideDown"==m.transition||"slideUp"==m.transition?"slideUp"==m.transition?N.scrollTop()+I:_+-1*C:u(!(!m.follow[1]&&y||w)),"z-index":m.zIndex+M+1}).each(function(){m.appending&&e(this).appendTo(m.appendTo)}),l(!0)}function r(){return m.modal&&e(".b-modal."+E.data("id")).fadeTo(m.speed,0,function(){e(this).remove()}),m.scrollBar||e("html").css("overflow","auto"),e(".b-modal."+g).unbind("click"),N.unbind("keydown."+g),S.unbind("."+g).data("bPopup",0<S.data("bPopup")-1?S.data("bPopup")-1:null),E.undelegate(".bClose, ."+m.closeClass,"click."+g,r).data("bPopup",null),l(),!1}function a(e){var t=e.width(),n=e.height(),i={};m.contentContainer.css({height:n,width:t}),n>=E.height()&&(i.height=E.height()),t>=E.width()&&(i.width=E.width()),C=E.outerHeight(!0),T=E.outerWidth(!0),f(),m.contentContainer.css({height:"auto",width:"auto"}),i.left=d(!(!m.follow[0]&&b||w)),i.top=u(!(!m.follow[1]&&y||w)),E.animate(i,250,function(){e.show(),v=h()})}function s(){S.data("bPopup",M),E.delegate(".bClose, ."+m.closeClass,"click."+g,r),m.modalClose&&e(".b-modal."+g).css("cursor","pointer").bind("click",r),j||!m.follow[0]&&!m.follow[1]||S.bind("scroll."+g,function(){v&&E.dequeue().animate({left:m.follow[0]?d(!w):"auto",top:m.follow[1]?u(!w):"auto"},m.followSpeed,m.followEasing)}).bind("resize."+g,function(){I=D.innerHeight||S.height(),O=D.innerWidth||S.width(),(v=h())&&(clearTimeout(k),k=setTimeout(function(){f(),E.dequeue().each(function(){w?e(this).css({left:x,top:_}):e(this).animate({left:m.follow[0]?d(!0):"auto",top:m.follow[1]?u(!0):"auto"},m.followSpeed,m.followEasing)})},50))}),m.escClose&&N.bind("keydown."+g,function(e){27==e.which&&r()})}function l(e){function t(t){E.css({display:"block",opacity:1}).animate(t,m.speed,m.easing,function(){c(e)})}switch(e?m.transition:m.transitionClose||m.transition){case"slideIn":t({left:e?d(!(!m.follow[0]&&b||w)):N.scrollLeft()-(T||E.outerWidth(!0))-$});break;case"slideBack":t({left:e?d(!(!m.follow[0]&&b||w)):N.scrollLeft()+O+$});break;case"slideDown":t({top:e?u(!(!m.follow[1]&&y||w)):N.scrollTop()-(C||E.outerHeight(!0))-$});break;case"slideUp":t({top:e?u(!(!m.follow[1]&&y||w)):N.scrollTop()+I+$});break;default:E.stop().fadeTo(m.speed,e?1:0,function(){c(e)})}}function c(e){e?(s(),p(n),m.autoClose&&setTimeout(r,m.autoClose)):(E.hide(),p(m.onClose),m.loadUrl&&(m.contentContainer.empty(),E.css({height:"auto",width:"auto"})))}function d(e){return e?x+N.scrollLeft():x}function u(e){return e?_+N.scrollTop():_}function p(t){e.isFunction(t)&&t.call(E)}function f(){_=y?m.position[1]:Math.max(0,(I-E.outerHeight(!0))/2-m.amsl),x=b?m.position[0]:(O-E.outerWidth(!0))/2,v=h()}function h(){return I>E.outerHeight(!0)&&O>E.outerWidth(!0)}e.isFunction(t)&&(n=t,t=null);var m=e.extend({},e.fn.bPopup.defaults,t);m.scrollBar||e("html").css("overflow","hidden");var g,v,y,b,w,_,x,C,T,k,E=this,N=e(document),D=window,S=e(D),I=D.innerHeight||S.height(),O=D.innerWidth||S.width(),j=/OS 6(_\d)+/i.test(navigator.userAgent),$=200,M=0;return E.close=function(){m=this.data("bPopup"),g="__b-popup"+S.data("bPopup")+"__",r()},E.each(function(){e(this).data("bPopup")||(p(m.onOpen),M=(S.data("bPopup")||0)+1,g="__b-popup"+M+"__",y="auto"!==m.position[1],b="auto"!==m.position[0],w="fixed"===m.positionStyle,C=E.outerHeight(!0),T=E.outerWidth(!0),m.loadUrl?i():o())})},e.fn.bPopup.defaults={amsl:50,appending:!0,appendTo:"body",autoClose:!1,closeClass:"b-close",content:"ajax",contentContainer:!1,easing:"swing",escClose:!0,follow:[!0,!0],followEasing:"swing",followSpeed:500,iframeAttr:'scrolling="no" frameborder="0"',loadCallback:!1,loadData:!1,loadUrl:!1,modal:!0,modalClose:!0,modalColor:"#000",onClose:!1,onOpen:!1,opacity:.7,position:["auto","auto"],positionStyle:"absolute",scrollBar:!0,speed:250,transition:"fadeIn",transitionClose:!1,zIndex:9997}}(jQuery),!function(e){e(["jquery"],function(e){return function(){function t(e,t,n){return h({type:w.error,iconClass:m().iconClasses.error,message:e,optionsOverride:n,title:t})}function n(t,n){return t||(t=m()),v=e("#"+t.containerId),v.length?v:(n&&(v=u(t)),v)}function i(e,t,n){return h({type:w.info,iconClass:m().iconClasses.info,message:e,optionsOverride:n,title:t})}function o(e){y=e}function r(e,t,n){return h({type:w.success,iconClass:m().iconClasses.success,message:e,optionsOverride:n,title:t})}function a(e,t,n){return h({type:w.warning,iconClass:m().iconClasses.warning,message:e,optionsOverride:n,title:t})}function s(e){var t=m();v||n(t),d(e,t)||c(t)}function l(t){var i=m();return v||n(i),t&&0===e(":focus",t).length?void g(t):void(v.children().length&&v.remove())}function c(t){for(var n=v.children(),i=n.length-1;i>=0;i--)d(e(n[i]),t)}function d(t,n){return t&&0===e(":focus",t).length?(t[n.hideMethod]({duration:n.hideDuration,easing:n.hideEasing,complete:function(){g(t)}}),!0):!1}function u(t){return v=e("<div/>").attr("id",t.containerId).addClass(t.positionClass).attr("aria-live","polite").attr("role","alert"),v.appendTo(e(t.target)),v}function p(){return{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",target:"body",closeHtml:"<button>&times;</button>",newestOnTop:!0}}function f(e){y&&y(e)}function h(t){function i(t){return!e(":focus",c).length||t?c[a.hideMethod]({duration:a.hideDuration,easing:a.hideEasing,complete:function(){g(c),a.onHidden&&"hidden"!==h.state&&a.onHidden(),h.state="hidden",h.endTime=new Date,f(h)}}):void 0}function o(){(a.timeOut>0||a.extendedTimeOut>0)&&(l=setTimeout(i,a.extendedTimeOut))}function r(){clearTimeout(l),c.stop(!0,!0)[a.showMethod]({duration:a.showDuration,easing:a.showEasing})}var a=m(),s=t.iconClass||a.iconClass;"undefined"!=typeof t.optionsOverride&&(a=e.extend(a,t.optionsOverride),s=t.optionsOverride.iconClass||s),b++,v=n(a,!0);var l=null,c=e("<div/>"),d=e("<div/>"),u=e("<div/>"),p=e(a.closeHtml),h={toastId:b,state:"visible",startTime:new Date,options:a,map:t};return t.iconClass&&c.addClass(a.toastClass).addClass(s),t.title&&(d.append(t.title).addClass(a.titleClass),c.append(d)),t.message&&(u.append(t.message).addClass(a.messageClass),c.append(u)),a.closeButton&&(p.addClass("toast-close-button").attr("role","button"),c.prepend(p)),c.hide(),a.newestOnTop?v.prepend(c):v.append(c),c[a.showMethod]({duration:a.showDuration,easing:a.showEasing,complete:a.onShown}),a.timeOut>0&&(l=setTimeout(i,a.timeOut)),c.hover(r,o),!a.onclick&&a.tapToDismiss&&c.click(i),a.closeButton&&p&&p.click(function(e){e.stopPropagation?e.stopPropagation():void 0!==e.cancelBubble&&e.cancelBubble!==!0&&(e.cancelBubble=!0),i(!0)}),a.onclick&&c.click(function(){a.onclick(),i()}),f(h),a.debug&&console&&console.log(h),c}function m(){return e.extend({},p(),_.options)}function g(e){v||(v=n()),e.is(":visible")||(e.remove(),e=null,0===v.children().length&&v.remove())}var v,y,b=0,w={error:"error",info:"info",success:"success",warning:"warning"},_={clear:s,remove:l,error:t,getContainer:n,info:i,options:{},subscribe:o,success:r,version:"2.0.3",warning:a};return _}()})}("function"==typeof define&&define.amd?define:function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t(require("jquery")):window.toastr=t(window.jQuery)});var tileElements=document.getElementsByClassName("metro-tile"),i;for(i=0;i<tileElements.length;i++)Tile(tileElements[i]);$("[data-toggle='offcanvas']").click(function(e){e.preventDefault(),$(window).width()<=992?($(".row-offcanvas").toggleClass("active"),$(".left-side").removeClass("collapse-left"),$(".right-side").removeClass("strech"),$(".row-offcanvas").toggleClass("relative")):($(".left-side").toggleClass("collapse-left"),$(".right-side").toggleClass("strech"))}),+function(e){function t(){e(i).remove(),e(o).each(function(t){var i=n(e(this));i.hasClass("open")&&(i.trigger(t=e.Event("hide.bs.dropdown")),t.isDefaultPrevented()||i.removeClass("open").trigger("hidden.bs.dropdown"))})}function n(t){var n=t.attr("data-target");n||(n=t.attr("href"),n=n&&/#/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var i=n&&e(n);return i&&i.length?i:t.parent()}var i=".dropdown-backdrop",o="[data-toggle=dropdown]",r=function(t){e(t).on("click.bs.dropdown",this.toggle)};r.prototype.toggle=function(i){var o=e(this);if(!o.is(".disabled, :disabled")){var r=n(o),a=r.hasClass("open");if(t(),!a){if("ontouchstart"in document.documentElement&&!r.closest(".navbar-nav").length&&e('<div class="dropdown-backdrop"/>').insertAfter(e(this)).on("click",t),r.trigger(i=e.Event("show.bs.dropdown")),i.isDefaultPrevented())return;r.toggleClass("open").trigger("shown.bs.dropdown"),o.focus()}return!1}},r.prototype.keydown=function(t){if(/(38|40|27)/.test(t.keyCode)){var i=e(this);if(t.preventDefault(),t.stopPropagation(),!i.is(".disabled, :disabled")){var r=n(i),a=r.hasClass("open");if(!a||a&&27==t.keyCode)return 27==t.which&&r.find(o).focus(),i.click();var s=e("[role=menu] li:not(.divider):visible a",r);if(s.length){var l=s.index(s.filter(":focus"));38==t.keyCode&&l>0&&l--,40==t.keyCode&&l<s.length-1&&l++,~l||(l=0),s.eq(l).focus()}}}};var a=e.fn.dropdown;e.fn.dropdown=function(t){return this.each(function(){var n=e(this),i=n.data("bs.dropdown");i||n.data("bs.dropdown",i=new r(this)),"string"==typeof t&&i[t].call(n)})},e.fn.dropdown.Constructor=r,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=a,this},e(document).on("click.bs.dropdown.data-api",t).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",o,r.prototype.toggle).on("keydown.bs.dropdown.data-api",o+", [role=menu]",r.prototype.keydown)}(jQuery),function(e,t){"use strict";var n;if("object"==typeof exports){try{n=require("moment")}catch(i){}module.exports=t(n)}else"function"==typeof define&&define.amd?define(function(e){var i="moment";return n=e.defined&&e.defined(i)?e(i):void 0,t(n)}):e.Pikaday=t(e.moment)}(this,function(e){"use strict";var t="function"==typeof e,n=!!window.addEventListener,i=window.document,o=window.setTimeout,r=function(e,t,i,o){n?e.addEventListener(t,i,!!o):e.attachEvent("on"+t,i)},a=function(e,t,i,o){n?e.removeEventListener(t,i,!!o):e.detachEvent("on"+t,i)},s=function(e,t,n){var o;i.createEvent?(o=i.createEvent("HTMLEvents"),o.initEvent(t,!0,!1),o=y(o,n),e.dispatchEvent(o)):i.createEventObject&&(o=i.createEventObject(),o=y(o,n),e.fireEvent("on"+t,o))},l=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},c=function(e,t){return-1!==(" "+e.className+" ").indexOf(" "+t+" ")},d=function(e,t){c(e,t)||(e.className=""===e.className?t:e.className+" "+t)},u=function(e,t){e.className=l((" "+e.className+" ").replace(" "+t+" "," "))},p=function(e){return/Array/.test(Object.prototype.toString.call(e))},f=function(e){return/Date/.test(Object.prototype.toString.call(e))&&!isNaN(e.getTime())},h=function(e){return e%4===0&&e%100!==0||e%400===0},m=function(e,t){return[31,h(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},g=function(e){f(e)&&e.setHours(0,0,0,0)},v=function(e,t){return e.getTime()===t.getTime()},y=function(e,t,n){var i,o;for(i in t)o=void 0!==e[i],o&&"object"==typeof t[i]&&void 0===t[i].nodeName?f(t[i])?n&&(e[i]=new Date(t[i].getTime())):p(t[i])?n&&(e[i]=t[i].slice(0)):e[i]=y({},t[i],n):(n||!o)&&(e[i]=t[i]);return e},b=function(e){return e.month<0&&(e.year-=Math.ceil(Math.abs(e.month)/12),e.month+=12),e.month>11&&(e.year+=Math.floor(Math.abs(e.month)/12),e.month-=12),e},w={field:null,bound:void 0,position:"bottom left",format:"YYYY-MM-DD",defaultDate:null,setDefaultDate:!1,firstDay:0,minDate:null,maxDate:null,yearRange:10,showWeekNumber:!1,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,numberOfMonths:1,mainCalendar:"left",container:void 0,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},onSelect:null,onOpen:null,onClose:null,onDraw:null},_=function(e,t,n){for(t+=e.firstDay;t>=7;)t-=7;return n?e.i18n.weekdaysShort[t]:e.i18n.weekdays[t]},x=function(e,t,n,i,o,r,a){if(a)return'<td class="is-empty"></td>';var s=[];return r&&s.push("is-disabled"),o&&s.push("is-today"),i&&s.push("is-selected"),'<td data-day="'+e+'" class="'+s.join(" ")+'"><button class="pika-button pika-day" type="button" data-pika-year="'+n+'" data-pika-month="'+t+'" data-pika-day="'+e+'">'+e+"</button></td>"},C=function(e,t,n){var i=new Date(n,0,1),o=Math.ceil(((new Date(n,t,e)-i)/864e5+i.getDay()+1)/7);return'<td class="pika-week">'+o+"</td>"},T=function(e,t){return"<tr>"+(t?e.reverse():e).join("")+"</tr>"},k=function(e){return"<tbody>"+e.join("")+"</tbody>"},E=function(e){var t,n=[];for(e.showWeekNumber&&n.push("<th></th>"),t=0;7>t;t++)n.push('<th scope="col"><abbr title="'+_(e,t)+'">'+_(e,t,!0)+"</abbr></th>");return"<thead>"+(e.isRTL?n.reverse():n).join("")+"</thead>"},N=function(e,t,n,i,o){var r,a,s,l,c,d=e._o,u=n===d.minYear,f=n===d.maxYear,h='<div class="pika-title">',m=!0,g=!0;for(s=[],r=0;12>r;r++)s.push('<option value="'+(n===o?r-t:12+r-t)+'"'+(r===i?" selected":"")+(u&&r<d.minMonth||f&&r>d.maxMonth?"disabled":"")+">"+d.i18n.months[r]+"</option>");for(l='<div class="pika-label">'+d.i18n.months[i]+'<select class="pika-select pika-select-month">'+s.join("")+"</select></div>",p(d.yearRange)?(r=d.yearRange[0],a=d.yearRange[1]+1):(r=n-d.yearRange,a=1+n+d.yearRange),s=[];a>r&&r<=d.maxYear;r++)r>=d.minYear&&s.push('<option value="'+r+'"'+(r===n?" selected":"")+">"+r+"</option>");return c='<div class="pika-label">'+n+d.yearSuffix+'<select class="pika-select pika-select-year">'+s.join("")+"</select></div>",h+=d.showMonthAfterYear?c+l:l+c,u&&(0===i||d.minMonth>=i)&&(m=!1),f&&(11===i||d.maxMonth<=i)&&(g=!1),0===t&&(h+='<button class="pika-prev'+(m?"":" is-disabled")+'" type="button">'+d.i18n.previousMonth+"</button>"),t===e._o.numberOfMonths-1&&(h+='<button class="pika-next'+(g?"":" is-disabled")+'" type="button">'+d.i18n.nextMonth+"</button>"),h+="</div>"},D=function(e,t){return'<table cellpadding="0" cellspacing="0" class="pika-table">'+E(e)+k(t)+"</table>"},S=function(a){var s=this,l=s.config(a);s._onMouseDown=function(e){if(s._v){e=e||window.event;var t=e.target||e.srcElement;if(t){if(!c(t,"is-disabled")){if(c(t,"pika-button")&&!c(t,"is-empty"))return s.setDate(new Date(t.getAttribute("data-pika-year"),t.getAttribute("data-pika-month"),t.getAttribute("data-pika-day"))),void(l.bound&&o(function(){s.hide(),l.field&&l.field.blur()},100));c(t,"pika-prev")?s.prevMonth():c(t,"pika-next")&&s.nextMonth()}if(c(t,"pika-select"))s._c=!0;else{if(!e.preventDefault)return e.returnValue=!1,!1;e.preventDefault()}}}},s._onChange=function(e){e=e||window.event;var t=e.target||e.srcElement;t&&(c(t,"pika-select-month")?s.gotoMonth(t.value):c(t,"pika-select-year")&&s.gotoYear(t.value))},s._onInputChange=function(n){var i;n.firedBy!==s&&(t?(i=e(l.field.value,l.format),i=i&&i.isValid()?i.toDate():null):i=new Date(Date.parse(l.field.value)),s.setDate(f(i)?i:null),s._v||s.show())},s._onInputFocus=function(){s.show()},s._onInputClick=function(){s.show()},s._onInputBlur=function(){s._c||(s._b=o(function(){s.hide()},50)),s._c=!1},s._onClick=function(e){e=e||window.event;var t=e.target||e.srcElement,i=t;if(t){!n&&c(t,"pika-select")&&(t.onchange||(t.setAttribute("onchange","return;"),r(t,"change",s._onChange)));do if(c(i,"pika-single"))return;while(i=i.parentNode);s._v&&t!==l.trigger&&s.hide()}},s.el=i.createElement("div"),s.el.className="pika-single"+(l.isRTL?" is-rtl":""),r(s.el,"mousedown",s._onMouseDown,!0),r(s.el,"change",s._onChange),l.field&&(l.container?l.container.appendChild(s.el):l.bound?i.body.appendChild(s.el):l.field.parentNode.insertBefore(s.el,l.field.nextSibling),r(l.field,"change",s._onInputChange),l.defaultDate||(l.defaultDate=t&&l.field.value?e(l.field.value,l.format).toDate():new Date(Date.parse(l.field.value)),l.setDefaultDate=!0));var d=l.defaultDate;f(d)?l.setDefaultDate?s.setDate(d,!0):s.gotoDate(d):s.gotoDate(new Date),l.bound?(this.hide(),s.el.className+=" is-bound",r(l.trigger,"click",s._onInputClick),r(l.trigger,"focus",s._onInputFocus),r(l.trigger,"blur",s._onInputBlur)):this.show()};return S.prototype={config:function(e){this._o||(this._o=y({},w,!0));var t=y(this._o,e,!0);t.isRTL=!!t.isRTL,t.field=t.field&&t.field.nodeName?t.field:null,t.bound=!!(void 0!==t.bound?t.field&&t.bound:t.field),t.trigger=t.trigger&&t.trigger.nodeName?t.trigger:t.field;var n=parseInt(t.numberOfMonths,10)||1;if(t.numberOfMonths=n>4?4:n,f(t.minDate)||(t.minDate=!1),f(t.maxDate)||(t.maxDate=!1),t.minDate&&t.maxDate&&t.maxDate<t.minDate&&(t.maxDate=t.minDate=!1),t.minDate&&(g(t.minDate),t.minYear=t.minDate.getFullYear(),t.minMonth=t.minDate.getMonth()),t.maxDate&&(g(t.maxDate),t.maxYear=t.maxDate.getFullYear(),t.maxMonth=t.maxDate.getMonth()),p(t.yearRange)){var i=(new Date).getFullYear()-10;t.yearRange[0]=parseInt(t.yearRange[0],10)||i,t.yearRange[1]=parseInt(t.yearRange[1],10)||i}else t.yearRange=Math.abs(parseInt(t.yearRange,10))||w.yearRange,t.yearRange>100&&(t.yearRange=100);return t},toString:function(n){return f(this._d)?t?e(this._d).format(n||this._o.format):this._d.toDateString():""},getMoment:function(){return t?e(this._d):null},setMoment:function(n,i){t&&e.isMoment(n)&&this.setDate(n.toDate(),i)},getDate:function(){return f(this._d)?new Date(this._d.getTime()):null},setDate:function(e,t){if(!e)return this._d=null,this.draw();if("string"==typeof e&&(e=new Date(Date.parse(e))),f(e)){var n=this._o.minDate,i=this._o.maxDate;f(n)&&n>e?e=n:f(i)&&e>i&&(e=i),this._d=new Date(e.getTime()),g(this._d),this.gotoDate(this._d),this._o.field&&(this._o.field.value=this.toString(),s(this._o.field,"change",{firedBy:this})),t||"function"!=typeof this._o.onSelect||this._o.onSelect.call(this,this.getDate())}},gotoDate:function(e){var t=!0;if(f(e)){if(this.calendars){var n=new Date(this.calendars[0].year,this.calendars[0].month,1),i=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),o=e.getTime();i.setMonth(i.getMonth()+1),i.setDate(i.getDate()-1),t=o<n.getTime()||i.getTime()<o}t&&(this.calendars=[{month:e.getMonth(),year:e.getFullYear()}],"right"===this._o.mainCalendar&&(this.calendars[0].month+=1-this._o.numberOfMonths)),this.adjustCalendars()}},adjustCalendars:function(){this.calendars[0]=b(this.calendars[0]);for(var e=1;e<this._o.numberOfMonths;e++)this.calendars[e]=b({month:this.calendars[0].month+e,year:this.calendars[0].year});this.draw()},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(e){isNaN(e)||(this.calendars[0].month=parseInt(e,10),this.adjustCalendars())},nextMonth:function(){this.calendars[0].month++,this.adjustCalendars()},prevMonth:function(){this.calendars[0].month--,this.adjustCalendars()},gotoYear:function(e){isNaN(e)||(this.calendars[0].year=parseInt(e,10),this.adjustCalendars())},setMinDate:function(e){this._o.minDate=e},setMaxDate:function(e){this._o.maxDate=e},draw:function(e){if(this._v||e){var t=this._o,n=t.minYear,i=t.maxYear,r=t.minMonth,a=t.maxMonth,s="";this._y<=n&&(this._y=n,!isNaN(r)&&this._m<r&&(this._m=r)),this._y>=i&&(this._y=i,!isNaN(a)&&this._m>a&&(this._m=a));for(var l=0;l<t.numberOfMonths;l++)s+='<div class="pika-lendar">'+N(this,l,this.calendars[l].year,this.calendars[l].month,this.calendars[0].year)+this.render(this.calendars[l].year,this.calendars[l].month)+"</div>";if(this.el.innerHTML=s,t.bound&&"hidden"!==t.field.type&&o(function(){t.trigger.focus()},1),"function"==typeof this._o.onDraw){var c=this;o(function(){c._o.onDraw.call(c)},0)}}},adjustPosition:function(){if(!this._o.container){var e,t,n,o=this._o.trigger,r=o,a=this.el.offsetWidth,s=this.el.offsetHeight,l=window.innerWidth||i.documentElement.clientWidth,c=window.innerHeight||i.documentElement.clientHeight,d=window.pageYOffset||i.body.scrollTop||i.documentElement.scrollTop;if("function"==typeof o.getBoundingClientRect)n=o.getBoundingClientRect(),e=n.left+window.pageXOffset,t=n.bottom+window.pageYOffset;else for(e=r.offsetLeft,t=r.offsetTop+r.offsetHeight;r=r.offsetParent;)e+=r.offsetLeft,t+=r.offsetTop;(e+a>l||this._o.position.indexOf("right")>-1&&e-a+o.offsetWidth>0)&&(e=e-a+o.offsetWidth),(t+s>c+d||this._o.position.indexOf("top")>-1&&t-s-o.offsetHeight>0)&&(t=t-s-o.offsetHeight),this.el.style.cssText=["position: absolute","left: "+e+"px","top: "+t+"px"].join(";")}},render:function(e,t){var n=this._o,i=new Date,o=m(e,t),r=new Date(e,t,1).getDay(),a=[],s=[];g(i),n.firstDay>0&&(r-=n.firstDay,0>r&&(r+=7));for(var l=o+r,c=l;c>7;)c-=7;l+=7-c;for(var d=0,u=0;l>d;d++){var p=new Date(e,t,1+(d-r)),h=n.minDate&&p<n.minDate||n.maxDate&&p>n.maxDate,y=f(this._d)?v(p,this._d):!1,b=v(p,i),w=r>d||d>=o+r;s.push(x(1+(d-r),t,e,y,b,h,w)),7===++u&&(n.showWeekNumber&&s.unshift(C(d-r,t,e)),a.push(T(s,n.isRTL)),s=[],u=0)}return D(n,a)},isVisible:function(){return this._v},show:function(){this._v||(u(this.el,"is-hidden"),this._v=!0,this.draw(),this._o.bound&&(r(i,"click",this._onClick),this.adjustPosition()),"function"==typeof this._o.onOpen&&this._o.onOpen.call(this))},hide:function(){var e=this._v;e!==!1&&(this._o.bound&&a(i,"click",this._onClick),this.el.style.cssText="",d(this.el,"is-hidden"),this._v=!1,void 0!==e&&"function"==typeof this._o.onClose&&this._o.onClose.call(this))},destroy:function(){this.hide(),a(this.el,"mousedown",this._onMouseDown,!0),a(this.el,"change",this._onChange),this._o.field&&(a(this._o.field,"change",this._onInputChange),this._o.bound&&(a(this._o.trigger,"click",this._onInputClick),a(this._o.trigger,"focus",this._onInputFocus),a(this._o.trigger,"blur",this._onInputBlur))),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}},S}),function(e){var t=[],n={},i="routie",o=e[i],r=function(e,t){this.name=t,this.path=e,this.keys=[],this.fns=[],this.params={},this.regex=a(this.path,this.keys,!1,!1)};r.prototype.addHandler=function(e){this.fns.push(e)},r.prototype.removeHandler=function(e){for(var t=0,n=this.fns.length;n>t;t++){var i=this.fns[t];if(e==i)return void this.fns.splice(t,1)}},r.prototype.run=function(e){for(var t=0,n=this.fns.length;n>t;t++)this.fns[t].apply(this,e)},r.prototype.match=function(e,t){var n=this.regex.exec(e);if(!n)return!1;for(var i=1,o=n.length;o>i;++i){var r=this.keys[i-1],a="string"==typeof n[i]?decodeURIComponent(n[i]):n[i];r&&(this.params[r.name]=a),t.push(a)}return!0},r.prototype.toURL=function(e){var t=this.path;for(var n in e)t=t.replace("/:"+n,"/"+e[n]);if(t=t.replace(/\/:.*\?/g,"/").replace(/\?/g,""),-1!=t.indexOf(":"))throw new Error("missing parameters for url: "+t);return t};var a=function(e,t,n,i){return e instanceof RegExp?e:(e instanceof Array&&(e="("+e.join("|")+")"),e=e.concat(i?"":"/?").replace(/\/\(/g,"(?:/").replace(/\+/g,"__plus__").replace(/(\/)?(\.)?:(\w+)(?:(\(.*?\)))?(\?)?/g,function(e,n,i,o,r,a){return t.push({name:o,optional:!!a}),n=n||"",""+(a?"":n)+"(?:"+(a?n:"")+(i||"")+(r||i&&"([^/.]+?)"||"([^/]+?)")+")"+(a||"")}).replace(/([\/.])/g,"\\$1").replace(/__plus__/g,"(.+)").replace(/\*/g,"(.*)"),new RegExp("^"+e+"$",n?"":"i"))},s=function(e,i){var o=e.split(" "),a=2==o.length?o[0]:null;e=2==o.length?o[1]:o[0],n[e]||(n[e]=new r(e,a),t.push(n[e])),n[e].addHandler(i)},l=function(e,t){if("function"==typeof t)s(e,t),l.reload();else if("object"==typeof e){for(var n in e)s(n,e[n]);l.reload()}else"undefined"==typeof t&&l.navigate(e)};l.lookup=function(e,n){for(var i=0,o=t.length;o>i;i++){var r=t[i];if(r.name==e)return r.toURL(n)}},l.remove=function(e,t){var i=n[e];i&&i.removeHandler(t)},l.removeAll=function(){n={},t=[]},l.navigate=function(e,t){t=t||{};var n=t.silent||!1;n&&f(),setTimeout(function(){window.location.hash=e,n&&setTimeout(function(){p()},1)},1)},l.noConflict=function(){return e[i]=o,l};var c=function(){return window.location.hash.substring(1)},d=function(e,t){var n=[];return t.match(e,n)?(t.run(n),!0):!1},u=l.reload=function(){for(var e=c(),n=0,i=t.length;i>n;n++){var o=t[n];if(d(e,o))return}},p=function(){e.addEventListener?e.addEventListener("hashchange",u,!1):e.attachEvent("onhashchange",u)},f=function(){e.removeEventListener?e.removeEventListener("hashchange",u):e.detachEvent("onhashchange",u)};p(),e[i]=l}(window);var event_mention,real=new Primus({},{timeout:2e3,ping:1e4,pong:5e3,strategy:["online","timeout","disconnect"],reconnect:{maxDelay:2e4,minDelay:500,retries:10}});real.on("open",function(){var e=" <a ><i class='icon-circle text-success' ></i> Online</a>";document.getElementById("online").innerHTML=e,$(".toastr-id")&&($(".toastr-id").remove(),toastr.success("Connected"))}),real.on("offline",function(){var e=" <a ><i class='icon-circle text-success' style='color:#c93330;'></i> Offline</a>";document.getElementById("online").innerHTML=e,toastr.error("You are offline now. Please check your internet connection"),$(".toastr-id")&&$(".toastr-id").remove();var t="<div role='alert' aria-live='polite' class='toast-top-full-width toastr-id' id='toast-container'><div style='' class='toast toast-error'><button id='toastr-close' role='button' class='toast-close-button'>×</button><div class='toast-message'>You are offline now. Please check your internet connection</div></div></div>";$("body").append($(t)),document.getElementById("toastr-close").onclick=function(){$(".toastr-id").remove()}}),real.on("reconnecting",function(){$(".toastr-id")&&$(".toastr-id").remove();var e="<div role='alert' aria-live='polite' class='toast-top-full-width toastr-id' id='toast-container'><div style='' class='toast toast-error'><button id='toastr-close' role='button' class='toast-close-button'>×</button><div class='toast-message'>Reconnecting...</div></div></div>";$("body").append($(e)),document.getElementById("toastr-close").onclick=function(){$(".toastr-id").remove()}}),real.on("reconnect",function(){}),real.on("data",function(e){switch(e.action){case"notice":realtime.notice(e.data);break;case"new_project":realtime.project_made(e.data),$("#createProjForm").fadeOut();break;case"view_project":realtime.view_proj(e.data);break;case"user_not":realtime.user_not(e.data);break;case"user_task":realtime.user_task(e.data);break;case"new_map":realtime.new_map(e);break;case"open_map":realtime.open_map(e);break;case"get_id":call.ini_uid(e.id);break;case"delete_project":realtime.delete_project(e.data);break;case"add_node":realtime.add_node(e);break;case"edit_node":realtime.edit_node(e);break;case"del_node":realtime.del_node(e);break;case"user_info":realtime.user_info(e.data);break;case"user_projects":realtime.user_projects(e.data);break;case"chat":realtime.chat(e);break;case"get_chat":realtime.get_chat(e);break;case"vote":realtime.vote(e);break;case"get_vote":realtime.get_vote(e.data);break;case"collaborator":realtime.collaborator(e.data);break;case"add_users":realtime.add_users(e);break;case"remove_users":realtime.remove_users(e);break;case"reset_map":realtime.reset_map(e),toastr.success("You have successfully reseted the map")}}),call=function(){function e(e){Y.id=e}function t(){return Y.id}function n(e){U=e}function i(e,t){"add"==t&&(U.hasOwnProperty("maps")?U.maps[e]="null":(U.maps={},U.maps[e]="null"))}function o(e){X=e}function r(){return X}function a(){return V}function s(e){V.pin=0,V.data={};for(var t in e)e.hasOwnProperty(t)&&(V.data[t]=e[t],V.data[t].visibility=1)}function l(e,t){if("pin"==t)V.pin=e;else if("hide"==t){var n=e.id;V.data[n].visibility=e.value}else if("add"==t){var n=e.i_no;V.data[n]=e,V.data[n].visibility=1,V.data[e.parenti_no].childi_no.push(e.i_no)}else if("edit"==t){var i=V.data[e.i_no].visibility;V.data[e.i_no]=e,V.data[e.i_no].visibility=i}else if("delete"==t){var o;for(o=0;o<e.deleted.length;o++)delete V.data[e.deleted[o]];if(e)for(o=0;o<V.data[e.parenti_no].childi_no.length&&V.data[e.parenti_no].childi_no[o]!=e.i_no;o++);V.data[e.parenti_no].childi_no.splice(o,1)}}function c(e){var t=JSON.parse(localStorage.getItem("uemail"));Y.hasOwnProperty("name")||(Y.name=$("#user_name").data().name,Y.gravatar=$("#user_gravatar").data().gravatar);var n=new Date,i=n.getDate()+"/"+(n.getMonth()+1)+"/"+n.getFullYear()+" @ "+n.getHours()+":";n.getMinutes()<10?i=i+"0"+n.getMinutes():i+=n.getMinutes();var o=window.location.hash.substring(1).split("/")[1];o=o.split("_");var r=$("#user_message").val(),a=[],s="";for(var l in t)t.hasOwnProperty(l)&&r.search(l)>=0&&(a.push(t[l]),s+=t[l]+",");
if($("#user_message").val().length){var c={username:Y.name,msg:$("#user_message").val(),gravatar:Y.gravatar,time:i};$("#user_message").val(""),real.write({action:"chat",scope:{pid:o[0],m_n:o[1]},data:{chat:c,pid:o[0],m_n:o[1],i_no:e},mention:{targets:s,email:X[call.ret_uid()].email,nid:e}})}}function d(){var e=document.getElementById("modal_title");e.innerHTML="Create a new Map";var t=document.getElementById("modal_body"),n="<div class='form-group'><label for='title' class='col-sm-2 control-label'>Name</label><div class='col-sm-10' style='margin-left:5px;'><input required  type='text' class='form-control' id='map_name' placeholder='Map Name'></div></div><div class='form-group'><div class='col-sm-offset-2 col-sm-10'><button  class='btn btn-success' onclick = 'call.newMap()'>Submit</button><button  class='btn btn-primary' style = 'margin-left: 10px;' onclick = 'call.closeModal()'>Cancel</button></div></div>";t.innerHTML=n,$("#modal_form").bPopup()}function u(){""==$("#map_name").val()?toastr.error("Please provide a map name"):""!=$("#map_name").val()&&(real.write({action:"new_map",scope:{pid:window.location.hash.substring(1).split("/")[1]},data:{m_n:$("#map_name").val(),pid:window.location.hash.substring(1).split("/")[1]}}),$("#map_name").val(""))}function p(){var e="<div><h2 style='margin-top: 10px;font-size:22px;color:#55518a;text-align:center;'>Email id of new collaborators.</h2><span style='text-align:center;font-size:16px;'>Users need to be member of jutja prior to the addition</span><div class='form-horizontal' style='font-size: 20px;margin-top: 30px;'><div class='form-group'><label for='title' class='col-sm-2 control-label' style='font-size:17px;'>Owner</label><div class='col-sm-10' style='margin-left:5px;'><input type='text' id='add_owner' class='demo-default' placeholder='Add Email'></div></div><div class='form-group'><label for='title' class='col-sm-2 control-label' style='font-size:17px;'>Editor</label><div class='col-sm-10' style='margin-left:5px;'><input type='text' id='add_editor' class='demo-default' placeholder='Add Email'></div></div><div class='form-group'><label for='title' class='col-sm-2 control-label' style='font-size:17px;'>Viewer</label><div class='col-sm-10' style='margin-left:5px;'><input type='text' id='add_viewer' class='demo-default' placeholder='Add Email'></div></div><div class='form-group'><div class='col-sm-offset-2 col-sm-10'><button  class='btn btn-success' onclick='call.submit_addCollab()'>Submit</button><button  class='btn btn-primary' style = 'margin-left: 10px;' onclick = 'call.closecollab()'>Cancel</button></div></div></div>";document.getElementById("add_collab").innerHTML=e,$("#add_owner").selectize({persist:!1,createOnBlur:!0,valueField:"email",labelField:"email",create:function(e){return re.test(e)?{email:e}:(toastr.error("Please type a valid email address"),!1)}}),$("#add_editor").selectize({persist:!1,createOnBlur:!0,valueField:"email",labelField:"email",create:function(e){return re.test(e)?{email:e}:(toastr.error("Please type a valid email address"),!1)}}),$("#add_viewer").selectize({persist:!1,createOnBlur:!0,valueField:"email",labelField:"email",create:function(e){return re.test(e)?{email:e}:(toastr.error("Please type a valid email address"),!1)}}),$("#add_collab").bPopup()}function f(){var e,t=$("#add_owner").val().trim(),n=$("#add_editor").val().trim(),i=$("#add_viewer").val().trim(),o={};if(t.length){var r=t.split(",");for(e=0;e<r.length;e++)o[r[e]]="owner"}if(n.length){var a=n.split(",");for(e=0;e<a.length;e++)o[a[e]]="editor"}if(i.length){var s=i.split(",");for(e=0;e<s.length;e++)o[s[e]]="viewer"}r||a||s?real.write({action:"add_users",data:{pid:window.location.hash.substring(1).split("/")[1],users:o,addedby:X[call.ret_uid()].email}}):toastr.error("Add some collaborators"),$("#add_collab").bPopup().close()}function h(){var e,t=[],n=[],i=[],o="",r=X,a=call.ret_uid();for(var s in r)r.hasOwnProperty(s)&&s!=a&&("owner"==r[s].status?t.push(r[s].email):"editor"==r[s].status?n.push(r[s].email):"viewer"==r[s].status&&i.push(r[s].email));if(t.length+i.length+n.length){var l=document.getElementById("modal_title");l.innerHTML="Delete Collaborators";var c=document.getElementById("modal_body");if(t.length){for(o+="<div class='form-group' style='text-align:center;'>Owner</div><ul class='list-group'>",e=0;e<t.length;e++)o=o+"<li id='"+t[e]+"'class='list-group-item' style='font-size:13px'><a class='remove-users' onclick='call.delete_user(\""+t[e]+"\",\"owner\")'><span style='float:right;'>x</span></a>"+t[e]+"</li>";o+="</ul></div>"}if(n.length){for(o+="<div class='form-group' style='text-align:center;'>Editor</div><ul class='list-group'>",e=0;e<n.length;e++)o=o+"<li id='"+n[e]+"'class='list-group-item' style='font-size:13px'><a class='remove-users' onclick='call.delete_user(\""+n[e]+"\",\"editor\")'><span style='float:right;'>x</span></a>"+n[e]+"</li>";o+="</ul></div>"}if(i.length){for(o+="<div class='form-group' style='text-align:center;'>Viewer</div><ul class='list-group'>",e=0;e<i.length;e++)o=o+"<li id='"+i[e]+"'class='list-group-item' style='font-size:13px'><a class='remove-users' onclick='call.delete_user(\""+i[e]+"\",\"viewer\")'><span style='float:right;'>x</span></a>"+i[e]+"</li>";o+="</ul></div>"}c.innerHTML=o,$("#modal_form").bPopup()}else toastr.error("Currently there are no collaborators in this project")}function m(e,t){var n={};n[e]=t,real.write({action:"remove_users",data:{pid:window.location.hash.substring(1).split("/")[1],users:n,delby:X[call.ret_uid()].email}})}function g(){var e,t=document.getElementsByClassName("bootstrap-tagsinput");for(e=0;e<t.length;e++)t[e].childNodes[0].size="30";var n="<div><h2 style='margin-top: 10px;color:#55518a;text-align:center;'>New Project</h2><div class='form-group'><label for='title' class='col-sm-2 control-label' style='font-size:18px;'>Title</label><div class='col-sm-10' style='margin-left:5px;'><input type='text' class='form-control' id='p_name' placeholder='Name of Project'></div></div><div class='form-group' style='margin-top:50px'><label for='title' class='col-sm-2 control-label' style='font-size:18px;'>Info</label><div class='col-sm-10' style='margin-left:5px;'><textarea class='form-control' id='project_desc' rows='3'> </textarea></div></div><div class='form-group'><label for='title' class='col-sm-10 control-label' style='width: 90%; font-size: 18px; margin-top: 20px;margin-bottom: 12px;'>Email-ids of collaborators. Users need to be members of jutja prior to the addition.</label><div class='form-group'><label for='title' id='cr_owner' class='col-sm-2 control-label' style='font-size:17px;'>Owner</label><div class='col-sm-10' style='margin-left:5px;'><input type='text' id='member_owner' class='demo-default' placeholder='Add Email'></div></div><div class='form-group'><label for='title' id='cr_editor' class='col-sm-2 control-label' style='font-size:17px;'>Editor</label><div class='col-sm-10' style='margin-left:5px;'><input type='text'  id='member_editor' class='demo-default' placeholder='Add Email'></div></div><div class='form-group'><label for='title' id='cr_viewer' class='col-sm-2 control-label' style='font-size:17px;'>Viewer</label><div class='col-sm-10' style='margin-left:5px;'><input type='text' id='member_viewer' class='demo-default' placeholder='Add Email'></div></div></div><div class='form-group'><div class='col-sm-offset-2 col-sm-10'><button  class='btn btn-success' id='create_submitproj' style='margin-left: 10%;' onclick='call.submit_newProj()'>Submit</button><button  class='btn btn-primary' style = 'margin-left: 10%;' onclick = 'call.close_newProj()'>Cancel</button></div></div></div>";document.getElementById("createProjForm").innerHTML=n,$("#member_owner").selectize({persist:!1,createOnBlur:!0,valueField:"email",labelField:"email",create:function(e){return re.test(e)?{email:e}:(toastr.error("Please type a valid email address"),!1)}}),$("#member_editor").selectize({persist:!1,createOnBlur:!0,valueField:"email",labelField:"email",create:function(e){return re.test(e)?{email:e}:(toastr.error("Please type a valid email address"),!1)}}),$("#member_viewer").selectize({persist:!1,createOnBlur:!0,valueField:"email",labelField:"email",create:function(e){return re.test(e)?{email:e}:(toastr.error("Please type a valid email address"),!1)}}),$("#createProjForm").bPopup(),$("#p_name").val(""),$("#project_desc").val(""),$("#member_owner").val(""),$("#member_editor").val(""),$("#member_viewer").val("")}function v(){var e,t=window.location.hash.substring(1),n=[],i=[],o=[];for(var r in X)X.hasOwnProperty(r)&&("owner"==X[r].status?n.push(X[r].email):"editor"==X[r].status?i.push(X[r].email):"viewer"==X[r].status&&o.push(X[r].email));""==U.description&&(U.description="Not provided");var a=document.getElementById("right-title");a.innerHTML="Info";var s=document.getElementById("right-address");s.innerHTML='<li> <a href="#"><i class="icon-project"></i>Projects</a></li><li> <a style="cursor:pointer" onclick="call.viewProject(\''+t+'\')">Maps</a></li><li class="active">Info</li>';var l=document.getElementById("left_sidebar");l.innerHTML="";var c="<li class='active'><a class='item_l'><i class='icon-info_project'></i> <span>Info</span></a></li><li><a class='item_l' onclick='call.viewProject(\""+t+"\")'><i class='icon-project'></i> <span>"+U.name+"</span></a></li><li ><a class='item_l' href='#profile'><i class='icon-profile-info'></i> <span>View Your Profile</span></a></li>";l.innerHTML=c;var d=document.getElementById("tile");d.innerHTML="",d.className="";var u="<div class='row hover-tab' style='margin-top:15px;margin-left: 10%;margin-right: 10%;'><div class='col-xs-3' style='font-size: 22px;color: #545559;padding-left: 6%;'>Project</div><div class='col-xs-7' style=' text-align:center;font-size: 22px;'>"+U.name+"</div></div><hr style='margin-left: 10%;margin-right: 10%;opacity:0.6;'><div class='row hover-tab' style='margin-top:15px;margin-left:10%;margin-right: 10%;'><div class='col-xs-3' style='font-size:20px;padding-left: 6%;color:#545559;'>Description</div><div class='col-xs-7' style='text-align:center;font-size: 22px;'>"+U.description+"</div></div><hr style='margin-left: 10%;margin-right: 10%;opacity:0.6;'><div class='row hover-tab' style='margin-top:15px;margin-left:10%;margin-right: 10%;'><div class='col-xs-3' style='font-size:20px;padding-left: 6%;color: #545559;'>Collaborators</div></div><hr style='margin-left: 10%;margin-right: 10%;opacity:0.3;'><div class='row hover-tab' style='margin-top:10px;margin-left: 12%;margin-right: 12%;'><div class='col-xs-3' style='font-size:19px;padding-left: 6%;color: gray;'><i class='icon-circle' style='color: gray; margin-right: 4%;font-size: 10px;'></i>Owner</div>";if(n.length){for(u=u+"<div class='col-xs-7' style='text-align: center;font-size: 17px;'>"+n[0],e=1;e<n.length;e++)u=u+"<br>"+n[e];u+="</div>"}else u+="<div class='col-xs-7' style='text-align: center;font-size: 17px;'>None</div>";if(u+="</div><hr style='margin-left: 15%;margin-right: 15%;opacity:0.3;'>",u+="<div class='row hover-tab' style='margin-top:10px;margin-left: 12%;margin-right:12%'><div class='col-xs-3' style='font-size:19px;padding-left: 6%;color: gray;'><i class='icon-circle' style='color: gray; margin-right: 4%;font-size: 10px;'></i>Editor</div>",i.length){for(u=u+"<div class='col-xs-7' style='text-align: center;font-size: 17px;'>"+i[0],e=1;e<i.length;e++)u=u+"<br>"+i[e];u+="</div>"}else u+="<div class='col-xs-7' style='text-align: center;font-size: 17px;'>None</div>";if(u+="</div><hr style='margin-left: 15%;margin-right: 15%;opacity:0.3;'>",u+="<div class='row hover-tab' style='margin-top:10px;margin-left: 12%;margin-right:12%'><div class='col-xs-3' style='font-size:19px;padding-left: 6%;color: gray;'><i class='icon-circle' style='color: gray; margin-right: 4%;font-size: 10px;'></i>Viewer</div>",o.length){for(u=u+"<div class='col-xs-7' style='text-align: center;font-size: 17px;'>"+o[0],e=1;e<o.length;e++)u=u+"<br>"+o[e];u+="</div>"}else u+="<div class='col-xs-7' style='text-align: center;font-size: 17px;'>None</div>";if(u+="</div><hr style='margin-left: 10%;margin-right: 10%;opacity:0.6;'>",u+="<div class='row hover-tab' style='margin-top:15px;margin-left:10%;margin-right: 10%;'><div class='col-xs-3' style='font-size:20px;padding-left: 6%;color:#545559;'>Maps</div>",U.hasOwnProperty("maps")){u+="<div class='col-xs-7' style='text-align: center;font-size: 17px;'>";for(var r in U.maps)U.maps.hasOwnProperty(r)&&(u=u+r+"<br>");u+="</div>"}else u+="<div class='col-xs-7' style='text-align: center;font-size: 17px;'>None</div>";u+="</div><hr style='margin-left: 10%;margin-right: 10%;opacity:0.8;'>",d.innerHTML=u}function y(){var e=window.location.hash.substring(1),t=document.getElementById("right-title");t.innerHTML="Analytics";var n=document.getElementById("right-address");n.innerHTML='<li> <a href="#"><i class="icon-project"></i>Projects</a></li><li> <a style="cursor:pointer" onclick="call.viewProject(\''+e+'\')">Maps</a></li><li class="active">Analystics</li>';var i=document.getElementById("left_sidebar");i.innerHTML="";var o="<li class='active'><a class='item_l'><i class='icon-analytics'></i> <span>Analytics</span></a></li><li><a class='item_l' onclick='call.viewProject(\""+e+"\")'><i class='icon-project'></i> <span>"+U.name+"</span></a></li><li ><a class='item_l' href='#profile'><i class='icon-profile-info'></i> <span>View Your Profile</span></a></li>";i.innerHTML=o;var r=document.getElementById("tile");r.innerHTML="",r.className="";var a={},s={},l=new Date;if(l.setHours(0,0,0,0),l=Date.parse(l),U.hasOwnProperty("maps"))for(var c in U.maps)if(U.maps.hasOwnProperty(c)){a[c]={Completed:[],Incomplete:[],Ongoing:[],Not_Started:[],Not_Set:[]},s[c]={Today:[],Tomorrow:[],Week:[],Later:[],Gone:[],Not_Set:[]};var d=U.maps[c];delete d.length;for(var u in d)if(d.hasOwnProperty(u)){var p=d[u].status;2==p.split(" ").length&&(p=p.split(" ")[0]+"_"+p.split(" ")[1]),a[c].hasOwnProperty(p)&&a[c][p].push(u);var f=d[u].due_date;f=Date.parse(f),isNaN(f)?s[c].Not_Set.push(u):0>f-l?s[c].Gone.push(u):(f-l==0&&s[c].Today.push(u),f-l==864e5&&s[c].Tomorrow.push(u),5184e5>=f-l&&s[c].Week.push(u),f-l>5184e5&&s[c].Later.push(u))}}var h={Completed:0,Incomplete:0,Ongoing:0,Not_Started:0,Not_Set:0};for(var c in a)a.hasOwnProperty(c)&&(h.Completed=h.Completed+a[c].Completed.length,h.Incomplete=h.Incomplete+a[c].Incomplete.length,h.Ongoing=h.Ongoing+a[c].Ongoing.length,h.Not_Started=h.Not_Started+a[c].Not_Started.length,h.Not_Set=h.Not_Set+a[c].Not_Set.length);if(h.Completed+h.Incomplete+h.Ongoing+h.Not_Set+h.Not_Started==0)toastr.error("No tasks in this project to show analytics"),call.viewProject(e);else{var m=[{value:h.Completed,color:"#26A65B",highlight:"#2ECC71",label:"Completed"},{value:h.Incomplete,color:"#F7464A",highlight:"#FF5A5E",label:"Incomplete"},{value:h.Ongoing,color:"#FDB45C",highlight:"#FFC870",label:"Ongoing"},{value:h.Not_Started,color:"#1E8BC3",highlight:"#219ddd",label:"Not Started"},{value:h.Not_Set,color:"#8E44AD",highlight:"#9B59B6",label:"Not Set"}],g="<div class='row' style='margin-top:15px;'><div class='col-xs-6 responsive-small'><div class='analyse_head'>Status of Tasks</div><br><div id='canvas-holder' style='width:60%;'><canvas id='chart-area' width='500' height='500'/></div></div>",v={Not_Set:0,Today:0,Tomorrow:0,Week:0,Later:0,Gone:0};for(var c in s)s.hasOwnProperty(c)&&(v.Not_Set=v.Not_Set+s[c].Not_Set.length,v.Today=v.Today+s[c].Today.length,v.Tomorrow=v.Tomorrow+s[c].Tomorrow.length,v.Week=v.Week+s[c].Week.length,v.Later=v.Later+s[c].Later.length,v.Gone=v.Gone+s[c].Gone.length);var y=[{value:v.Not_Set,color:"#8E44AD",highlight:"#9B59B6",label:"Not set"},{value:v.Today,color:"#F7464A",highlight:"#FF5A5E",label:"Today"},{value:v.Tomorrow,color:"#FDB45C",highlight:"#FFC870",label:"Tomorrow"},{value:v.Week,color:"#26A65B",highlight:"#2ECC71",label:"This Week"},{value:v.Later,color:"#1E8BC3",highlight:"#219ddd",label:"After this week"},{value:v.Gone,color:"#336E7B",highlight:"#4494a5",label:"Gone"}];g+="<div class='col-xs-6 responsive-small' ><div class='analyse_head'>Due Date of Tasks</div><br><div id='canvas-date' style='width:60%;'><canvas id='chart-date' width='500' height='500'/></div></div></div>",r.innerHTML=g;var b=document.getElementById("chart-area").getContext("2d"),w=new Chart(b).Doughnut(m,{responsive:!0}),_=Chart.helpers,x=document.createElement("div");x.innerHTML=w.generateLegend(),_.each(x.firstChild.childNodes,function(e,t){_.addEvent(e,"mouseover",function(){var e=w.segments[t];e.save(),e.fillColor=e.highlightColor,w.showTooltip([e]),e.restore()})}),_.addEvent(x.firstChild,"mouseout",function(){w.draw()}),document.getElementById("chart-area").parentNode.parentNode.appendChild(x.firstChild);var C=document.getElementById("chart-date").getContext("2d"),T=new Chart(C).Doughnut(y,{responsive:!0}),_=Chart.helpers,x=document.createElement("div");x.innerHTML=T.generateLegend(),_.each(x.firstChild.childNodes,function(e,t){_.addEvent(e,"mouseover",function(){var e=T.segments[t];e.save(),e.fillColor=e.highlightColor,T.showTooltip([e]),e.restore()})}),_.addEvent(x.firstChild,"mouseout",function(){T.draw()}),document.getElementById("chart-date").parentNode.parentNode.appendChild(x.firstChild)}}function b(e){window.location.hash="",routie(e)}function w(){var e=document.getElementById("modal_title");e.innerHTML="Delete Project ";var t=document.getElementById("modal_body"),n="<div class='form-group' style='text-align:center;'>Do you want to delete this project?</div><div class='form-group'><div class='col-sm-offset-2 col-sm-10'><button  class='btn btn-danger' onclick = 'call.delProject()'>Delete</button><button  class='btn btn-primary' style = 'margin-left: 10px;' onclick = 'call.closeModal()'>Cancel</button></div></div>";t.innerHTML=n,$("#modal_form").bPopup()}function _(){real.write({action:"delete_project",data:{pid:window.location.hash.substring(1).split("/")[1]}}),$("#modal_form").bPopup().close()}function x(){$("#modal_form").bPopup().close()}function C(e){if("on"!=document.querySelector("#reset").dataset.reset){$("#change_node").bPopup(),document.getElementById("change_node").setAttribute("data-id",e.i_no);var t=window.location.hash.substring(1).split("/")[1];t=t.split("_");for(var n=document.getElementsByClassName("chatitems");n[0];)n[0].parentNode.removeChild(n[0]);real.write({action:"get_vote",data:{i_no:e.i_no,m_n:t[1],pid:t[0]},scope:{pid:t[0],m_n:t[1]}}),real.write({action:"get_chat",scope:{pid:t[0],m_n:t[1]},data:{i_no:e.i_no,m_n:t[1],pid:t[0]}}),document.getElementById("info_title").innerHTML=e.name,document.getElementById("info_info").innerHTML=e.info,document.getElementById("info_date").innerHTML=e.due_date,document.getElementById("info_status").innerHTML=e.status;var i=call.ret_uid();document.getElementById("info_assign").innerHTML=e.assign?e.assign==X[i].email?"Myself":e.assign:"None",document.getElementById("node_hide").innerHTML=1==V.data[e.i_no].visibility?"Hide":"Unhide",document.getElementById("create_assign").options.length=0;var o=["None","Myself"],r=0;for($("#create_title").val(""),$("#create_info").val(""),$("#cr_date_picker").val(""),r=0;2>r;r++){var a=document.createElement("option");a.text=o[r],a.value=o[r];var s=document.getElementById("create_assign");s.appendChild(a)}for(var l in X)if(X.hasOwnProperty(l)&&i!=l){var a=document.createElement("option");a.text=X[l].email,a.value=X[l].email;var s=document.getElementById("create_assign");s.appendChild(a)}document.getElementById("edit_assign").options.length=0,$("#edit_title").val(e.name),$("#edit_info").val(e.info),$("#ed_date_picker").val(e.due_date);for(var r,c=document.getElementById("edit_dropdown"),d=0;r=c.options[d];d++)if(r.value==e.status){c.selectedIndex=d;break}for(r=0;2>r;r++){var a=document.createElement("option");a.text=o[r],a.value=o[r];var s=document.getElementById("edit_assign");s.appendChild(a)}for(var l in X)if(X.hasOwnProperty(l)&&i!=l){var a=document.createElement("option");a.text=X[l].email,a.value=X[l].email;var s=document.getElementById("edit_assign");s.appendChild(a)}var u,c=document.getElementById("edit_assign");u=e.assign==X[i].email?"Myself":e.assign;for(var r,d=0;r=c.options[d];d++)if(r.value==u){c.selectedIndex=d;break}document.getElementById("cr_submit").onclick=function(){call.add_node(e)},document.getElementById("ed_submit").onclick=function(){call.edit_node(e)},document.getElementById("task_delete").onclick=function(){var n=[];1e4!=e.i_no?(n.push(e.i_no),call.del_node(e.i_no,n),call.choose_parent(0,-1),real.write({action:"del_node",scope:{pid:t[0],m_n:t[1]},data:{pid:t[0],m_n:t[1],deleted:n,i_no:e.i_no,parenti_no:e.parenti_no}})):toastr.error("You are not allowed to delete the root")},document.getElementById("task_cancel").onclick=function(){$("#change_node").bPopup().close()},document.getElementById("send_message").onclick=function(){call.chat(e.i_no)};var p=X,f=[],h={};for(var l in p)l!=call.ret_uid()&&p.hasOwnProperty(l)&&(f.push({username:p[l].email.split("@")[0],email:p[l].email}),h["@"+p[l].email.split("@")[0]]=p[l].email);localStorage.setItem("uemail",JSON.stringify(h)),$("#user_message").mention({users:f}),document.getElementById("user_message").onkeypress=function(t){13==t.keyCode&&call.chat(e.i_no)},document.getElementById("node_like").onclick=function(){real.write({action:"vote",scope:{pid:t[0],m_n:t[1]},data:{pid:t[0],m_n:t[1],i_no:e.i_no,name:$("#user_name").data().name,vote:1}})},document.getElementById("node_dislike").onclick=function(){real.write({action:"vote",scope:{pid:t[0],m_n:t[1]},data:{pid:t[0],m_n:t[1],i_no:e.i_no,name:$("#user_name").data().name,vote:0}})},document.getElementById("node_hide").onclick=function(){var t=V.data[e.i_no].visibility;if(t){var n={id:e.i_no,value:0};call.hideNode(e.i_no),call.change_nodedetails(n,"hide")}else{var i=[];call.unhideNode(e.i_no,i);for(var n={id:e.i_no,value:1},o=0;o<i.length;o++)graph.addLink(V.data[i[o]].parenti_no,i[o]);call.change_nodedetails(n,"hide")}$("#change_node").bPopup().close()}}}function T(e){var t=window.location.hash.substring(1).split("/")[1];t=t.split("_");var n=document.getElementById("cr_date_picker").value,i=document.getElementById("create_dropdown"),o=i.options[i.selectedIndex].value,r=document.getElementById("create_assign"),a=r.options[r.selectedIndex].value;"Myself"==a&&(a=X[call.ret_uid()].email),0==$("#create_title").val().length?toastr.error("Please give a title to new task"):0==$("#create_info").val().length?toastr.error("Please give info to new task"):0==n.length?toastr.error("Please select deadline for the task"):real.write({action:"add_node",scope:{pid:t[0],m_n:t[1]},data:{pid:t[0],m_n:t[1],name:$("#create_title").val(),info:$("#create_info").val(),parenti_no:e.i_no,due_date:n,status:o,assign:a}})}function k(e){var t=window.location.hash.substring(1).split("/")[1];t=t.split("_");var n=document.getElementById("ed_date_picker").value,i=document.getElementById("edit_dropdown"),o=i.options[i.selectedIndex].value,r=document.getElementById("edit_assign"),a=r.options[r.selectedIndex].value;"Myself"==a&&(a=X[call.ret_uid()].email),0==$("#edit_title").val().length?toastr.error("Please give a title to task"):0==$("#edit_info").val().length?toastr.error("Please give info to task"):0==n.length?toastr.error("Please select deadline for the task"):real.write({action:"edit_node",scope:{pid:t[0],m_n:t[1]},data:{pid:t[0],m_n:t[1],i_no:e.i_no,name:$("#edit_title").val(),info:$("#edit_info").val(),due_date:n,status:o,assign:a}})}function E(e,t){if(V.data[e])for(var n=0;n<V.data[e].childi_no.length;n++)t.push(V.data[e].childi_no[n]),call.del_node(V.data[e].childi_no[n],t)}function N(e){if(V.data[e])for(var t=0;t<V.data[e].childi_no.length;t++)call.hideNode(V.data[e].childi_no[t]),graph.removeNode(V.data[e].childi_no[t])}function D(e,t){if(V.data[e])for(var n=0;n<V.data[e].childi_no.length;n++){call.unhideNode(V.data[e].childi_no[n],t);var i=V.data[e].childi_no[n],o=V.data[i];delete o.visibility,graph.addNode(i,o),t.push(i)}}function S(){$("#new_password").fadeIn(),document.getElementById("update_password").onclick=function(){function e(){}if($("#profile_repassword").val().length>6){var t="/change-password",n={p:$("#profile_repassword").val()};$.ajax({type:"POST",url:t,data:n,success:e}),$("#new_password").fadeOut()}else $("#profile_repassword").val(""),toastr.error("Please type a password of minimum 6 characters")},document.getElementById("pro_passcancel").onclick=function(){$("#new_password").fadeOut()}}function I(){$("#gravatar_id").fadeIn(),document.getElementById("update_gravatar").onclick=function(){function e(){}var t=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,n=$("#gravatar_mail").val();if(t.test(n)){var i="/gravatar",o={mail:n};$.ajax({type:"GET",url:i,data:o,success:e})}$("#gravatar_id").fadeOut()},document.getElementById("cancel_gravatar").onclick=function(){$("#gravatar_id").fadeOut()}}function O(){var e=$("#p_name").val(),t=$("#member_owner").val().trim(),n=$("#member_editor").val().trim(),i=$("#member_viewer").val().trim(),o=$("#project_desc").val(),r=t.split(","),a=n.split(","),s=i.split(","),l={},c=0;for(c=0;c<r.length;c++)r[c].length>0&&(l[r[c]]="owner");for(c=0;c<a.length;c++)a[c].length>0&&(l[a[c]]="editor");for(c=0;c<s.length;c++)s[c].length>0&&(l[s[c]]="viewer");$("#createProjForm").children("textarea").val(""),e.length?($("#p_name").val(""),$("#member_owner").val(""),$("#member_editor").val(""),$("#member_viewer").val(""),real.write({action:"new_project",data:{name:e,desc:o,members:l}})):toastr.error("Enter the name of the project")}function j(){$("#createProjForm").bPopup().close()}function M(){$("#add_collab").bPopup().close()}function A(e,t){G=e,q=t,G&&(-1!=t?(K&&($("#"+K).attr("stroke-width","inherit"),$("#"+K).attr("stroke","inherit")),$("#"+G).attr("stroke-width","3"),$("#"+G).attr("stroke","#000"),K=G):($("#"+G).attr("stroke-width","inherit"),$("#"+G).attr("stroke","inherit")))}function L(e,t){if(0==graph.getNodesCount()){Q={},Q.data={};var n=V.data[e];n.childi_no=[],n.parenti_no=0,Q.data[e]=n,graph.addNode(e,n);var i=document.getElementById("node"+e);i.parentNode.removeChild(i)}else if(-1==q)toastr.error("Firstly select a parent node by clicking on the parent then select the node");else{var n=V.data[e];n.childi_no=[],n.parenti_no=G,Q.data[G].childi_no.push(e),Q.data[e]=n,graph.addNode(e,n),graph.addLink(G,e),call.choose_parent(G,-1);var i=document.getElementById("node"+e);i.parentNode.removeChild(i)}if(graph.getNodesCount()==t){var o=document.getElementById("submit_reset");o.setAttribute("style","display:block;")}}function P(){var e=window.location.hash.substring(1).split("/")[1];e=e.split("_"),real.write({action:"reset_map",scope:{pid:e[0],m_n:e[1]},data:{map:Q,m_n:e[1],pid:e[0]}})}function H(){return W}function B(){var e=[{element:"app_project",intro:"Your Current <b>Projects</b> ",position:"right"},{element:"app_create",intro:"Click to <b>create project</b> ...",position:"right"},{element:"app_task",intro:"Tasks assigned to you.",position:"right"},{element:"app_profile",intro:"<span style='font-family: Tahoma'>Your Full Profile </span>",position:"right"},{element:"app_dropdownmenu",intro:"Your info is always here....",position:"bottom"}],t=document.getElementById("introjs_head"),n="<div style='top: 0;bottom: 0; left: 0;right: 0;position: fixed;opacity: 0.8;' class='introjs-overlay' id='introjs-overlay'></div>",i="<div class='introjs-helperLayer'><div style='opacity: 1; left: 240px;' class='introjs-tooltip'><div class='introjs-tooltiptext'>"+e[0].intro+"</div><div style='display: inherit;' class='introjs-arrow left'></div><div class='introjs-tooltipbuttons'><a href='javascript:void(0);' class='introjs-button introjs-skipbutton' id='introjs-skipbutton'>Skip</a><a class='introjs-button introjs-prevbutton introjs-disabled' id='introjs-prevbutton'  href='javascript:void(0);'>← Back</a><a class='introjs-button introjs-nextbutton' id='introjs-nextbutton' href='javascript:void(0);'>Next →</a></div></div></div> ";t.innerHTML=n+i,jtour.iniTour(e.length),jtour.ini_Steps(e),jtour._step(1),jtour._setHelperLayerPosition(document.querySelector(".introjs-helperLayer"),e[0].element),document.getElementById(e[0].element).className+=" introjs-showElement introjs-relativePosition",document.getElementById("introjs-overlay").onclick=function(){jtour._exitIntro()},document.getElementById("introjs-skipbutton").onclick=function(){jtour._exitIntro()},document.getElementById("introjs-nextbutton").onclick=function(){jtour._nextStep()},document.getElementById("introjs-prevbutton").onclick=function(){jtour._prevStep()}}function F(e,t,n){real.write({action:"not_read",data:{i_no:t}}),"true"==n&&routie(e)}function z(e,t,n){if(routie(e),"undefined"==typeof graph){event_mention=new Event("mention");var i=function(){document.removeEventListener("mention",i,!1);var e=graph.getNode(t);call.genModal(e.data)};document.addEventListener("mention",i,!1)}else{var o=graph.getNode(t);call.genModal(o.data)}-1!=n&&real.write({action:"not_read",data:{i_no:n}})}function R(){if(0>=G)toastr.error("You need to select a task before you can add a task.");else if(document.getElementById("modal_addTask").click(),document.getElementById(G)){var e=graph.getNode(G);C(e.data)}}var q,W,Y={},V={},X={},U={},G=0,K=0,Q={};return{ini_uid:e,ret_uid:t,ini_collaborators:o,ret_collaborators:r,ini_project:n,ch_project:i,return_nodedetails:a,change_nodedetails:l,initialise_nodedetails:s,cr_map:d,closeModal:x,new_projModal:g,newMap:u,add_collab:p,del_collab:h,delete_user:m,submit_addCollab:f,delPrModal:w,delProject:_,genModal:C,add_node:T,edit_node:k,del_node:E,modal_upassword:S,modal_ugravitar:I,chat:c,close_newProj:j,closecollab:M,submit_newProj:O,hideNode:N,unhideNode:D,prDetail:v,viewProject:b,analyseProject:y,reset_graph:L,choose_parent:A,submit_resetGraph:P,take_tour:B,ret_trip:H,user_read:F,user_mention:z,add_Task:R}}(),realtime=function(){function e(e,t,n,i){k.data=e,k.sorted=t,k.index={},k.index.before=n,k.index.after=i}function t(e){toastr.error("Error: "+e)}function n(e){$("#createProjForm").bPopup().close();var t=document.getElementById("tile"),n=document.createElement("div");n.className="pure-u-1-4",n.setAttribute("style"," float: left; margin-top: 10px; margin-left: 10px; ");var i="<a class='metro-tile' id='"+e.proj._id+"'style='text-align:center; cursor: pointer; width: 98%; height: 110px; display: block; background-color: rgb(245, 105, 84); color: #fff;' href='#project/"+e.proj._id+"'>"+e.proj.name+"</a>";n.innerHTML=i,t.appendChild(n),toastr.success("Project "+e.proj.name+" has been created.");var o="",r=0;if(e.hasOwnProperty("status"))for(var a in e.status.stat)o=o+a+" status: "+e.status.stat[a]+"<br>",r++;r&&toastr.success(o)}function o(e){e=JSON.parse(e),call.ini_collaborators(e.users,e.createdby),call.ini_project(e);var t=document.getElementById("right-title");t.innerHTML=e.name;var n=document.getElementById("right-address");n.innerHTML='<li> <a href="#"><i class="icon-project"></i>Projects</a></li><li class="active">Maps</li>';var i=document.getElementById("left_sidebar");i.innerHTML="";var o="<li class='active'><a class='item_l'><i class='icon-map'></i> <span>Maps(Current)</span></a></li><li onclick='call.cr_map()' id='add_newmap'><a class='item_l'><i class='icon-map_add'></i> <span>Create New Map</span> </a></li><li onclick='call.prDetail()'><a class='item_l'><i class='icon-info_project'></i> <span>Info</span></a></li><li onclick='call.add_collab()'><a class='item_l'><i class='icon-add_collab'></i> <span>Add Collaborators</span> </a></li><li onclick='call.del_collab()'><a class='item_l'><i class='icon-del_collab'></i> <span>Delete Collaborators</span> </a></li><li onclick='call.delPrModal()'><a class='item_l'><i class='icon-del_project'></i> <span>Delete Current Project</span></a></li><li ><a class='item_l' onclick='call.analyseProject()'><i class='icon-analytics'></i> <span>Analyse</span></a></li><li ><a class='item_l' href='#profile'><i class='icon-profile-info'></i> <span>View Your Profile</span></a></li>";
i.innerHTML=o,$("#tile")&&$("#tile").remove();var r=document.getElementById("main_content");r.innerHTML="";var a=document.createElement("div");a.className="pure-g",a.id="tile";var s="",l=0;if(e.hasOwnProperty("maps"))for(var c in e.maps)e.maps.hasOwnProperty(c)&&(s=s+"<div class='pure-u-1-4' style='margin-top: 10px; margin-left: 10px;'><a class='metro-tile' style='text-align:center;cursor: pointer; width: 98%; height: 110px; display: block; background-color: #32A3E0; color: #fff;' href='#map/"+window.location.hash.substring(1).split("/")[1]+"_"+c+"' id='"+c+"'>"+c+"</a></div>",l++);0==l&&(document.getElementById("add_newmap").setAttribute("style","background:#B9B5B5"),s+="<button id='onetime_add' onclick='call.cr_map()'>Add Map</button>"),a.innerHTML=s,r.appendChild(a);var d,u=document.getElementsByClassName("metro-tile");for(d=0;d<u.length;d++)Tile(u[d])}function r(e){e=JSON.parse(e),call.ini_collaborators(e.users)}function a(e){var t=window.location.hash.substring(1).split("/")[1];if(e.scope.pid==t){$("#modal_form").bPopup().close(),call.ch_project(e.map,"add"),if(document.getElementById("onetime_add"))document.getElementById("onetime_add").remove();var n=document.getElementById("tile"),i=document.createElement("div");i.className="pure-u-1-4",i.setAttribute("style"," float: left; margin-top: 10px; margin-left: 10px; ");var o="<a class='metro-tile' id='"+e.map+"'style='text-align:center; cursor: pointer; width: 98%; height: 110px; display: block; background-color: #32A3E0; color: #fff;' href='#map/"+window.location.hash.substring(1).split("/")[1]+"_"+e.map+"'>"+e.map+"</a>";i.innerHTML=o,n.appendChild(i),toastr.success("Map "+e.map+" has been created."),document.getElementById("add_newmap").setAttribute("style","")}}function s(e){toastr.success("Project "+e.name+" has been successfully deleted."),routie("#")}function l(e){var t=window.location.hash.substring(1).split("/")[1];if(t=t.split("_")[0],e.scope.pid==t){var n=document.getElementById("right-title");n.innerHTML="Map Name: "+e.info.m_n;var i=e.info.m_n;if(void 0==i.split(" ")[1])var o=i;else if(void 0==i.split(" ")[2])var o=i.split(" ")[0]+" "+i.split(" ")[1];else var o=i.split(" ")[0]+" "+i.split(" ")[1]+"....";var r=document.getElementById("right-address");r.innerHTML='<li><a href="#"><i class="icon-project"></i>Projects</a></li><li ><a href="#project/'+t+'">Maps</a></li><li class="active">'+o+"</li>";var a=document.getElementById("left_sidebar");a.innerHTML="";var s="<li><a class='item_l' onclick= 'call.add_Task()' id='node_addTask' ><i class='icon-map'></i> <span>Add notes</span> </a></li><li><a class='item_l' id='center'><i class='icon-center'></i> <span>Center your Notes</span> </a></li><li><a class='item_l' id='pin'><i class='icon-pin'></i> <span>Pin your notes</span> </a></li><li><a class='item_l' id='reset'><i class='icon-reset1'></i> <span>Reset graph</span> </a></li><li><a class='item_l' id='reset_scale'><i class='icon-resetscale'></i> <span>Reset Scale</span> </a></li><li ><a class='item_l' href='#profile'><i class='icon-profile-info'></i> <span>View Your Profile</span></a></li>";a.innerHTML=s,$("#tile")&&$("#tile").remove();var l=document.getElementById("main_content");l.innerHTML="";var c=document.createElement("div");c.className="map_graph",c.id="tile",c.setAttribute("style","height:100%"),l.appendChild(c);var d=e.data;delete d.length,delete d.visibility,call.initialise_nodedetails(d),functions.main(d),document.getElementById("reset").onclick=function(){var e=call.ret_collaborators(),t=call.ret_uid(),n=e[t].status;if("viewer"==n)toastr.error("You don't have rights to reset the graph");else{document.getElementById("node_addTask").setAttribute("style","pointer-events: none;"),document.getElementById("center").setAttribute("style","pointer-events: none;"),document.getElementById("pin").setAttribute("style","pointer-events: none;"),document.getElementById("reset").setAttribute("style","pointer-events: none;"),document.getElementById("reset_scale").setAttribute("style","pointer-events: none;"),$("#reset").attr("data-reset","on");var i=graph.getNodesCount();graph.forEachNode(function(e){graph.removeNode(e.id)});var o=document.getElementById("main_content");document.getElementById("tile").setAttribute("style","height:100%;width:80%;float:right;");var r=document.createElement("div");r.setAttribute("style","height:100%;width:20%;float:left;"),nodedetails=call.return_nodedetails();var a="<ul style='list-style-type: none;'>";for(var s in nodedetails.data)nodedetails.data.hasOwnProperty(s)&&(a=a+"<a id='node"+s+"' style='cursor:pointer;' onclick='call.reset_graph(\""+s+'", "'+i+"\")'><li style=' font: 200 20px/1.5 Helvetica, Verdana, sans-serif;border-bottom: 1px solid #ccc;'>"+nodedetails.data[s].name+"</li></a>");call.choose_parent(0,-1),a+="</ul>",a+="<button id='submit_reset' onclick='call.submit_resetGraph()'style='display:none;'>Submit</button><button id='reset_cancel' >Cancel</button>",r.innerHTML=a,o.appendChild(r),document.getElementById("reset_cancel").onclick=function(){var e=window.location.hash.substring(1).split("/")[1],t=e.split("_");real.write({action:"open_map",data:{pid:t[0],m_n:t[1]},scope:{pid:t[0]}})}}}}}function c(e){var t=window.location.hash.substring(1);if(t.search("/")>0&&t.search("_")>0&&(t=t.split("/")[1],t=t.split("_"),e.scope.pid==t[0]&&e.scope.m_n==t[1])){var n=document.getElementById("right-title");n.innerHTML="Map Name: "+e.scope.m_n;var i=e.scope.m_n;if(void 0==i.split(" ")[1])var o=i;else if(void 0==i.split(" ")[2])var o=i.split(" ")[0]+" "+i.split(" ")[1];else var o=i.split(" ")[0]+" "+i.split(" ")[1]+"....";var r=document.getElementById("right-address");r.innerHTML='<li><a href="#"><i class="icon-project"></i>Projects</a></li><li ><a href="#project/'+t[0]+'">Maps</a></li><li class="active">'+o+"</li>";var a=document.getElementById("left_sidebar");a.innerHTML="";var s="<li class='active'><a class='item_l' ><i class='icon-map'></i> <span>Notes(current)</span> </a></li><li><a class='item_l' id='center'><i class='icon-center'></i> <span>Center your Notes</span> </a></li><li><a class='item_l' id='pin'><i class='icon-pin'></i> <span>Pin your notes</span> </a></li><li><a class='item_l' id='reset'><i class='icon-reset1'></i> <span>Reset graph</span> </a></li><li><a class='item_l' id='reset_scale'><i class='icon-resetscale'></i> <span>Reset Scale</span> </a></li><li ><a class='item_l' href='#profile'><i class='icon-profile-info'></i> <span>View Your Profile</span></a></li>";a.innerHTML=s,$("#tile")&&$("#tile").remove();var l=document.getElementById("main_content");l.innerHTML="";var c=document.createElement("div");c.className="map_graph",c.id="tile",c.setAttribute("style","height:100%"),l.appendChild(c);var d=e.data;delete d.length,delete d.visibility,call.initialise_nodedetails(d),functions.main(d),document.getElementById("reset").onclick=function(){var e=graph.getNodesCount();graph.forEachNode(function(e){graph.removeNode(e.id)}),document.getElementById("center").setAttribute("style","pointer-events: none;"),document.getElementById("pin").setAttribute("style","pointer-events: none;"),document.getElementById("reset").setAttribute("style","pointer-events: none;"),document.getElementById("reset_scale").setAttribute("style","pointer-events: none;");var t=document.getElementById("main_content");document.getElementById("tile").setAttribute("style","height:100%;width:80%;float:right;");var n=document.createElement("div");n.setAttribute("style","height:100%;width:20%;float:left;"),nodedetails=call.return_nodedetails();var i="<ul style='list-style-type: none;'>";for(var o in nodedetails.data)nodedetails.data.hasOwnProperty(o)&&(i=i+"<a id='node"+o+"' style='cursor:pointer;' onclick='call.reset_graph(\""+o+'", "'+e+"\")'><li style=' font: 200 20px/1.5 Helvetica, Verdana, sans-serif;border-bottom: 1px solid #ccc;'>"+nodedetails.data[o].name+"</li></a>");call.choose_parent(0,-1),i+="</ul>",i+="<button id='submit_reset' onclick='call.submit_resetGraph()'style='display:none;'>Submit</button>",n.innerHTML=i,t.appendChild(n)}}}function d(e){var t=window.location.hash.substring(1);t.search("/")>0&&t.search("_")>0&&(t=t.split("/")[1],t=t.split("_"),e.scope.pid==t[0]&&e.scope.m_n==t[1]&&($("#change_node").bPopup().close(),graph.addNode(e.data.node.i_no,e.data.node),graph.addLink(e.data.node.parenti_no,e.data.node.i_no),toastr.success("Task :"+e.data.node.name+" has been created"),call.change_nodedetails(e.data.node,"add")))}function u(e){var t=window.location.hash.substring(1);if(t.search("/")>0&&t.search("_")>0&&(t=t.split("/")[1],t=t.split("_"),e.scope.pid==t[0]&&e.scope.m_n==t[1])){$("#change_node").bPopup().close(),graph.removeNode(e.data.node.i_no),graph.addNode(e.data.node.i_no,e.data.node),0!=e.data.node.parenti_no&&graph.addLink(e.data.node.parenti_no,e.data.node.i_no);for(var n=0;n<e.data.node.childi_no.length;n++)graph.addLink(e.data.node.i_no,e.data.node.childi_no[n]);toastr.success("Task :"+e.data.node.name+" has been edited"),call.change_nodedetails(e.data.node,"edit")}}function p(e){var t=window.location.hash.substring(1);if(t.search("/")>0&&t.search("_")>0&&(t=t.split("/")[1],t=t.split("_"),e.scope.pid==t[0]&&e.scope.m_n==t[1])){if($("#change_node").bPopup().close(),e.data.deleted)for(var n=0;n<e.data.deleted.length;n++)graph.removeNode(e.data.deleted[n]);call.change_nodedetails(e.data,"delete")}}function f(e){var t=window.location.hash.substring(1);if(t.search("/")>0&&t.search("_")>0){t=t.split("/")[1],t=t.split("_");var n=document.getElementById("change_node").getAttribute("data-id");if(e.scope.pid==t[0]&&e.scope.m_n==t[1]&&n==e.i_no){var i=document.createElement("div");i.className="chatitems",i.innerHTML="<div class='item' style='margin-bottom: 20px;margin-top:5px;'><img style='border-radius: 20px;height: 40px;border: 2px solid rgba(0, 90, 166, 1);' src='https://www.gravatar.com/avatar/"+e.data.gravatar+"?d=identicon' alt='user image' /><div class='message'style='margin-left: 50px;margin-top: -45px;'><a class='name'><small style='margin-right:25px' class='text-muted pull-right'><i class='fa fa-clock-o'></i>"+e.data.time+"</small>"+e.data.name+"</a><br>"+e.data.msg+"</div></div>",document.getElementById("chat-box").appendChild(i)}}}function h(e){var t=window.location.hash.substring(1);if(t.search("/")>0&&t.search("_")>0&&(t=t.split("/")[1],t=t.split("_"),e.scope.pid==t[0]&&e.scope.m_n==t[1])){var n=document.createElement("div");n.className="chatitems";for(var i="",o=0;o<e.data.length;o++)i=i+"<div class='item' style='margin-bottom: 20px;margin-top:5px;'><img style='border-radius: 20px;height: 40px;border: 2px solid rgba(0, 90, 166, 1);' src='https://www.gravatar.com/avatar/"+e.data[o].gravatar+"?d=identicon' alt='user image' /><div class='message' style='margin-left: 50px;margin-top: -45px;'><a class='name'><small style='margin-right:25px' class='text-muted pull-right'><i class='fa fa-clock-o'></i>"+e.data[o].time+"</small>"+e.data[o].name+"</a><br>"+e.data[o].msg+"</div></div>";n.innerHTML=i,document.getElementById("chat-box").appendChild(n)}}function m(e){document.getElementById("node_like").innerHTML="<i class='icon-thumbs-o-up thumbs-up fa-2x'></i>",document.getElementById("node_dislike").innerHTML="<i class='icon-thumbs-o-down thumbs-down fa-2x'></i>";var t=window.location.hash.substring(1);if(t.search("/")>0&&t.search("_")>0){t=t.split("/")[1],t=t.split("_");var n=0,i=[],o=[],r=document.getElementById("change_node").getAttribute("data-id");if(e.scope.pid==t[0]&&e.scope.m_n==t[1]&&r==e.data.data.i_no){var a=call.ret_uid(),s=$("#user_name").data().name+"#"+a;e.data.votes.hasOwnProperty(s)&&(e.data.votes[s]?(document.getElementById("node_like").innerHTML="<i class='icon-thumbs-up thumbs-up  fa-2x'></i>",n=1):(document.getElementById("node_dislike").innerHTML="<i class='icon-thumbs-down fa-2x'></i>",n=-1),delete e.data.votes[s]);for(var l in e.data.votes)e.data.votes.hasOwnProperty(l)&&(1==e.data.votes[l]?i.push(l.split("#")[0]):0==e.data.votes[l]&&o.push(l.split("#")[0]));var c,d=document.getElementById("likes"),u="";if(1==n?(d.innerHTML=i.length+1,u="You <br />"):d.innerHTML=i.length,i.length){for(var c=0;c<i.length-1;c++)u=u+i[c]+"<br />";u+=i[c]}else 1!=n&&(u="No likes yet");d.onmouseover=function(){tooltip.show(u)},d.onmouseout=function(){tooltip.hide()};var p="",f=document.getElementById("dislikes");if(-1==n?(f.innerHTML=o.length+1,p="You <br />"):f.innerHTML=o.length,o.length){for(var c=0;c<o.length-1;c++)p=p+o[c]+"<br />";p+=o[c]}else-1!=n&&(p="No dislikes");f.onmouseover=function(){tooltip.show(p)},f.onmouseout=function(){tooltip.hide()}}}}function g(e){document.getElementById("node_like").innerHTML="<i class='icon-thumbs-o-up thumbs-up fa-2x'></i>",document.getElementById("node_dislike").innerHTML="<i class='icon-thumbs-o-down thumbs-down fa-2x'></i>";var t=[],n=[],i=call.ret_uid(),o=$("#user_name").data().name+"#"+i,r=0;e.votes.hasOwnProperty(o)&&(1==e.votes[o]?(document.getElementById("node_like").innerHTML="<i class=' icon-thumbs-up  fa-2x'></i>",r=1):(document.getElementById("node_dislike").innerHTML="<i class=' icon-thumbs-down fa-2x'></i>",r=-1),delete e.votes[o]);for(var a in e.votes)e.votes.hasOwnProperty(a)&&(1==e.votes[a]?t.push(a.split("#")[0]):0==e.votes[a]&&n.push(a.split("#")[0]));var s,l=document.getElementById("likes"),c="";if(1==r?(l.innerHTML=t.length+1,c="You <br />"):l.innerHTML=t.length,t.length){for(var s=0;s<t.length-1;s++)c=c+t[s]+"<br />";c+=t[s]}else 1!=r&&(c="No likes yet");l.onmouseover=function(){tooltip.show(c)},l.onmouseout=function(){tooltip.hide()};var d="",u=document.getElementById("dislikes");if(-1==r?(u.innerHTML=n.length+1,d="You <br />"):u.innerHTML=n.length,n.length){for(var s=0;s<n.length-1;s++)d=d+n[s]+"<br />";d+=n[s]}else-1!=r&&(d="No dislikes");u.onmouseover=function(){tooltip.show(d)},u.onmouseout=function(){tooltip.hide()}}function v(e){var t=document.getElementById("right-title");t.innerHTML="User Info";var n=document.getElementById("right-address");n.innerHTML='<li><a href="#"><i class="icon-project"></i>Projects</a></li><li class="active">Profile</li>';var i=document.getElementById("left_sidebar");i.innerHTML="";var o="<li class='active'><a href='#profile'><i class='icon-profile-info'></i> <span>Profile(Current)</span></a></li><li ><a href='#'><i class='icon-project'></i> <span>View Your Projects</span></a></li>";i.innerHTML=o;var r=document.getElementById("main_content");r.innerHTML="";var a=document.createElement("div");a.id="tile",r.appendChild(a);var s=document.createElement("div");if(s.setAttribute("style","padding-left:10px;margin-top: 10px;float: left;"),e.fid)var l="<img src='https://graph.facebook.com/"+e.fid+"/picture?height=200&width=200' alt='User Image'>";else var l="<img src='https://www.gravatar.com/avatar/"+e.gravatar+"?s=200&d=identicon' alt='User Image'>";s.innerHTML=l,a.appendChild(s);var c=document.createElement("div");c.setAttribute("style","float: left;margin-left: 20%;width:50%"),l="<h3 class='hl'><i class='icon-user-info'></i> Contact Information</h3><table class='table'><tbody><tr><td class='text-muted'>Name</td><td>"+e.fname+" "+e.lname+"</td></tr><tr><td class='text-muted'>Email</td><td>"+e.email+"</td></tr><tr><td class='text-muted'>Referral Link</td><td><a href='https://jutja.com?r="+e.r_id+"'>https://jutja.com?r="+e.r_id+"</a</td><td><a href='https://www.facebook.com/sharer/sharer.php?u=https://jutja.com?r="+e.r_id+"' target='_blank' ><span style='margin-left: 2px;'><img src='https://fbstatic-a.akamaihd.net/rsrc.php/v2/yQ/r/7GFXgco-uzw.png' style='top: 0px;'' width='14' height='14'>Share</span></a></td></tr><tr><td class='text-muted' colspan='2'>Payment Info</td></tr><tr><td class='text-muted'>Cards</td><td>"+e.payment.cards+"</td></tr><tr><td class='text-muted'>Type</td><td>"+e.payment.type+"</td></tr><tr><td class='text-muted'>Validity</td><td>"+e.payment.validity.split("T")[0]+"</td></tr><tr><td class='text-muted'>Coupon code</td><td><input id='coupon_code'/></td><td><button id='coupon_submit' class='btn-primary'>Apply</button></td></tr></tbody></table><div id='profile_password'><button id='udetails_repassword' class='btn-primary' style='padding:6px;' onclick='call.modal_upassword()'>Reset Password</button><br><div id='new_password' style='display:none;margin-top:12px;'><label for='password' style='margin-right:10px'>Enter Your New Password</label><input required  type='password' id='profile_repassword' name='p'><br><br><button id='update_password' >Update Password</button><button id='pro_passcancel'  style='margin-left:15px;'>Cancel</button></div></div><br><div id='profile_gravatar'><button id='reset_gravatar' class='btn-primary' style='padding:6px;' onclick='call.modal_ugravitar()'>Reset Gravatar</button><br><div id='gravatar_id' style='display:none;margin-top:12px;margin-bottom:10px;'><label for='gravatar' style='margin-right:10px'>Enter a Gravatar email</label><input required  type='email' id='gravatar_mail' name='mail'><br><br><button id='update_gravatar' >Update Gravatar</button><button id='cancel_gravatar' style='margin-left:15px;'>Cancel</button></div><br><a  target='_blank' href='https://en.gravatar.com/'>What is gravatar? How to Use it. </a>",c.innerHTML=l,a.appendChild(c),document.getElementById("coupon_submit").onclick=function(){real.write({action:"coupun",data:{coupun:$("#coupon_code").val()}}),$("#coupon_code").val("")}}function y(e){var t=document.getElementById("right-title");t.innerHTML="Projects";var n=document.getElementById("right-address");n.innerHTML='<li class="active"><a><i class="icon-project"></i>Projects</a></li>';var i=document.getElementById("left_sidebar");i.innerHTML="";var o="<li class='active item_l' id='app_project'><a><i class='icon-project'></i> <span>Projects(Current)</span></a></li><li><a class='item_l' id='app_create' onclick='call.new_projModal()'><i class='icon-project_add'></i> <span>Create a New Project</span></a></li><li id='app_task'><a class='item_l' href='#tasks' ><i class='icon-task_assign'></i> <span>Assigned Tasks</span></a></li><li  id='app_profile'><a class='item_l' href='#profile'><i class='icon-profile-info'></i> <span>View Your Profile</span></a></li><li><a class='item_l' onclick='call.take_tour()'><i class='icon-tour' ></i><span>Take a Tour</span</a></li>";i.innerHTML=o,$("#tile")&&$("#tile").remove();var r=document.getElementById("main_content");r.innerHTML="";var a=document.createElement("div");a.className="pure-g",a.id="tile";var s="";for(var l in e.projects)e.projects.hasOwnProperty(l)&&(s=s+"<div class='pure-u-1-4' style='float: left; margin-top: 10px; margin-left: 10px;'><a class='metro-tile' style='text-align:center; cursor: pointer; width: 98%; height: 110px; display: block; background-color: rgb(245, 105, 84) ; color: #fff;' id='"+l+"' href='#project/"+l+"'>"+e.projects[l]+"</a></div>");for(var l in e.oproj)e.oproj.hasOwnProperty(l)&&(s=s+"<div class='pure-u-1-4' style='float: left; margin-top: 10px; margin-left: 10px;'><a class='metro-tile' style='text-align:center; cursor: pointer; width: 98%; height: 110px; display: block; background-color: rgb(0, 166, 90); color: #fff;' id='"+l+"' href='#project/"+l+"'>"+e.oproj[l]+"</a></div>");a.innerHTML=s,r.appendChild(a);var c,d=document.getElementsByClassName("metro-tile");for(c=0;c<d.length;c++)Tile(d[c])}function b(e){var t=[];for(var n in e)t.push([n,Date.parse(e[n].task.due_date)]);var i;i=t.sort(function(e,t){return e[1]-t[1]});var o=new Date;if(o.setHours(0,0,0,0),0==i.length)toastr.error("No Task assigned to you yet"),routie("#");else{var r,a=0;for(r=0;r<i.length;r++)if(i[r][1]>=o){a=r;break}var s=document.getElementById("right-title");s.innerHTML="Assigned Tasks";var l=document.getElementById("right-address");l.innerHTML='<li><a href="#"><i class="icon-project"></i> Project</a></li><li class="active">Tasks</li>';var c=document.getElementById("left_sidebar");c.innerHTML="";var d="<li class='active item_l'><a><i class='icon-task_assign'></i> <span>Assigned-Tasks</span></a></li><li><a class='item_l' href='#'><i class='icon-project'></i> <span>View Projects</span></a></li><li><a class='item_l' href='#profile'><i class='icon-profile-info'></i> <span>View Profile</span></a></li>";c.innerHTML=d;var u=document.getElementById("main_content");u.innerHTML="";var p=document.createElement("div");p.id="tile";var r,f="";f="<div class='main'>";var h;for(a>2?(h=a-2,f+="<ul class='cbp_tmtimeline' id='load_before'><li class='date_display'><div class='tldate' onclick='realtime.load_before()'>Load more </div></li></ul>"):h=0,f+="<ul class='cbp_tmtimeline' id='before_today'>",r=h;a>r;r++)f=f+"<li><time class='cbp_tmtime'><span>"+e[i[r][0]].task.due_date+"</span></time><div class='cbp_tmicon icon-circle' style='font-family:FontAwesome'></div><div class='cbp_tmlabel'><h3>"+e[i[r][0]].task.name+"</h3><h5>"+e[i[r][0]].task.info+"</h5></div></li>";for(f+="</ul><ul class='cbp_tmtimeline'><li class='date_display'><div class='tldate' style='cursor:inherit;'>Today</div></li></ul><ul class='cbp_tmtimeline' id='after_today'>",r=a;r<i.length&&a+2>r;r++)f=f+"<li><time class='cbp_tmtime'><span>"+e[i[r][0]].task.due_date+"</span></time><div class='cbp_tmicon icon-circle' style='font-family:FontAwesome'></div><div class='cbp_tmlabel'><h3>"+e[i[r][0]].task.name+"</h3><h5>"+e[i[r][0]].task.info+"</h5></div></li>";if(f+="</ul>",r<i.length&&(f+="<ul class='cbp_tmtimeline' id='load_after'><li class='date_display' ><div class='tldate' onclick='realtime.load_after()'>Load more </div></li></ul>"),f+="</div>",realtime.task_initialise(e,i,h-1,r),p.innerHTML=f,u.appendChild(p),1==i.length){var m=".cbp_tmtimeline:before{width:0px}";style=document.createElement("style"),style.styleSheet?style.styleSheet.cssText=m:style.appendChild(document.createTextNode(m)),style.id="css_style",document.getElementsByTagName("head")[0].appendChild(style)}}}function w(){var e=k.data,t=k.sorted,n=k.index.after,o="";for(i=n;i<t.length&&n+5>i;i++)o=o+"<li><time class='cbp_tmtime'><span>"+e[t[i][0]].task.due_date+"</span></time><div class='cbp_tmicon icon-circle' style='font-family:FontAwesome'></div><div class='cbp_tmlabel'><h3>"+e[t[i][0]].task.name+"</h3><h5>"+e[t[i][0]].task.info+"</h5></div></li>";var r=document.getElementById("after_today");r.innerHTML=r.innerHTML+o,i==t.length&&$("#load_after").remove(),realtime.task_initialise(e,t,k.index.before,i)}function _(){var e=k.data,t=k.sorted,n=k.index.before,o="";for(i=n;i>=0&&i>n-5;i--)o="<li><time class='cbp_tmtime'><span>"+e[t[i][0]].task.due_date+"</span></time><div class='cbp_tmicon icon-circle' style='font-family:FontAwesome'></div><div class='cbp_tmlabel'><h3>"+e[t[i][0]].task.name+"</h3><h5>"+e[t[i][0]].task.info+"</h5></div></li>",$("#before_today").prepend(o);-1==i&&$("#load_before").remove(),realtime.task_initialise(e,t,i,k.index.after)}function x(e){call.ini_collaborators(e.data.users,e.info.id);var t="",n=0;for(var i in e.data.status.stat)e.data.status.stat.hasOwnProperty(i)&&(n&&(t+="<br>"),t+=i+" status :"+e.data.status.stat[i],n++);toastr.success(t)}function C(e){call.ini_collaborators(e.data,e.info.id),call.closeModal()}function T(e){var t=0;if(e.not.length){document.getElementById("notific").innerHTML="<a class='dropdown-toggle' data-toggle='dropdown' href='#''></a>";for(var n=e.not.length-1;n>=0;n--){if(1==e.not[n].read){if("add"==e.not[n].type)var i="<li><a href='#"+e.not[n].link+"'><i class='fa fa-star success'></i>"+e.not[n].event+" </a></li>";else if("del"==e.not[n].type)var i="<li><a><i class='fa fa-star success'></i>"+e.not[n].event+" </a></li>";else if("men"==e.not[n].type)var i="<li><a onclick='call.user_mention(\""+e.not[n].link+'","'+e.not[n].nid+"\",\"-1\")' style=' cursor:pointer;' ><i class='fa fa-star success'></i>"+e.not[n].event+" </a></li>"}else if(t+=1,"add"==e.not[n].type)var i="<li><a onclick='call.user_read(\""+e.not[n].link+'","'+n+"\",\"true\")' style='background-color:#d6d6d6; cursor:pointer;' ><i class='fa fa-star success'></i>"+e.not[n].event+" </a></li>";else if("del"==e.not[n].type)var i="<li><a onclick='call.user_read(\""+e.not[n].link+'","'+n+"\",\"false\")' style='background-color:#d6d6d6;cursor:pointer;' ><i class='fa fa-star success'></i>"+e.not[n].event+" </a></li>";else if("men"==e.not[n].type)var i="<li><a onclick='call.user_mention(\""+e.not[n].link+'","'+e.not[n].nid+'","'+n+"\")' style='background-color:#d6d6d6; cursor:pointer;' ><i class='fa fa-star success'></i>"+e.not[n].event+" </a></li>";$("#notific").append(i)}t?(document.getElementById("label_not").innerHTML=t,document.getElementById("label_not").setAttribute("style","")):(document.getElementById("label_not").innerHTML="",document.getElementById("label_not").setAttribute("style","display:none"))}}var k={};return{notice:t,project_made:n,view_proj:o,delete_project:s,new_map:a,open_map:l,add_node:d,edit_node:u,del_node:p,user_info:v,user_projects:y,chat:f,get_chat:h,vote:m,get_vote:g,add_users:x,remove_users:C,collaborator:r,user_task:b,task_initialise:e,load_after:w,load_before:_,reset_map:c,user_not:T}}(),routie({"project/:id":function(e){real.write({action:"view_project",data:{pid:e}}),real.write({action:"get_id"})},"map/:id":function(e){var t=e.split("_");real.write({action:"get_id"}),real.write({action:"collaborator",data:{pid:t[0]}}),real.write({action:"open_map",data:{pid:t[0],m_n:t[1]},scope:{pid:t[0]}})},profile:function(){$("#css_style")&&$("#css_style").remove(),real.write({action:"user_info"}),real.write({action:"get_id"})},"":function(){$("#css_style")&&$("#css_style").remove(),real.write({action:"user_projects"}),real.write({action:"get_id"})},"_=_":function(){$("#css_style")&&$("#css_style").remove(),real.write({action:"user_projects"}),real.write({action:"get_id"})},tasks:function(){real.write({action:"user_tasks"}),real.write({action:"get_id"})}}),function(e){jQuery.fn.extend({slimScroll:function(n){var i=e.extend({width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px"},n);return this.each(function(){function o(t){if(d){t=t||window.event;var n=0;t.wheelDelta&&(n=-t.wheelDelta/120),t.detail&&(n=t.detail/3),e(t.target||t.srcTarget||t.srcElement).closest("."+i.wrapperClass).is(w.parent())&&r(n,!0),t.preventDefault&&!b&&t.preventDefault(),b||(t.returnValue=!1)}}function r(e,t,n){b=!1;var o=e,r=w.outerHeight()-x.outerHeight();t&&(o=parseInt(x.css("top"))+e*parseInt(i.wheelStep)/100*x.outerHeight(),o=Math.min(Math.max(o,0),r),o=e>0?Math.ceil(o):Math.floor(o),x.css({top:o+"px"})),g=parseInt(x.css("top"))/(w.outerHeight()-x.outerHeight()),o=g*(w[0].scrollHeight-w.outerHeight()),n&&(o=e,e=o/w[0].scrollHeight*w.outerHeight(),e=Math.min(Math.max(e,0),r),x.css({top:e+"px"})),w.scrollTop(o),w.trigger("slimscrolling",~~o),l(),c()}function a(){window.addEventListener?(this.addEventListener("DOMMouseScroll",o,!1),this.addEventListener("mousewheel",o,!1)):document.attachEvent("onmousewheel",o)}function s(){m=Math.max(w.outerHeight()/w[0].scrollHeight*w.outerHeight(),y),x.css({height:m+"px"});var e=m==w.outerHeight()?"none":"block";x.css({display:e})}function l(){s(),clearTimeout(f),g==~~g?(b=i.allowPageScroll,v!=g&&w.trigger("slimscroll",0==~~g?"top":"bottom")):b=!1,v=g,m>=w.outerHeight()?b=!0:(x.stop(!0,!0).fadeIn("fast"),i.railVisible&&C.stop(!0,!0).fadeIn("fast"))}function c(){i.alwaysVisible||(f=setTimeout(function(){i.disableFadeOut&&d||u||p||(x.fadeOut("slow"),C.fadeOut("slow"))},1e3))}var d,u,p,f,h,m,g,v,y=30,b=!1,w=e(this);if(w.parent().hasClass(i.wrapperClass)){var _=w.scrollTop(),x=w.parent().find("."+i.barClass),C=w.parent().find("."+i.railClass);if(s(),e.isPlainObject(n)){if("height"in n&&"auto"==n.height){w.parent().css("height","auto"),w.css("height","auto");var T=w.parent().parent().height();w.parent().css("height",T),w.css("height",T)}if("scrollTo"in n)_=parseInt(i.scrollTo);else if("scrollBy"in n)_+=parseInt(i.scrollBy);else if("destroy"in n)return x.remove(),C.remove(),void w.unwrap();r(_,!1,!0)}}else{i.height="auto"==n.height?w.parent().height():n.height,_=e("<div></div>").addClass(i.wrapperClass).css({position:"relative",overflow:"hidden",width:i.width,height:i.height}),w.css({overflow:"hidden",width:i.width,height:i.height});var C=e("<div></div>").addClass(i.railClass).css({width:i.size,height:"100%",position:"absolute",top:0,display:i.alwaysVisible&&i.railVisible?"block":"none","border-radius":i.railBorderRadius,background:i.railColor,opacity:i.railOpacity,zIndex:90}),x=e("<div></div>").addClass(i.barClass).css({background:i.color,width:i.size,position:"absolute",top:0,opacity:i.opacity,display:i.alwaysVisible?"block":"none","border-radius":i.borderRadius,BorderRadius:i.borderRadius,MozBorderRadius:i.borderRadius,WebkitBorderRadius:i.borderRadius,zIndex:99}),T="right"==i.position?{right:i.distance}:{left:i.distance};C.css(T),x.css(T),w.wrap(_),w.parent().append(x),w.parent().append(C),i.railDraggable&&x.bind("mousedown",function(n){var i=e(document);return p=!0,t=parseFloat(x.css("top")),pageY=n.pageY,i.bind("mousemove.slimscroll",function(e){currTop=t+e.pageY-pageY,x.css("top",currTop),r(0,x.position().top,!1)}),i.bind("mouseup.slimscroll",function(){p=!1,c(),i.unbind(".slimscroll")}),!1}).bind("selectstart.slimscroll",function(e){return e.stopPropagation(),e.preventDefault(),!1}),C.hover(function(){l()},function(){c()}),x.hover(function(){u=!0},function(){u=!1}),w.hover(function(){d=!0,l(),c()},function(){d=!1,c()}),w.bind("touchstart",function(e){e.originalEvent.touches.length&&(h=e.originalEvent.touches[0].pageY)}),w.bind("touchmove",function(e){b||e.originalEvent.preventDefault(),e.originalEvent.touches.length&&(r((h-e.originalEvent.touches[0].pageY)/i.touchScrollStep,!0),h=e.originalEvent.touches[0].pageY)}),s(),"bottom"===i.start?(x.css({top:w.outerHeight()-x.outerHeight()}),r(0,!0)):"top"!==i.start&&(r(e(i.start).position().top,null,!0),i.alwaysVisible||x.hide()),a()}}),this}}),jQuery.fn.extend({slimscroll:jQuery.fn.slimScroll})}(jQuery),!function(e,t){"use strict";function n(e,t,n){return setTimeout(l(e,n),t)}function i(e,t,n){return Array.isArray(e)?(o(e,n[t],n),!0):!1}function o(e,n,i){var o,r;if(e)if(e.forEach)e.forEach(n,i);else if(e.length!==t)for(o=0,r=e.length;r>o;o++)n.call(i,e[o],o,e);else for(o in e)e.hasOwnProperty(o)&&n.call(i,e[o],o,e)}function r(e,n,i){for(var o=Object.keys(n),r=0,a=o.length;a>r;r++)(!i||i&&e[o[r]]===t)&&(e[o[r]]=n[o[r]]);return e}function a(e,t){return r(e,t,!0)}function s(e,t,n){var i,o=t.prototype;i=e.prototype=Object.create(o),i.constructor=e,i._super=o,n&&r(i,n)}function l(e,t){return function(){return e.apply(t,arguments)}}function c(e,n){return typeof e==ot?e.apply(n?n[0]||t:t,n):e}function d(e,n){return e===t?n:e}function u(e,t,n){o(m(t),function(t){e.addEventListener(t,n,!1)})}function p(e,t,n){o(m(t),function(t){e.removeEventListener(t,n,!1)})}function f(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function h(e,t){return e.indexOf(t)>-1}function m(e){return e.trim().split(/\s+/g)}function g(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var i=0,o=e.length;o>i;i++)if(n&&e[i][n]==t||!n&&e[i]===t)return i;return-1}function v(e){return Array.prototype.slice.call(e,0)}function y(e,t){for(var n=[],i=[],o=0,r=e.length;r>o;o++){var a=t?e[o][t]:e[o];g(i,a)<0&&n.push(e[o]),i[o]=a}return n}function b(e,n){for(var i,o,r=n[0].toUpperCase()+n.slice(1),a=0,s=nt.length;s>a;a++)if(i=nt[a],o=i?i+r:n,o in e)return o;return t}function w(){return ct++}function _(t,n){var i=this;this.manager=t,this.callback=n,this.domHandler=function(e){c(i.manager.options.enable,[i.manager])&&i.handler(e)},this.evEl&&u(this.manager.element,this.evEl,this.domHandler),this.evWin&&u(e,this.evWin,this.domHandler)}function x(e){var t;return new(t=pt?A:ft?L:ut?H:M)(e,C)}function C(e,t,n){var i=n.pointers.length,o=n.changedPointers.length,r=t&bt&&i-o===0,a=t&(_t|xt)&&i-o===0;n.isFirst=r,n.isFinal=a,r&&(e.session={}),n.eventType=t,T(e,n),e.emit("hammer.input",n),e.recognize(n)
}function T(e,t){var n=e.session,i=t.pointers,o=i.length;n.firstInput||(n.firstInput=E(t)),o>1&&!n.firstMultiple?n.firstMultiple=E(t):1===o&&(n.firstMultiple=!1);var r=n.firstInput,a=n.firstMultiple,s=a?a.center:r.center,l=N(i);t.timeStamp=lt(),t.deltaTime=t.timeStamp-r.timeStamp,t.deltaX=l.x-s.x,t.deltaY=l.y-s.y,t.center=l,t.angle=O(s,l),t.distance=I(s,l),t.offsetDirection=S(t.deltaX,t.deltaY),t.scale=a?$(a.pointers,i):1,t.rotation=a?j(a.pointers,i):0;var c=e.element;f(t.srcEvent.target,c)&&(c=t.srcEvent.target),t.target=c,k(n,t)}function k(e,n){var i=e.lastInterval;i||(i=e.lastInterval=E(n));var o,r,a,s,l=n.timeStamp-i.timeStamp;if(l>yt||i.velocity===t){var c=i.deltaX-n.deltaX,d=i.deltaY-n.deltaY,u=D(l,c,d);r=u.x,a=u.y,o=st(u.x)>st(u.y)?u.x:u.y,s=S(c,d)}else o=i.velocity,r=i.velocityX,a=i.velocityY,s=i.direction;n.velocity=o,n.velocityX=r,n.velocityY=a,n.direction=s}function E(e){for(var t=[],n=0;n<e.pointers.length;n++)t[n]={clientX:at(e.pointers[n].clientX),clientY:at(e.pointers[n].clientY)};return{timeStamp:lt(),pointers:t,center:N(t),deltaX:e.deltaX,deltaY:e.deltaY}}function N(e){var t=e.length;if(1===t)return{x:at(e[0].clientX),y:at(e[0].clientY)};for(var n=0,i=0,o=0;t>o;o++)n+=e[o].clientX,i+=e[o].clientY;return{x:at(n/t),y:at(i/t)}}function D(e,t,n){return{x:t/e||0,y:n/e||0}}function S(e,t){return e===t?Ct:st(e)>=st(t)?e>0?Tt:kt:t>0?Et:Nt}function I(e,t,n){n||(n=Ot);var i=t[n[0]]-e[n[0]],o=t[n[1]]-e[n[1]];return Math.sqrt(i*i+o*o)}function O(e,t,n){n||(n=Ot);var i=t[n[0]]-e[n[0]],o=t[n[1]]-e[n[1]];return 180*Math.atan2(o,i)/Math.PI}function j(e,t){return O(t[1],t[0],jt)-O(e[1],e[0],jt)}function $(e,t){return I(t[0],t[1],jt)/I(e[0],e[1],jt)}function M(){this.evEl=Mt,this.evWin=At,this.allow=!0,this.pressed=!1,_.apply(this,arguments)}function A(){this.evEl=Ht,this.evWin=Bt,_.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function L(){this.evEl=zt,this.targetIds={},_.apply(this,arguments)}function P(e,t){var n,i,o=t.targetIds,r=v(e.targetTouches),a=v(e.changedTouches),s=[];if("touchstart"==e.type)for(n=0,i=r.length;i>n;n++)o[r[n].identifier]=!0;for(n=0,i=a.length;i>n;n++)o[a[n].identifier]&&s.push(a[n]),("touchend"==e.type||"touchcancel"==e.type)&&delete o[a[n].identifier];return[y(r.concat(s),"identifier"),s]}function H(){_.apply(this,arguments);var e=l(this.handler,this);this.touch=new L(this.manager,e),this.mouse=new M(this.manager,e)}function B(e,t){this.manager=e,this.set(t)}function F(e){if(h(e,Xt))return Xt;var t=h(e,Ut),n=h(e,Gt);return t&&n?Ut+" "+Gt:t||n?t?Ut:Gt:h(e,Vt)?Vt:Yt}function z(e){this.id=w(),this.manager=null,this.options=a(e||{},this.defaults),this.options.enable=d(this.options.enable,!0),this.state=Kt,this.simultaneous={},this.requireFail=[]}function R(e){return e&tn?"cancel":e&Zt?"end":e&Jt?"move":e&Qt?"start":""}function q(e){return e==Nt?"down":e==Et?"up":e==Tt?"left":e==kt?"right":""}function W(e,t){var n=t.manager;return n?n.get(e):e}function Y(){z.apply(this,arguments)}function V(){Y.apply(this,arguments),this.pX=null,this.pY=null}function X(){Y.apply(this,arguments)}function U(){z.apply(this,arguments),this._timer=null,this._input=null}function G(){Y.apply(this,arguments)}function K(){Y.apply(this,arguments)}function Q(){z.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function J(e,t){return t=t||{},t.recognizers=d(t.recognizers,J.defaults.preset),new Z(e,t)}function Z(e,t){t=t||{},this.options=a(t,J.defaults),this.handlers={},this.session={},this.recognizers=[],this.element=e,this.input=x(this),this.touchAction=new B(this,this.options.touchAction),et(this,!0),o(t.recognizers,function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[2])},this)}function et(e,t){var n=e.element,i=e.options.cssProps;o(i,function(e,i){n.style[b(n.style,i)]=t?e:""});var r=t&&function(){return!1};"none"==i.userSelect&&(n.onselectstart=r),"none"==i.userDrag&&(n.ondragstart=r)}function tt(e,t){var n=document.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}var nt=["","webkit","moz","MS","ms","o"],it=document.createElement("div"),ot="function",rt="undefined",at=Math.round,st=Math.abs,lt=Date.now,ct=1,dt=/mobile|tablet|ip(ad|hone|od)|android/i,ut="ontouchstart"in e,pt=b(e,"PointerEvent")!==t,ft=ut&&dt.test(navigator.userAgent),ht="touch",mt="pen",gt="mouse",vt="kinect",yt=25,bt=1,wt=2,_t=4,xt=8,Ct=1,Tt=2,kt=4,Et=8,Nt=16,Dt=Tt|kt,St=Et|Nt,It=Dt|St,Ot=["x","y"],jt=["clientX","clientY"];_.prototype={handler:function(){},destroy:function(){this.elEvents&&p(this.manager.element,this.elEvents,this.domHandler),this.winEvents&&p(e,this.winEvents,this.domHandler)}};var $t={mousedown:bt,mousemove:wt,mouseup:_t,mouseout:xt},Mt="mousedown",At="mousemove mouseout mouseup";s(M,_,{handler:function(e){var t=$t[e.type];if(t&bt&&0===e.button&&(this.pressed=!0),t&wt&&1!==e.which&&(t=_t),this.pressed&&this.allow){var n=e.relatedTarget||e.toElement||e.target;"mouseout"==e.type&&"HTML"!=n.nodeName&&(t=wt),t&(_t|xt)&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:gt,srcEvent:e})}}});var Lt={pointerdown:bt,pointermove:wt,pointerup:_t,pointercancel:xt,pointerout:xt},Pt={2:ht,3:mt,4:gt,5:vt},Ht="pointerdown",Bt="pointermove pointerout pointerup pointercancel";e.MSPointerEvent&&(Ht="MSPointerDown",Bt="MSPointerMove MSPointerOut MSPointerUp MSPointerCancel"),s(A,_,{handler:function(e){var t=this.store,n=!1,i=e.type.toLowerCase().replace("ms",""),o=Lt[i],r=Pt[e.pointerType]||e.pointerType,a=e.relatedTarget||e.toElement||e.target;"pointerout"==i&&"HTML"!=a.nodeName&&(o=wt),o&bt&&(0===e.button||r==ht)?t.push(e):o&(_t|xt)&&(n=!0);var s=g(t,e.pointerId,"pointerId");0>s||(t[s]=e,this.callback(this.manager,o,{pointers:t,changedPointers:[e],pointerType:r,srcEvent:e}),n&&t.splice(s,1))}});var Ft={touchstart:bt,touchmove:wt,touchend:_t,touchcancel:xt},zt="touchstart touchmove touchend touchcancel";s(L,_,{handler:function(e){var t=P(e,this);this.callback(this.manager,Ft[e.type],{pointers:t[0],changedPointers:t[1],pointerType:ht,srcEvent:e})}}),s(H,_,{handler:function(e,t,n){var i=n.pointerType==ht,o=n.pointerType==gt;if(i)this.mouse.allow=!1;else if(o&&!this.mouse.allow)return;t&(_t|xt)&&(this.mouse.allow=!0),this.callback(e,t,n)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Rt=b(it.style,"touchAction"),qt=Rt!==t,Wt="compute",Yt="auto",Vt="manipulation",Xt="none",Ut="pan-x",Gt="pan-y";B.prototype={set:function(e){e==Wt&&(e=this.compute()),qt&&(this.manager.element.style[Rt]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return o(this.manager.recognizers,function(t){c(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),F(e.join(" "))},preventDefaults:function(e){if(!qt){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)return void t.preventDefault();var i=this.actions,o=h(i,Xt),r=h(i,Gt),a=h(i,Ut);return o||r&&a||r&&n&Dt||a&&n&St?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var Kt=1,Qt=2,Jt=4,Zt=8,en=Zt,tn=16,nn=32;z.prototype={defaults:{},set:function(e){return r(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(i(e,"recognizeWith",this))return this;var t=this.simultaneous;return e=W(e,this),t[e.id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return i(e,"dropRecognizeWith",this)?this:(e=W(e,this),delete this.simultaneous[e.id],this)},requireFailure:function(e){if(i(e,"requireFailure",this))return this;var t=this.requireFail;return e=W(e,this),-1===g(t,e)&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(i(e,"dropRequireFailure",this))return this;e=W(e,this);var t=g(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){this.manager.emit(this.options.event,e),this.manager.emit(this.options.event+R(this.state),e)},tryEmit:function(e){return this.canEmit()?this.emit(e):void(this.state=nn)},canEmit:function(){for(var e=0;e<this.requireFail.length;e++)if(!(this.requireFail[e].state&(nn|Kt)))return!1;return!0},recognize:function(e){var t=r({},e);return c(this.options.enable,[this,t])?(this.state&(en|tn|nn)&&(this.state=Kt),this.state=this.process(t),void(this.state&(Qt|Jt|Zt|tn)&&this.tryEmit(t))):(this.reset(),void(this.state=nn))},process:function(){},getTouchAction:function(){},reset:function(){}},s(Y,z,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,i=t&(Qt|Jt),o=this.attrTest(e);return i&&(n&xt||!o)?t|tn:i||o?n&_t?t|Zt:t&Qt?t|Jt:Qt:nn}}),s(V,Y,{defaults:{event:"pan",threshold:10,pointers:1,direction:It},getTouchAction:function(){var e=this.options.direction;if(e===It)return[Xt];var t=[];return e&Dt&&t.push(Gt),e&St&&t.push(Ut),t},directionTest:function(e){var t=this.options,n=!0,i=e.distance,o=e.direction,r=e.deltaX,a=e.deltaY;return o&t.direction||(t.direction&Dt?(o=0===r?Ct:0>r?Tt:kt,n=r!=this.pX,i=Math.abs(e.deltaX)):(o=0===a?Ct:0>a?Et:Nt,n=a!=this.pY,i=Math.abs(e.deltaY))),e.direction=o,n&&i>t.threshold&&o&t.direction},attrTest:function(e){return Y.prototype.attrTest.call(this,e)&&(this.state&Qt||!(this.state&Qt)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY,this._super.emit.call(this,e);var t=q(e.direction);t&&this.manager.emit(this.options.event+t,e)}}),s(X,Y,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Xt]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&Qt)},emit:function(e){if(this._super.emit.call(this,e),1!==e.scale){var t=e.scale<1?"in":"out";this.manager.emit(this.options.event+t,e)}}}),s(U,z,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[Yt]},process:function(e){var t=this.options,i=e.pointers.length===t.pointers,o=e.distance<t.threshold,r=e.deltaTime>t.time;if(this._input=e,!o||!i||e.eventType&(_t|xt)&&!r)this.reset();else if(e.eventType&bt)this.reset(),this._timer=n(function(){this.state=en,this.tryEmit()},t.time,this);else if(e.eventType&_t)return en;return nn},reset:function(){clearTimeout(this._timer)},emit:function(e){this.state===en&&(e&&e.eventType&_t?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=lt(),this.manager.emit(this.options.event,this._input)))}}),s(G,Y,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Xt]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&Qt)}}),s(K,Y,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:Dt|St,pointers:1},getTouchAction:function(){return V.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return n&(Dt|St)?t=e.velocity:n&Dt?t=e.velocityX:n&St&&(t=e.velocityY),this._super.attrTest.call(this,e)&&n&e.direction&&st(t)>this.options.velocity&&e.eventType&_t},emit:function(e){this.manager.emit(this.options.event,e);var t=q(e.direction);t&&this.manager.emit(this.options.event+t,e)}}),s(Q,z,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[Vt]},process:function(e){var t=this.options,i=e.pointers.length===t.pointers,o=e.distance<t.threshold,r=e.deltaTime<t.time;if(this.reset(),e.eventType&bt&&0===this.count)return this._failTimeout();if(o&&r&&i){if(e.eventType!=_t)return this._failTimeout();var a=this.pTime?e.timeStamp-this.pTime<t.interval:!0,s=!this.pCenter||I(this.pCenter,e.center)<t.posThreshold;this.pTime=e.timeStamp,this.pCenter=e.center,s&&a?this.count+=1:this.count=1,this._input=e;var l=this.count%t.taps;if(0===l)return this.hasRequireFailures()?(this._timer=n(function(){this.state=en,this.tryEmit()},t.interval,this),Qt):en}return nn},_failTimeout:function(){return this._timer=n(function(){this.state=nn},this.options.interval,this),nn},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==en&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),J.VERSION="2.0.1",J.defaults={domEvents:!1,touchAction:Wt,enable:!0,preset:[[G,{enable:!1}],[X,{enable:!1},["rotate"]],[K,{direction:Dt}],[V,{direction:Dt},["swipe"]],[Q],[Q,{event:"doubletap",taps:2},["tap"]],[U]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var on=1,rn=2;Z.prototype={set:function(e){return r(this.options,e),this},stop:function(e){this.session.stopped=e?rn:on},recognize:function(e){if(!this.session.stopped){this.touchAction.preventDefaults(e);var t,n=this.session,i=n.curRecognizer;(!i||i&&i.state&en)&&(i=n.curRecognizer=null);for(var o=0,r=this.recognizers.length;r>o;o++)t=this.recognizers[o],this.session.stopped===rn||i&&t!=i&&!t.canRecognizeWith(i)?t.reset():t.recognize(e),!i&&t.state&(Qt|Jt|Zt)&&(i=n.curRecognizer=t)}},get:function(e){if(e instanceof z)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(i(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(i(e,"remove",this))return this;var t=this.recognizers;return e=this.get(e),t.splice(g(t,e),1),this.touchAction.update(),this},on:function(e,t){var n=this.handlers;return o(m(e),function(e){n[e]=n[e]||[],n[e].push(t)}),this},off:function(e,t){var n=this.handlers;return o(m(e),function(e){t?n[e].splice(g(n[e],t),1):delete n[e]}),this},emit:function(e,t){this.options.domEvents&&tt(e,t);var n=this.handlers[e];if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var i=0,o=n.length;o>i;i++)n[i](t)}},destroy:function(){this.element&&et(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},r(J,{INPUT_START:bt,INPUT_MOVE:wt,INPUT_END:_t,INPUT_CANCEL:xt,STATE_POSSIBLE:Kt,STATE_BEGAN:Qt,STATE_CHANGED:Jt,STATE_ENDED:Zt,STATE_RECOGNIZED:en,STATE_CANCELLED:tn,STATE_FAILED:nn,DIRECTION_NONE:Ct,DIRECTION_LEFT:Tt,DIRECTION_RIGHT:kt,DIRECTION_UP:Et,DIRECTION_DOWN:Nt,DIRECTION_HORIZONTAL:Dt,DIRECTION_VERTICAL:St,DIRECTION_ALL:It,Manager:Z,Input:_,TouchAction:B,Recognizer:z,AttrRecognizer:Y,Tap:Q,Pan:V,Swipe:K,Pinch:X,Rotate:G,Press:U,on:u,off:p,each:o,merge:a,extend:r,inherit:s,bindFn:l,prefixed:b}),typeof define==ot&&define.amd?define(function(){return J}):typeof module!=rt&&module.exports?module.exports=J:e.Hammer=J}(window);var tooltip=function(){var e,t,n,i,o,r="tt",a=3,s=3,l=300,c=10,d=20,u=95,p=0,f=document.all?!0:!1;return{show:function(s,c){null==e&&(e=document.createElement("div"),e.setAttribute("id",r),t=document.createElement("div"),t.setAttribute("id",r+"top"),n=document.createElement("div"),n.setAttribute("id",r+"cont"),i=document.createElement("div"),i.setAttribute("id",r+"bot"),e.appendChild(t),e.appendChild(n),e.appendChild(i),document.body.appendChild(e),e.style.opacity=0,e.style.filter="alpha(opacity=0)",document.onmousemove=this.pos),e.style.display="block",n.innerHTML=s,e.style.width=c?c+"px":"auto",!c&&f&&(t.style.display="none",i.style.display="none",e.style.width=e.offsetWidth,t.style.display="block",i.style.display="block"),e.offsetWidth>l&&(e.style.width=l+"px"),o=parseInt(e.offsetHeight)+a,clearInterval(e.timer),e.timer=setInterval(function(){tooltip.fade(1)},d)},pos:function(t){var n=f?event.clientY+document.documentElement.scrollTop:t.pageY,i=f?event.clientX+document.documentElement.scrollLeft:t.pageX;e.style.top=n-o+"px",e.style.left=i+s+"px"},fade:function(t){var n=p;if(n!=u&&1==t||0!=n&&-1==t){var i=c;c>u-n&&1==t?i=u-n:c>p&&-1==t&&(i=n),p=n+i*t,e.style.opacity=.01*p,e.style.filter="alpha(opacity="+p+")"}else clearInterval(e.timer),-1==t&&(e.style.display="none")},hide:function(){clearInterval(e.timer),e.timer=setInterval(function(){tooltip.fade(-1)},d)}}}();!function(e,t){"function"==typeof define&&define.amd?define("sifter",t):"object"==typeof exports?module.exports=t():e.Sifter=t()}(this,function(){var e=function(e,t){this.items=e,this.settings=t||{diacritics:!0}};e.prototype.tokenize=function(e){if(e=i(String(e||"").toLowerCase()),!e||!e.length)return[];var t,n,r,s,l=[],c=e.split(/ +/);for(t=0,n=c.length;n>t;t++){if(r=o(c[t]),this.settings.diacritics)for(s in a)a.hasOwnProperty(s)&&(r=r.replace(new RegExp(s,"g"),a[s]));l.push({string:c[t],regex:new RegExp(r,"i")})}return l},e.prototype.iterator=function(e,t){var n;n=r(e)?Array.prototype.forEach||function(e){for(var t=0,n=this.length;n>t;t++)e(this[t],t,this)}:function(e){for(var t in this)this.hasOwnProperty(t)&&e(this[t],t,this)},n.apply(e,[t])},e.prototype.getScoreFunction=function(e,t){var n,i,o,r;n=this,e=n.prepareSearch(e,t),o=e.tokens,i=e.options.fields,r=o.length;var a=function(e,t){var n,i;return e?(e=String(e||""),i=e.search(t.regex),-1===i?0:(n=t.string.length/e.length,0===i&&(n+=.5),n)):0},s=function(){var e=i.length;return e?1===e?function(e,t){return a(t[i[0]],e)}:function(t,n){for(var o=0,r=0;e>o;o++)r+=a(n[i[o]],t);return r/e}:function(){return 0}}();return r?1===r?function(e){return s(o[0],e)}:"and"===e.options.conjunction?function(e){for(var t,n=0,i=0;r>n;n++){if(t=s(o[n],e),0>=t)return 0;i+=t}return i/r}:function(e){for(var t=0,n=0;r>t;t++)n+=s(o[t],e);return n/r}:function(){return 0}},e.prototype.getSortFunction=function(e,n){var i,o,r,a,s,l,c,d,u,p,f;if(r=this,e=r.prepareSearch(e,n),f=!e.query&&n.sort_empty||n.sort,u=function(e,t){return"$score"===e?t.score:r.items[t.id][e]},s=[],f)for(i=0,o=f.length;o>i;i++)(e.query||"$score"!==f[i].field)&&s.push(f[i]);if(e.query){for(p=!0,i=0,o=s.length;o>i;i++)if("$score"===s[i].field){p=!1;break}p&&s.unshift({field:"$score",direction:"desc"})}else for(i=0,o=s.length;o>i;i++)if("$score"===s[i].field){s.splice(i,1);break}for(d=[],i=0,o=s.length;o>i;i++)d.push("desc"===s[i].direction?-1:1);return l=s.length,l?1===l?(a=s[0].field,c=d[0],function(e,n){return c*t(u(a,e),u(a,n))}):function(e,n){var i,o,r;for(i=0;l>i;i++)if(r=s[i].field,o=d[i]*t(u(r,e),u(r,n)))return o;return 0}:null},e.prototype.prepareSearch=function(e,t){if("object"==typeof e)return e;t=n({},t);var i=t.fields,o=t.sort,a=t.sort_empty;return i&&!r(i)&&(t.fields=[i]),o&&!r(o)&&(t.sort=[o]),a&&!r(a)&&(t.sort_empty=[a]),{options:t,query:String(e||"").toLowerCase(),tokens:this.tokenize(e),total:0,items:[]}},e.prototype.search=function(e,t){var n,i,o,r,a=this;return i=this.prepareSearch(e,t),t=i.options,e=i.query,r=t.score||a.getScoreFunction(i),e.length?a.iterator(a.items,function(e,o){n=r(e),(t.filter===!1||n>0)&&i.items.push({score:n,id:o})}):a.iterator(a.items,function(e,t){i.items.push({score:1,id:t})}),o=a.getSortFunction(i,t),o&&i.items.sort(o),i.total=i.items.length,"number"==typeof t.limit&&(i.items=i.items.slice(0,t.limit)),i};var t=function(e,t){return"number"==typeof e&&"number"==typeof t?e>t?1:t>e?-1:0:(e=String(e||"").toLowerCase(),t=String(t||"").toLowerCase(),e>t?1:t>e?-1:0)},n=function(e){var t,n,i,o;for(t=1,n=arguments.length;n>t;t++)if(o=arguments[t])for(i in o)o.hasOwnProperty(i)&&(e[i]=o[i]);return e},i=function(e){return(e+"").replace(/^\s+|\s+$|/g,"")},o=function(e){return(e+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},r=Array.isArray||$&&$.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},a={a:"[aÀÁÂÃÄÅàáâãäå]",c:"[cÇçćĆčČ]",d:"[dđĐďĎ]",e:"[eÈÉÊËèéêëěĚ]",i:"[iÌÍÎÏìíîï]",n:"[nÑñňŇ]",o:"[oÒÓÔÕÕÖØòóôõöø]",r:"[rřŘ]",s:"[sŠš]",t:"[tťŤ]",u:"[uÙÚÛÜùúûüůŮ]",y:"[yŸÿýÝ]",z:"[zŽž]"};return e}),function(e,t){"function"==typeof define&&define.amd?define("microplugin",t):"object"==typeof exports?module.exports=t():e.MicroPlugin=t()}(this,function(){var e={};e.mixin=function(e){e.plugins={},e.prototype.initializePlugins=function(e){var n,i,o,r=this,a=[];if(r.plugins={names:[],settings:{},requested:{},loaded:{}},t.isArray(e))for(n=0,i=e.length;i>n;n++)"string"==typeof e[n]?a.push(e[n]):(r.plugins.settings[e[n].name]=e[n].options,a.push(e[n].name));else if(e)for(o in e)e.hasOwnProperty(o)&&(r.plugins.settings[o]=e[o],a.push(o));for(;a.length;)r.require(a.shift())},e.prototype.loadPlugin=function(t){var n=this,i=n.plugins,o=e.plugins[t];if(!e.plugins.hasOwnProperty(t))throw new Error('Unable to find "'+t+'" plugin');i.requested[t]=!0,i.loaded[t]=o.fn.apply(n,[n.plugins.settings[t]||{}]),i.names.push(t)},e.prototype.require=function(e){var t=this,n=t.plugins;if(!t.plugins.loaded.hasOwnProperty(e)){if(n.requested[e])throw new Error('Plugin has circular dependency ("'+e+'")');t.loadPlugin(e)}return n.loaded[e]},e.define=function(t,n){e.plugins[t]={name:t,fn:n}}};var t={isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}};return e}),function(e,t){"function"==typeof define&&define.amd?define("selectize",["jquery","sifter","microplugin"],t):"object"==typeof exports?module.exports=t(require("jquery"),require("sifter"),require("microplugin")):e.Selectize=t(e.jQuery,e.Sifter,e.MicroPlugin)}(this,function(e,t,n){"use strict";var i=function(e,t){if("string"!=typeof t||t.length){var n="string"==typeof t?new RegExp(t,"i"):t,i=function(e){var t=0;if(3===e.nodeType){var o=e.data.search(n);if(o>=0&&e.data.length>0){var r=e.data.match(n),a=document.createElement("span");a.className="highlight";var s=e.splitText(o),l=(s.splitText(r[0].length),s.cloneNode(!0));a.appendChild(l),s.parentNode.replaceChild(a,s),t=1}}else if(1===e.nodeType&&e.childNodes&&!/(script|style)/i.test(e.tagName))for(var c=0;c<e.childNodes.length;++c)c+=i(e.childNodes[c]);return t};return e.each(function(){i(this)})}},o=function(){};o.prototype={on:function(e,t){this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(t)},off:function(e,t){var n=arguments.length;return 0===n?delete this._events:1===n?delete this._events[e]:(this._events=this._events||{},void(e in this._events!=0&&this._events[e].splice(this._events[e].indexOf(t),1)))},trigger:function(e){if(this._events=this._events||{},e in this._events!=0)for(var t=0;t<this._events[e].length;t++)this._events[e][t].apply(this,Array.prototype.slice.call(arguments,1))}},o.mixin=function(e){for(var t=["on","off","trigger"],n=0;n<t.length;n++)e.prototype[t[n]]=o.prototype[t[n]]};var r=/Mac/.test(navigator.userAgent),a=65,s=13,l=27,c=37,d=38,u=80,p=39,f=40,h=78,m=8,g=46,v=16,y=r?91:17,b=r?18:17,w=9,_=1,x=2,C=function(e){return"undefined"!=typeof e},T=function(e){return"undefined"==typeof e||null===e?"":"boolean"==typeof e?e?"1":"0":e+""},k=function(e){return(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},E=function(e){return(e+"").replace(/\$/g,"$$$$")},N={};N.before=function(e,t,n){var i=e[t];e[t]=function(){return n.apply(e,arguments),i.apply(e,arguments)}},N.after=function(e,t,n){var i=e[t];e[t]=function(){var t=i.apply(e,arguments);return n.apply(e,arguments),t}};var D=function(t,n){if(!e.isArray(n))return n;var i,o,r={};for(i=0,o=n.length;o>i;i++)n[i].hasOwnProperty(t)&&(r[n[i][t]]=n[i]);return r},S=function(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}},I=function(e,t){var n;return function(){var i=this,o=arguments;window.clearTimeout(n),n=window.setTimeout(function(){e.apply(i,o)},t)}},O=function(e,t,n){var i,o=e.trigger,r={};e.trigger=function(){var n=arguments[0];return-1===t.indexOf(n)?o.apply(e,arguments):void(r[n]=arguments)},n.apply(e,[]),e.trigger=o;for(i in r)r.hasOwnProperty(i)&&o.apply(e,r[i])},j=function(e,t,n,i){e.on(t,n,function(t){for(var n=t.target;n&&n.parentNode!==e[0];)n=n.parentNode;return t.currentTarget=n,i.apply(this,[t])})},$=function(e){var t={};if("selectionStart"in e)t.start=e.selectionStart,t.length=e.selectionEnd-t.start;else if(document.selection){e.focus();var n=document.selection.createRange(),i=document.selection.createRange().text.length;n.moveStart("character",-e.value.length),t.start=n.text.length-i,t.length=i}return t},M=function(e,t,n){var i,o,r={};if(n)for(i=0,o=n.length;o>i;i++)r[n[i]]=e.css(n[i]);else r=e.css();t.css(r)},A=function(t,n){if(!t)return 0;var i=e("<test>").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).text(t).appendTo("body");M(n,i,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]);var o=i.width();return i.remove(),o},L=function(e){var t=null,n=function(n,i){var o,r,a,s,l,c,d,u;n=n||window.event||{},i=i||{},n.metaKey||n.altKey||(i.force||e.data("grow")!==!1)&&(o=e.val(),n.type&&"keydown"===n.type.toLowerCase()&&(r=n.keyCode,a=r>=97&&122>=r||r>=65&&90>=r||r>=48&&57>=r||32===r,r===g||r===m?(u=$(e[0]),u.length?o=o.substring(0,u.start)+o.substring(u.start+u.length):r===m&&u.start?o=o.substring(0,u.start-1)+o.substring(u.start+1):r===g&&"undefined"!=typeof u.start&&(o=o.substring(0,u.start)+o.substring(u.start+1))):a&&(c=n.shiftKey,d=String.fromCharCode(n.keyCode),d=c?d.toUpperCase():d.toLowerCase(),o+=d)),s=e.attr("placeholder"),!o&&s&&(o=s),l=A(o,e)+4,l!==t&&(t=l,e.width(l),e.triggerHandler("resize")))};e.on("keydown keyup update blur",n),n()},P=function(n,i){var o,r,a=this;r=n[0],r.selectize=a,o=window.getComputedStyle?window.getComputedStyle(r,null).getPropertyValue("direction"):r.currentStyle&&r.currentStyle.direction,o=o||n.parents("[dir]:first").attr("dir")||"",e.extend(a,{settings:i,$input:n,tagType:"select"===r.tagName.toLowerCase()?_:x,rtl:/rtl/i.test(o),eventNS:".selectize"+ ++P.count,highlightedValue:null,isOpen:!1,isDisabled:!1,isRequired:n.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===i.loadThrottle?a.onSearchChange:I(a.onSearchChange,i.loadThrottle)}),a.sifter=new t(this.options,{diacritics:i.diacritics}),e.extend(a.options,D(i.valueField,i.options)),delete a.settings.options,e.extend(a.optgroups,D(i.optgroupValueField,i.optgroups)),delete a.settings.optgroups,a.settings.mode=a.settings.mode||(1===a.settings.maxItems?"single":"multi"),"boolean"!=typeof a.settings.hideSelected&&(a.settings.hideSelected="multi"===a.settings.mode),a.settings.create&&(a.canCreate=function(e){var t=a.settings.createFilter;return!(!e.length||"function"==typeof t&&!t.apply(a,[e])||"string"==typeof t&&!new RegExp(t).test(e)||t instanceof RegExp&&!t.test(e))}),a.initializePlugins(a.settings.plugins),a.setupCallbacks(),a.setupTemplates(),a.setup()};return o.mixin(P),n.mixin(P),e.extend(P.prototype,{setup:function(){var t,n,i,o,a,s,l,c,d,u,p=this,f=p.settings,h=p.eventNS,m=e(window),g=e(document),w=p.$input;l=p.settings.mode,c=w.attr("tabindex")||"",d=w.attr("class")||"",t=e("<div>").addClass(f.wrapperClass).addClass(d).addClass(l),n=e("<div>").addClass(f.inputClass).addClass("items").appendTo(t),i=e('<input type="text" autocomplete="off" />').appendTo(n).attr("tabindex",c),s=e(f.dropdownParent||t),o=e("<div>").addClass(f.dropdownClass).addClass(d).addClass(l).hide().appendTo(s),a=e("<div>").addClass(f.dropdownContentClass).appendTo(o),t.css({width:w[0].style.width}),p.plugins.names.length&&(u="plugin-"+p.plugins.names.join(" plugin-"),t.addClass(u),o.addClass(u)),(null===f.maxItems||f.maxItems>1)&&p.tagType===_&&w.attr("multiple","multiple"),p.settings.placeholder&&i.attr("placeholder",f.placeholder),w.attr("autocorrect")&&i.attr("autocorrect",w.attr("autocorrect")),w.attr("autocapitalize")&&i.attr("autocapitalize",w.attr("autocapitalize")),p.$wrapper=t,p.$control=n,p.$control_input=i,p.$dropdown=o,p.$dropdown_content=a,o.on("mouseenter","[data-selectable]",function(){return p.onOptionHover.apply(p,arguments)}),o.on("mousedown","[data-selectable]",function(){return p.onOptionSelect.apply(p,arguments)}),j(n,"mousedown","*:not(input)",function(){return p.onItemSelect.apply(p,arguments)}),L(i),n.on({mousedown:function(){return p.onMouseDown.apply(p,arguments)},click:function(){return p.onClick.apply(p,arguments)}}),i.on({mousedown:function(e){e.stopPropagation()},keydown:function(){return p.onKeyDown.apply(p,arguments)},keyup:function(){return p.onKeyUp.apply(p,arguments)},keypress:function(){return p.onKeyPress.apply(p,arguments)},resize:function(){p.positionDropdown.apply(p,[])},blur:function(){return p.onBlur.apply(p,arguments)},focus:function(){return p.ignoreBlur=!1,p.onFocus.apply(p,arguments)},paste:function(){return p.onPaste.apply(p,arguments)}}),g.on("keydown"+h,function(e){p.isCmdDown=e[r?"metaKey":"ctrlKey"],p.isCtrlDown=e[r?"altKey":"ctrlKey"],p.isShiftDown=e.shiftKey}),g.on("keyup"+h,function(e){e.keyCode===b&&(p.isCtrlDown=!1),e.keyCode===v&&(p.isShiftDown=!1),e.keyCode===y&&(p.isCmdDown=!1)}),g.on("mousedown"+h,function(e){if(p.isFocused){if(e.target===p.$dropdown[0]||e.target.parentNode===p.$dropdown[0])return!1;p.$control.has(e.target).length||e.target===p.$control[0]||p.blur()}}),m.on(["scroll"+h,"resize"+h].join(" "),function(){p.isOpen&&p.positionDropdown.apply(p,arguments)}),m.on("mousemove"+h,function(){p.ignoreHover=!1}),this.revertSettings={$children:w.children().detach(),tabindex:w.attr("tabindex")},w.attr("tabindex",-1).hide().after(p.$wrapper),e.isArray(f.items)&&(p.setValue(f.items),delete f.items),w[0].validity&&w.on("invalid"+h,function(e){e.preventDefault(),p.isInvalid=!0,p.refreshState()}),p.updateOriginalInput(),p.refreshItems(),p.refreshState(),p.updatePlaceholder(),p.isSetup=!0,w.is(":disabled")&&p.disable(),p.on("change",this.onChange),w.data("selectize",p),w.addClass("selectized"),p.trigger("initialize"),f.preload===!0&&p.onSearchChange("")},setupTemplates:function(){var t=this,n=t.settings.labelField,i=t.settings.optgroupLabelField,o={optgroup:function(e){return'<div class="optgroup">'+e.html+"</div>"},optgroup_header:function(e,t){return'<div class="optgroup-header">'+t(e[i])+"</div>"},option:function(e,t){return'<div class="option">'+t(e[n])+"</div>"},item:function(e,t){return'<div class="item">'+t(e[n])+"</div>"},option_create:function(e,t){return'<div class="create">Add <strong>'+t(e.input)+"</strong>&hellip;</div>"}};t.settings.render=e.extend({},o,t.settings.render)},setupCallbacks:function(){var e,t,n={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType"};for(e in n)n.hasOwnProperty(e)&&(t=this.settings[n[e]],t&&this.on(e,t))},onClick:function(e){var t=this;t.isFocused||(t.focus(),e.preventDefault())},onMouseDown:function(t){var n=this,i=t.isDefaultPrevented();if(e(t.target),n.isFocused){if(t.target!==n.$control_input[0])return"single"===n.settings.mode?n.isOpen?n.close():n.open():i||n.setActiveItem(null),!1}else i||window.setTimeout(function(){n.focus()},0)},onChange:function(){this.$input.trigger("change")},onPaste:function(e){var t=this;(t.isFull()||t.isInputHidden||t.isLocked)&&e.preventDefault()},onKeyPress:function(e){if(this.isLocked)return e&&e.preventDefault();var t=String.fromCharCode(e.keyCode||e.which);return this.settings.create&&t===this.settings.delimiter?(this.createItem(),e.preventDefault(),!1):void 0},onKeyDown:function(e){var t=(e.target===this.$control_input[0],this);if(t.isLocked)return void(e.keyCode!==w&&e.preventDefault());switch(e.keyCode){case a:if(t.isCmdDown)return void t.selectAll();break;case l:return void t.close();case h:if(!e.ctrlKey||e.altKey)break;case f:if(!t.isOpen&&t.hasOptions)t.open();else if(t.$activeOption){t.ignoreHover=!0;
var n=t.getAdjacentOption(t.$activeOption,1);n.length&&t.setActiveOption(n,!0,!0)}return void e.preventDefault();case u:if(!e.ctrlKey||e.altKey)break;case d:if(t.$activeOption){t.ignoreHover=!0;var i=t.getAdjacentOption(t.$activeOption,-1);i.length&&t.setActiveOption(i,!0,!0)}return void e.preventDefault();case s:return t.isOpen&&t.$activeOption&&t.onOptionSelect({currentTarget:t.$activeOption}),void e.preventDefault();case c:return void t.advanceSelection(-1,e);case p:return void t.advanceSelection(1,e);case w:return t.settings.selectOnTab&&t.isOpen&&t.$activeOption&&(t.onOptionSelect({currentTarget:t.$activeOption}),e.preventDefault()),void(t.settings.create&&t.createItem()&&e.preventDefault());case m:case g:return void t.deleteSelection(e)}return!t.isFull()&&!t.isInputHidden||(r?e.metaKey:e.ctrlKey)?void 0:void e.preventDefault()},onKeyUp:function(e){var t=this;if(t.isLocked)return e&&e.preventDefault();var n=t.$control_input.val()||"";t.lastValue!==n&&(t.lastValue=n,t.onSearchChange(n),t.refreshOptions(),t.trigger("type",n))},onSearchChange:function(e){var t=this,n=t.settings.load;n&&(t.loadedSearches.hasOwnProperty(e)||(t.loadedSearches[e]=!0,t.load(function(i){n.apply(t,[e,i])})))},onFocus:function(e){var t=this;return t.isFocused=!0,t.isDisabled?(t.blur(),e&&e.preventDefault(),!1):void(t.ignoreFocus||("focus"===t.settings.preload&&t.onSearchChange(""),t.$activeItems.length||(t.showInput(),t.setActiveItem(null),t.refreshOptions(!!t.settings.openOnFocus)),t.refreshState()))},onBlur:function(e){var t=this;if(t.isFocused=!1,!t.ignoreFocus){if(!t.ignoreBlur&&document.activeElement===t.$dropdown_content[0])return t.ignoreBlur=!0,void t.onFocus(e);t.settings.create&&t.settings.createOnBlur&&t.createItem(!1),t.close(),t.setTextboxValue(""),t.setActiveItem(null),t.setActiveOption(null),t.setCaret(t.items.length),t.refreshState()}},onOptionHover:function(e){this.ignoreHover||this.setActiveOption(e.currentTarget,!1)},onOptionSelect:function(t){var n,i,o=this;t.preventDefault&&(t.preventDefault(),t.stopPropagation()),i=e(t.currentTarget),i.hasClass("create")?o.createItem():(n=i.attr("data-value"),n&&(o.lastQuery=null,o.setTextboxValue(""),o.addItem(n),!o.settings.hideSelected&&t.type&&/mouse/.test(t.type)&&o.setActiveOption(o.getOption(n))))},onItemSelect:function(e){var t=this;t.isLocked||"multi"===t.settings.mode&&(e.preventDefault(),t.setActiveItem(e.currentTarget,e))},load:function(e){var t=this,n=t.$wrapper.addClass("loading");t.loading++,e.apply(t,[function(e){t.loading=Math.max(t.loading-1,0),e&&e.length&&(t.addOption(e),t.refreshOptions(t.isFocused&&!t.isInputHidden)),t.loading||n.removeClass("loading"),t.trigger("load",e)}])},setTextboxValue:function(e){var t=this.$control_input,n=t.val()!==e;n&&(t.val(e).triggerHandler("update"),this.lastValue=e)},getValue:function(){return this.tagType===_&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(e){O(this,["change"],function(){this.clear(),this.addItems(e)})},setActiveItem:function(t,n){var i,o,r,a,s,l,c,d,u=this;if("single"!==u.settings.mode){if(t=e(t),!t.length)return e(u.$activeItems).removeClass("active"),u.$activeItems=[],void(u.isFocused&&u.showInput());if(i=n&&n.type.toLowerCase(),"mousedown"===i&&u.isShiftDown&&u.$activeItems.length){for(d=u.$control.children(".active:last"),a=Array.prototype.indexOf.apply(u.$control[0].childNodes,[d[0]]),s=Array.prototype.indexOf.apply(u.$control[0].childNodes,[t[0]]),a>s&&(c=a,a=s,s=c),o=a;s>=o;o++)l=u.$control[0].childNodes[o],-1===u.$activeItems.indexOf(l)&&(e(l).addClass("active"),u.$activeItems.push(l));n.preventDefault()}else"mousedown"===i&&u.isCtrlDown||"keydown"===i&&this.isShiftDown?t.hasClass("active")?(r=u.$activeItems.indexOf(t[0]),u.$activeItems.splice(r,1),t.removeClass("active")):u.$activeItems.push(t.addClass("active")[0]):(e(u.$activeItems).removeClass("active"),u.$activeItems=[t.addClass("active")[0]]);u.hideInput(),this.isFocused||u.focus()}},setActiveOption:function(t,n,i){var o,r,a,s,l,c=this;c.$activeOption&&c.$activeOption.removeClass("active"),c.$activeOption=null,t=e(t),t.length&&(c.$activeOption=t.addClass("active"),(n||!C(n))&&(o=c.$dropdown_content.height(),r=c.$activeOption.outerHeight(!0),n=c.$dropdown_content.scrollTop()||0,a=c.$activeOption.offset().top-c.$dropdown_content.offset().top+n,s=a,l=a-o+r,a+r>o+n?c.$dropdown_content.stop().animate({scrollTop:l},i?c.settings.scrollDuration:0):n>a&&c.$dropdown_content.stop().animate({scrollTop:s},i?c.settings.scrollDuration:0)))},selectAll:function(){var e=this;"single"!==e.settings.mode&&(e.$activeItems=Array.prototype.slice.apply(e.$control.children(":not(input)").addClass("active")),e.$activeItems.length&&(e.hideInput(),e.close()),e.focus())},hideInput:function(){var e=this;e.setTextboxValue(""),e.$control_input.css({opacity:0,position:"absolute",left:e.rtl?1e4:-1e4}),e.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var e=this;e.isDisabled||(e.ignoreFocus=!0,e.$control_input[0].focus(),window.setTimeout(function(){e.ignoreFocus=!1,e.onFocus()},0))},blur:function(){this.$control_input.trigger("blur")},getScoreFunction:function(e){return this.sifter.getScoreFunction(e,this.getSearchOptions())},getSearchOptions:function(){var e=this.settings,t=e.sortField;return"string"==typeof t&&(t={field:t}),{fields:e.searchField,conjunction:e.searchConjunction,sort:t}},search:function(t){var n,i,o,r=this,a=r.settings,s=this.getSearchOptions();if(a.score&&(o=r.settings.score.apply(this,[t]),"function"!=typeof o))throw new Error('Selectize "score" setting must be a function that returns a function');if(t!==r.lastQuery?(r.lastQuery=t,i=r.sifter.search(t,e.extend(s,{score:o})),r.currentResults=i):i=e.extend(!0,{},r.currentResults),a.hideSelected)for(n=i.items.length-1;n>=0;n--)-1!==r.items.indexOf(T(i.items[n].id))&&i.items.splice(n,1);return i},refreshOptions:function(t){var n,o,r,a,s,l,c,d,u,p,f,h,m,g,v,y;"undefined"==typeof t&&(t=!0);var b=this,w=b.$control_input.val(),_=b.search(w),x=b.$dropdown_content,C=b.$activeOption&&T(b.$activeOption.attr("data-value"));if(a=_.items.length,"number"==typeof b.settings.maxOptions&&(a=Math.min(a,b.settings.maxOptions)),s={},b.settings.optgroupOrder)for(l=b.settings.optgroupOrder,n=0;n<l.length;n++)s[l[n]]=[];else l=[];for(n=0;a>n;n++)for(c=b.options[_.items[n].id],d=b.render("option",c),u=c[b.settings.optgroupField]||"",p=e.isArray(u)?u:[u],o=0,r=p&&p.length;r>o;o++)u=p[o],b.optgroups.hasOwnProperty(u)||(u=""),s.hasOwnProperty(u)||(s[u]=[],l.push(u)),s[u].push(d);for(f=[],n=0,a=l.length;a>n;n++)u=l[n],b.optgroups.hasOwnProperty(u)&&s[u].length?(h=b.render("optgroup_header",b.optgroups[u])||"",h+=s[u].join(""),f.push(b.render("optgroup",e.extend({},b.optgroups[u],{html:h})))):f.push(s[u].join(""));if(x.html(f.join("")),b.settings.highlight&&_.query.length&&_.tokens.length)for(n=0,a=_.tokens.length;a>n;n++)i(x,_.tokens[n].regex);if(!b.settings.hideSelected)for(n=0,a=b.items.length;a>n;n++)b.getOption(b.items[n]).addClass("selected");m=b.settings.create&&b.canCreate(_.query),m&&(x.prepend(b.render("option_create",{input:w})),y=e(x[0].childNodes[0])),b.hasOptions=_.items.length>0||m,b.hasOptions?(_.items.length>0?(v=C&&b.getOption(C),v&&v.length?g=v:"single"===b.settings.mode&&b.items.length&&(g=b.getOption(b.items[0])),g&&g.length||(g=y&&!b.settings.addPrecedence?b.getAdjacentOption(y,1):x.find("[data-selectable]:first"))):g=y,b.setActiveOption(g),t&&!b.isOpen&&b.open()):(b.setActiveOption(null),t&&b.isOpen&&b.close())},addOption:function(t){var n,i,o,r=this;if(e.isArray(t))for(n=0,i=t.length;i>n;n++)r.addOption(t[n]);else o=T(t[r.settings.valueField]),o&&!r.options.hasOwnProperty(o)&&(r.userOptions[o]=!0,r.options[o]=t,r.lastQuery=null,r.trigger("option_add",o,t))},addOptionGroup:function(e,t){this.optgroups[e]=t,this.trigger("optgroup_add",e,t)},updateOption:function(t,n){var i,o,r,a,s,l,c=this;if(t=T(t),r=T(n[c.settings.valueField]),c.options.hasOwnProperty(t)){if(!r)throw new Error("Value must be set in option data");r!==t&&(delete c.options[t],a=c.items.indexOf(t),-1!==a&&c.items.splice(a,1,r)),c.options[r]=n,s=c.renderCache.item,l=c.renderCache.option,s&&(delete s[t],delete s[r]),l&&(delete l[t],delete l[r]),-1!==c.items.indexOf(r)&&(i=c.getItem(t),o=e(c.render("item",n)),i.hasClass("active")&&o.addClass("active"),i.replaceWith(o)),c.isOpen&&c.refreshOptions(!1)}},removeOption:function(e){var t=this;e=T(e);var n=t.renderCache.item,i=t.renderCache.option;n&&delete n[e],i&&delete i[e],delete t.userOptions[e],delete t.options[e],t.lastQuery=null,t.trigger("option_remove",e),t.removeItem(e)},clearOptions:function(){var e=this;e.loadedSearches={},e.userOptions={},e.renderCache={},e.options=e.sifter.items={},e.lastQuery=null,e.trigger("option_clear"),e.clear()},getOption:function(e){return this.getElementWithValue(e,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(t,n){var i=this.$dropdown.find("[data-selectable]"),o=i.index(t)+n;return o>=0&&o<i.length?i.eq(o):e()},getElementWithValue:function(t,n){if(t=T(t))for(var i=0,o=n.length;o>i;i++)if(n[i].getAttribute("data-value")===t)return e(n[i]);return e()},getItem:function(e){return this.getElementWithValue(e,this.$control.children())},addItems:function(t){for(var n=e.isArray(t)?t:[t],i=0,o=n.length;o>i;i++)this.isPending=o-1>i,this.addItem(n[i])},addItem:function(t){O(this,["change"],function(){var n,i,o,r,a,s=this,l=s.settings.mode;return t=T(t),-1!==s.items.indexOf(t)?void("single"===l&&s.close()):void(s.options.hasOwnProperty(t)&&("single"===l&&s.clear(),"multi"===l&&s.isFull()||(n=e(s.render("item",s.options[t])),a=s.isFull(),s.items.splice(s.caretPos,0,t),s.insertAtCaret(n),(!s.isPending||!a&&s.isFull())&&s.refreshState(),s.isSetup&&(o=s.$dropdown_content.find("[data-selectable]"),s.isPending||(i=s.getOption(t),r=s.getAdjacentOption(i,1).attr("data-value"),s.refreshOptions(s.isFocused&&"single"!==l),r&&s.setActiveOption(s.getOption(r))),!o.length||s.isFull()?s.close():s.positionDropdown(),s.updatePlaceholder(),s.trigger("item_add",t,n),s.updateOriginalInput()))))})},removeItem:function(e){var t,n,i,o=this;t="object"==typeof e?e:o.getItem(e),e=T(t.attr("data-value")),n=o.items.indexOf(e),-1!==n&&(t.remove(),t.hasClass("active")&&(i=o.$activeItems.indexOf(t[0]),o.$activeItems.splice(i,1)),o.items.splice(n,1),o.lastQuery=null,!o.settings.persist&&o.userOptions.hasOwnProperty(e)&&o.removeOption(e),n<o.caretPos&&o.setCaret(o.caretPos-1),o.refreshState(),o.updatePlaceholder(),o.updateOriginalInput(),o.positionDropdown(),o.trigger("item_remove",e))},createItem:function(t){var n=this,i=e.trim(n.$control_input.val()||""),o=n.caretPos;if(!n.canCreate(i))return!1;n.lock(),"undefined"==typeof t&&(t=!0);var r="function"==typeof n.settings.create?this.settings.create:function(e){var t={};return t[n.settings.labelField]=e,t[n.settings.valueField]=e,t},a=S(function(e){if(n.unlock(),e&&"object"==typeof e){var i=T(e[n.settings.valueField]);i&&(n.setTextboxValue(""),n.addOption(e),n.setCaret(o),n.addItem(i),n.refreshOptions(t&&"single"!==n.settings.mode))}}),s=r.apply(this,[i,a]);return"undefined"!=typeof s&&a(s),!0},refreshItems:function(){if(this.lastQuery=null,this.isSetup)for(var e=0;e<this.items.length;e++)this.addItem(this.items);this.refreshState(),this.updateOriginalInput()},refreshState:function(){var e,t=this;t.isRequired&&(t.items.length&&(t.isInvalid=!1),t.$control_input.prop("required",e)),t.refreshClasses()},refreshClasses:function(){var t=this,n=t.isFull(),i=t.isLocked;t.$wrapper.toggleClass("rtl",t.rtl),t.$control.toggleClass("focus",t.isFocused).toggleClass("disabled",t.isDisabled).toggleClass("required",t.isRequired).toggleClass("invalid",t.isInvalid).toggleClass("locked",i).toggleClass("full",n).toggleClass("not-full",!n).toggleClass("input-active",t.isFocused&&!t.isInputHidden).toggleClass("dropdown-active",t.isOpen).toggleClass("has-options",!e.isEmptyObject(t.options)).toggleClass("has-items",t.items.length>0),t.$control_input.data("grow",!n&&!i)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(){var e,t,n,i=this;if(i.tagType===_){for(n=[],e=0,t=i.items.length;t>e;e++)n.push('<option value="'+k(i.items[e])+'" selected="selected"></option>');n.length||this.$input.attr("multiple")||n.push('<option value="" selected="selected"></option>'),i.$input.html(n.join(""))}else i.$input.val(i.getValue()),i.$input.attr("value",i.$input.val());i.isSetup&&i.trigger("change",i.$input.val())},updatePlaceholder:function(){if(this.settings.placeholder){var e=this.$control_input;this.items.length?e.removeAttr("placeholder"):e.attr("placeholder",this.settings.placeholder),e.triggerHandler("update",{force:!0})}},open:function(){var e=this;e.isLocked||e.isOpen||"multi"===e.settings.mode&&e.isFull()||(e.focus(),e.isOpen=!0,e.refreshState(),e.$dropdown.css({visibility:"hidden",display:"block"}),e.positionDropdown(),e.$dropdown.css({visibility:"visible"}),e.trigger("dropdown_open",e.$dropdown))},close:function(){var e=this,t=e.isOpen;"single"===e.settings.mode&&e.items.length&&e.hideInput(),e.isOpen=!1,e.$dropdown.hide(),e.setActiveOption(null),e.refreshState(),t&&e.trigger("dropdown_close",e.$dropdown)},positionDropdown:function(){var e=this.$control,t="body"===this.settings.dropdownParent?e.offset():e.position();t.top+=e.outerHeight(!0),this.$dropdown.css({width:e.outerWidth(),top:t.top,left:t.left})},clear:function(){var e=this;e.items.length&&(e.$control.children(":not(input)").remove(),e.items=[],e.lastQuery=null,e.setCaret(0),e.setActiveItem(null),e.updatePlaceholder(),e.updateOriginalInput(),e.refreshState(),e.showInput(),e.trigger("clear"))},insertAtCaret:function(t){var n=Math.min(this.caretPos,this.items.length);0===n?this.$control.prepend(t):e(this.$control[0].childNodes[n]).before(t),this.setCaret(n+1)},deleteSelection:function(t){var n,i,o,r,a,s,l,c,d,u=this;if(o=t&&t.keyCode===m?-1:1,r=$(u.$control_input[0]),u.$activeOption&&!u.settings.hideSelected&&(l=u.getAdjacentOption(u.$activeOption,-1).attr("data-value")),a=[],u.$activeItems.length){for(d=u.$control.children(".active:"+(o>0?"last":"first")),s=u.$control.children(":not(input)").index(d),o>0&&s++,n=0,i=u.$activeItems.length;i>n;n++)a.push(e(u.$activeItems[n]).attr("data-value"));t&&(t.preventDefault(),t.stopPropagation())}else(u.isFocused||"single"===u.settings.mode)&&u.items.length&&(0>o&&0===r.start&&0===r.length?a.push(u.items[u.caretPos-1]):o>0&&r.start===u.$control_input.val().length&&a.push(u.items[u.caretPos]));if(!a.length||"function"==typeof u.settings.onDelete&&u.settings.onDelete.apply(u,[a])===!1)return!1;for("undefined"!=typeof s&&u.setCaret(s);a.length;)u.removeItem(a.pop());return u.showInput(),u.positionDropdown(),u.refreshOptions(!0),l&&(c=u.getOption(l),c.length&&u.setActiveOption(c)),!0},advanceSelection:function(e,t){var n,i,o,r,a,s,l=this;0!==e&&(l.rtl&&(e*=-1),n=e>0?"last":"first",i=$(l.$control_input[0]),l.isFocused&&!l.isInputHidden?(r=l.$control_input.val().length,a=0>e?0===i.start&&0===i.length:i.start===r,a&&!r&&l.advanceCaret(e,t)):(s=l.$control.children(".active:"+n),s.length&&(o=l.$control.children(":not(input)").index(s),l.setActiveItem(null),l.setCaret(e>0?o+1:o))))},advanceCaret:function(e,t){var n,i,o=this;0!==e&&(n=e>0?"next":"prev",o.isShiftDown?(i=o.$control_input[n](),i.length&&(o.hideInput(),o.setActiveItem(i),t&&t.preventDefault())):o.setCaret(o.caretPos+e))},setCaret:function(t){var n=this;if(t="single"===n.settings.mode?n.items.length:Math.max(0,Math.min(n.items.length,t)),!n.isPending){var i,o,r,a;for(r=n.$control.children(":not(input)"),i=0,o=r.length;o>i;i++)a=e(r[i]).detach(),t>i?n.$control_input.before(a):n.$control.append(a)}n.caretPos=t},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){var e=this;e.$input.prop("disabled",!0),e.isDisabled=!0,e.lock()},enable:function(){var e=this;e.$input.prop("disabled",!1),e.isDisabled=!1,e.unlock()},destroy:function(){var t=this,n=t.eventNS,i=t.revertSettings;t.trigger("destroy"),t.off(),t.$wrapper.remove(),t.$dropdown.remove(),t.$input.html("").append(i.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:i.tabindex}).show(),t.$control_input.removeData("grow"),t.$input.removeData("selectize"),e(window).off(n),e(document).off(n),e(document.body).off(n),delete t.$input[0].selectize},render:function(e,t){var n,i,o="",r=!1,a=this,s=/^[\t ]*<([a-z][a-z0-9\-_]*(?:\:[a-z][a-z0-9\-_]*)?)/i;return("option"===e||"item"===e)&&(n=T(t[a.settings.valueField]),r=!!n),r&&(C(a.renderCache[e])||(a.renderCache[e]={}),a.renderCache[e].hasOwnProperty(n))?a.renderCache[e][n]:(o=a.settings.render[e].apply(this,[t,k]),("option"===e||"option_create"===e)&&(o=o.replace(s,"<$1 data-selectable")),"optgroup"===e&&(i=t[a.settings.optgroupValueField]||"",o=o.replace(s,'<$1 data-group="'+E(k(i))+'"')),("option"===e||"item"===e)&&(o=o.replace(s,'<$1 data-value="'+E(k(n||""))+'"')),r&&(a.renderCache[e][n]=o),o)},clearCache:function(e){var t=this;"undefined"==typeof e?t.renderCache={}:delete t.renderCache[e]}}),P.count=0,P.defaults={plugins:[],delimiter:",",persist:!0,diacritics:!0,create:!1,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!1,preload:!1,scrollDuration:60,loadThrottle:300,dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",optgroupLabelField:"label",optgroupValueField:"value",optgroupOrder:null,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,render:{}},e.fn.selectize=function(t){var n=e.fn.selectize.defaults,i=e.extend({},n,t),o=i.dataAttr,r=i.labelField,a=i.valueField,s=i.optgroupField,l=i.optgroupLabelField,c=i.optgroupValueField,d=function(t,n){var o,s,l,c,d=e.trim(t.val()||"");if(d.length){for(l=d.split(i.delimiter),o=0,s=l.length;s>o;o++)c={},c[r]=l[o],c[a]=l[o],n.options[l[o]]=c;n.items=l}},u=function(t,n){var i,d,u,p,f=0,h=n.options,m=function(e){var t=o&&e.attr(o);return"string"==typeof t&&t.length?JSON.parse(t):null},g=function(t,i){var o,l;if(t=e(t),o=t.attr("value")||"",o.length){if(h.hasOwnProperty(o))return void(i&&(h[o].optgroup?e.isArray(h[o].optgroup)?h[o].optgroup.push(i):h[o].optgroup=[h[o].optgroup,i]:h[o].optgroup=i));l=m(t)||{},l[r]=l[r]||t.text(),l[a]=l[a]||o,l[s]=l[s]||i,l.$order=++f,h[o]=l,t.is(":selected")&&n.items.push(o)}},v=function(t){var i,o,r,a,s;for(t=e(t),r=t.attr("label"),r&&(a=m(t)||{},a[l]=r,a[c]=r,n.optgroups[r]=a),s=e("option",t),i=0,o=s.length;o>i;i++)g(s[i],r)};for(n.maxItems=t.attr("multiple")?null:1,p=t.children(),i=0,d=p.length;d>i;i++)u=p[i].tagName.toLowerCase(),"optgroup"===u?v(p[i]):"option"===u&&g(p[i])};return this.each(function(){if(!this.selectize){var i,o=e(this),r=this.tagName.toLowerCase(),a={placeholder:o.children('option[value=""]').text()||o.attr("placeholder"),options:{},optgroups:{},items:[]};"select"===r?u(o,a):d(o,a),i=new P(o,e.extend(!0,{},n,a,t))}})},e.fn.selectize.defaults=P.defaults,P.define("drag_drop",function(){if(!e.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');if("multi"===this.settings.mode){var t=this;t.lock=function(){var e=t.lock;return function(){var n=t.$control.data("sortable");return n&&n.disable(),e.apply(t,arguments)}}(),t.unlock=function(){var e=t.unlock;return function(){var n=t.$control.data("sortable");return n&&n.enable(),e.apply(t,arguments)}}(),t.setup=function(){var n=t.setup;return function(){n.apply(this,arguments);var i=t.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:t.isLocked,start:function(e,t){t.placeholder.css("width",t.helper.css("width")),i.css({overflow:"visible"})},stop:function(){i.css({overflow:"hidden"});var n=t.$activeItems?t.$activeItems.slice():null,o=[];i.children("[data-value]").each(function(){o.push(e(this).attr("data-value"))}),t.setValue(o),t.setActiveItem(n)}})}}()}}),P.define("dropdown_header",function(t){var n=this;t=e.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close",html:function(e){return'<div class="'+e.headerClass+'"><div class="'+e.titleRowClass+'"><span class="'+e.labelClass+'">'+e.title+'</span><a href="javascript:void(0)" class="'+e.closeClass+'">&times;</a></div></div>'}},t),n.setup=function(){var i=n.setup;return function(){i.apply(n,arguments),n.$dropdown_header=e(t.html(t)),n.$dropdown.prepend(n.$dropdown_header)}}()}),P.define("optgroup_columns",function(t){var n=this;t=e.extend({equalizeWidth:!0,equalizeHeight:!0},t),this.getAdjacentOption=function(t,n){var i=t.closest("[data-group]").find("[data-selectable]"),o=i.index(t)+n;return o>=0&&o<i.length?i.eq(o):e()},this.onKeyDown=function(){var e=n.onKeyDown;return function(t){var i,o,r,a;return!this.isOpen||t.keyCode!==c&&t.keyCode!==p?e.apply(this,arguments):(n.ignoreHover=!0,a=this.$activeOption.closest("[data-group]"),i=a.find("[data-selectable]").index(this.$activeOption),a=t.keyCode===c?a.prev("[data-group]"):a.next("[data-group]"),r=a.find("[data-selectable]"),o=r.eq(Math.min(r.length-1,i)),void(o.length&&this.setActiveOption(o)))}}();var i=function(){var e,t=i.width,n=document;return"undefined"==typeof t&&(e=n.createElement("div"),e.innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',e=e.firstChild,n.body.appendChild(e),t=i.width=e.offsetWidth-e.clientWidth,n.body.removeChild(e)),t},o=function(){var o,r,a,s,l,c,d;if(d=e("[data-group]",n.$dropdown_content),r=d.length,r&&n.$dropdown_content.width()){if(t.equalizeHeight){for(a=0,o=0;r>o;o++)a=Math.max(a,d.eq(o).height());d.css({height:a})}t.equalizeWidth&&(c=n.$dropdown_content.innerWidth()-i(),s=Math.round(c/r),d.css({width:s}),r>1&&(l=c-s*(r-1),d.eq(r-1).css({width:l})))}};(t.equalizeHeight||t.equalizeWidth)&&(N.after(this,"positionDropdown",o),N.after(this,"refreshOptions",o))}),P.define("remove_button",function(t){if("single"!==this.settings.mode){t=e.extend({label:"&times;",title:"Remove",className:"remove",append:!0},t);var n=this,i='<a href="javascript:void(0)" class="'+t.className+'" tabindex="-1" title="'+k(t.title)+'">'+t.label+"</a>",o=function(e,t){var n=e.search(/(<\/[^>]+>\s*)$/);return e.substring(0,n)+t+e.substring(n)};this.setup=function(){var r=n.setup;return function(){if(t.append){var a=n.settings.render.item;n.settings.render.item=function(){return o(a.apply(this,arguments),i)}}r.apply(this,arguments),this.$control.on("click","."+t.className,function(t){if(t.preventDefault(),!n.isLocked){var i=e(t.currentTarget).parent();n.setActiveItem(i),n.deleteSelection()&&n.setCaret(n.items.length)}})}}()}}),P.define("restore_on_backspace",function(e){var t=this;e.text=e.text||function(e){return e[this.settings.labelField]},this.onKeyDown=function(){var n=t.onKeyDown;return function(t){var i,o;return t.keyCode===m&&""===this.$control_input.val()&&!this.$activeItems.length&&(i=this.caretPos-1,i>=0&&i<this.items.length)?(o=this.options[this.items[i]],this.deleteSelection(t)&&(this.setTextboxValue(e.text.apply(this,[o])),this.refreshOptions(!0)),void t.preventDefault()):n.apply(this,arguments)}}()}),P});var functions={},abcde;functions.main=function(e){graph=Viva.Graph.graph(),graph.name="Jutja project graph";var t=Viva.Graph.Layout.forceDirected(graph,{springLength:180,springCoeff:55e-5,dragCoeff:.09,gravity:-100}),n=Viva.Graph.View.cssGraphics();n.node(function(e){var t=document.createElement("div");t.setAttribute("class","node");e.data.group;return t.style.background="#9edae5",t});var i=Viva.Graph.View.svgGraphics(),o=120,r=Viva.Graph.View.renderer(graph,{container:document.getElementById("tile"),graphics:i,layout:t,prerender:20,renderLinks:!0});r.run(),i.node(function(e){var n=[],i=[],r=e.data.due_date,a=functions.findColor(r,e.data.i_no);functions.stringDivider(e.data.info,15,n,0),functions.stringDivider(e.data.name,13,i,0),i.length>1&&functions.wrapHead(i,13),n.length>3&&functions.wrapString(n,15);for(var s=Viva.Graph.svg("g"),l=Viva.Graph.svg("text").attr("y","20px").attr("x","2px").attr("font-size","18px").attr("font-weight","bold").attr("fill","#fff").text(i[0]),c=[],d=0;d<n.length&&3>d;d++){var u=50+15*d;c[d]=Viva.Graph.svg("text").attr("y",u).attr("font-size","15px").attr("x","1px").attr("fill","#fff").text(n[d])}var p=Viva.Graph.svg("rect").attr("id",e.data.i_no).attr("width",o).attr("height",o).attr("fill",a),f=Viva.Graph.svg("text").attr("y","115px").attr("x","2px").attr("font-size","17px").attr("font-weight","bold").attr("fill","#fff").text(e.data.status);s.append(p),s.append(l),s.append(f);for(var d=0;d<n.length&&3>d;d++)s.append(c[d]);var h=new Hammer(s);return h.on("doubletap",function(){call.genModal(e.data)}),s.addEventListener("click",function(){call.choose_parent(e.data.i_no,s),t.pinNode(e,!t.isNodePinned(e))}),s}).placeNode(function(e,t){e.attr("transform","translate("+(t.x-o/2)+","+(t.y-o/2)+")")});var a=function(e){return Viva.Graph.svg("marker").attr("id",e).attr("viewBox","0 0 10 10").attr("refX","10").attr("refY","5").attr("markerUnits","strokeWidth").attr("markerWidth","20").attr("markerHeight","10").attr("orient","auto")},s=a("Triangle");s.append("path").attr("d","M 0 0 L 10 5 L 0 10 z");var l=i.getSvgRoot().append("defs");l.append(s);var c=Viva.Graph.geom();if(i.link(function(){{var e=Viva.Graph.svg("path").attr("stroke","gray").attr("marker-end","url(#Triangle)");Viva.Graph.svg("text").attr("y","-4px").text("deneme")}return e.text("svgText"),$(e).click(function(){alert("test")}),e}).placeLink(function(e,t,n){var i=o,r=o,a=c.intersectRect(t.x-r/2,t.y-r/2,t.x+r/2,t.y+r/2,t.x,t.y,n.x,n.y)||t,s=c.intersectRect(n.x-i/2,n.y-i/2,n.x+i/2,n.y+i/2,n.x,n.y,t.x,t.y)||n,l="M"+a.x+","+a.y+"L"+s.x+","+s.y;e.attr("d",l)}),e){for(var d in e)e.hasOwnProperty(d)&&graph.addNode(d,e[d]);for(var d in e)if(e.hasOwnProperty(d))for(var u=e[d].childi_no,p=0;p<u.length;p++)graph.addLink(d,u[p])}abcde=i,document.getElementById("center").onclick=function(){var e=Viva.Graph.centrality(),n=e.betweennessCentrality(graph);if(graph.getNode(n[0].key)){var i=t.getNodePosition(n[0].key);r.moveTo(i.x,i.y)}},document.getElementById("pin").onclick=function(){var e=call.return_nodedetails().pin;graph.forEachNode(function(n){var i={id:n.id,data:n.data};e?t.pinNode(i,!1):t.pinNode(i,!0)}),call.change_nodedetails(!e,"pin")},document.getElementById("reset_scale").onclick=function(){i.resetScale();var e=Viva.Graph.centrality(),n=e.betweennessCentrality(graph);if(graph.getNode(n[0].key)){var o=t.getNodePosition(n[0].key);r.moveTo(o.x,o.y)}},event_mention&&document.dispatchEvent(event_mention)},functions.stringDivider=function(e,t,n,i){if(e.length>t){for(var o=t;o>=0&&" "!=e[o];o--);if(o>0){var r=e.substring(0,o);n[i]=r,i++;var a=e.substring(o+1);functions.stringDivider(a,t,n,i)}else if(0>o){var r=e.substring(0,t-1),s=r.replace(/^\s+|\s+$/g,"");r=s.concat("-"),n[i]=r,i++;var a=e.substring(t-1);functions.stringDivider(a,t,n,i)}}else n[i]=e},functions.wrapString=function(e){if(e[2])if(e[2].length<12){var t=e[2].replace(/^\s+|\s+$/g,"");e[2]=t.concat(" ...")}else{for(var n=e[2].length,i=e[2];n>0&&" "!=i[n];n--);if(n>0){var o=i.substring(0,n),t=o.replace(/^\s+|\s+$/g,"");e[2]=t.concat(" ...")}else e[2]=" ..."}},functions.findColor=function(e,t){var n=["#D91E18","#F39C12","#2ECC71","#9B59B6"],i={Jan:1,Feb:2,Mar:3,Apr:4,May:5,Jun:6,Jul:7,Aug:8,Sep:9,Oct:10,Nov:11,Dec:12};if(e){var o=e.split(" ");o[0]=parseInt(o[2]),o[1]=i[o[1]],o[2]=parseInt(o[3]);var r=new Date,a=new Date((new Date).getTime()+864e5);index=o[0]==r.getDate()&&o[1]==r.getMonth()+1&&o[2]==r.getFullYear()?0:o[0]==a.getDate()&&o[1]==a.getMonth()+1&&o[2]==a.getFullYear()?1:o[2]>=a.getFullYear()&&(o[1]>a.getMonth()+1||o[0]>a.getDate()&&o[1]==a.getMonth()+1||o[2]>a.getFullYear())?2:3}else index=t%4;return n[index]},functions.wrapHead=function(e){if(e[0])if(e[0].length<10){var t=e[0].replace(/^\s+|\s+$/g,"");e[0]=t.concat(" ...")}else if(e[0].indexOf(" ")>=0){for(var n=e[0].length,i=e[0];" "!=i[n];n--);if(n>0){var o=i.substring(0,n),t=o.replace(/^\s+|\s+$/g,"");e[0]=t.concat(" ...")}}else{var o=e[0].substring(0,10),t=o.replace(/^\s+|\s+$/g,"");e[0]=t.concat("...")}};
(function(){"use strict";var t=this,i=t.Chart,e=function(t){return this.canvas=t.canvas,this.ctx=t,this.width=t.canvas.width,this.height=t.canvas.height,this.aspectRatio=this.width/this.height,s.retinaScale(this),this};e.defaults={global:{animation:!0,animationSteps:60,animationEasing:"easeOutQuart",showScale:!0,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleIntegersOnly:!0,scaleBeginAtZero:!1,scaleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",responsive:!1,showTooltips:!0,tooltipEvents:["mousemove","touchstart","touchmove","mouseout"],tooltipFillColor:"rgba(0,0,0,0.8)",tooltipFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipFontSize:14,tooltipFontStyle:"normal",tooltipFontColor:"#fff",tooltipTitleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipTitleFontSize:14,tooltipTitleFontStyle:"bold",tooltipTitleFontColor:"#fff",tooltipYPadding:6,tooltipXPadding:6,tooltipCaretSize:8,tooltipCornerRadius:6,tooltipXOffset:10,tooltipTemplate:"<%if (label){%><%=label%>: <%}%><%= value %>",multiTooltipTemplate:"<%= value %>",multiTooltipKeyBackground:"#fff",onAnimationProgress:function(){},onAnimationComplete:function(){}}},e.types={};var s=e.helpers={},n=s.each=function(t,i,e){var s=Array.prototype.slice.call(arguments,3);if(t)if(t.length===+t.length){var n;for(n=0;n<t.length;n++)i.apply(e,[t[n],n].concat(s))}else for(var o in t)i.apply(e,[t[o],o].concat(s))},o=s.clone=function(t){var i={};return n(t,function(e,s){t.hasOwnProperty(s)&&(i[s]=e)}),i},a=s.extend=function(t){return n(Array.prototype.slice.call(arguments,1),function(i){n(i,function(e,s){i.hasOwnProperty(s)&&(t[s]=e)})}),t},h=s.merge=function(){var t=Array.prototype.slice.call(arguments,0);return t.unshift({}),a.apply(null,t)},l=s.indexOf=function(t,i){if(Array.prototype.indexOf)return t.indexOf(i);for(var e=0;e<t.length;e++)if(t[e]===i)return e;return-1},r=s.inherits=function(t){var i=this,e=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return i.apply(this,arguments)},s=function(){this.constructor=e};return s.prototype=i.prototype,e.prototype=new s,e.extend=r,t&&a(e.prototype,t),e.__super__=i.prototype,e},c=s.noop=function(){},u=s.uid=function(){var t=0;return function(){return"chart-"+t++}}(),d=s.warn=function(t){window.console&&"function"==typeof window.console.warn&&console.warn(t)},p=s.amd="function"==typeof t.define&&t.define.amd,f=s.isNumber=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},g=s.max=function(t){return Math.max.apply(Math,t)},m=s.min=function(t){return Math.min.apply(Math,t)},v=(s.cap=function(t,i,e){if(f(i)){if(t>i)return i}else if(f(e)&&e>t)return e;return t},s.getDecimalPlaces=function(t){return t%1!==0&&f(t)?t.toString().split(".")[1].length:0}),S=s.radians=function(t){return t*(Math.PI/180)},x=(s.getAngleFromPoint=function(t,i){var e=i.x-t.x,s=i.y-t.y,n=Math.sqrt(e*e+s*s),o=2*Math.PI+Math.atan2(s,e);return 0>e&&0>s&&(o+=2*Math.PI),{angle:o,distance:n}},s.aliasPixel=function(t){return t%2===0?0:.5}),C=(s.splineCurve=function(t,i,e,s){var n=Math.sqrt(Math.pow(i.x-t.x,2)+Math.pow(i.y-t.y,2)),o=Math.sqrt(Math.pow(e.x-i.x,2)+Math.pow(e.y-i.y,2)),a=s*n/(n+o),h=s*o/(n+o);return{inner:{x:i.x-a*(e.x-t.x),y:i.y-a*(e.y-t.y)},outer:{x:i.x+h*(e.x-t.x),y:i.y+h*(e.y-t.y)}}},s.calculateOrderOfMagnitude=function(t){return Math.floor(Math.log(t)/Math.LN10)}),y=(s.calculateScaleRange=function(t,i,e,s,n){var o=2,a=Math.floor(i/(1.5*e)),h=o>=a,l=g(t),r=m(t);l===r&&(l+=.5,r>=.5&&!s?r-=.5:l+=.5);for(var c=Math.abs(l-r),u=C(c),d=Math.ceil(l/(1*Math.pow(10,u)))*Math.pow(10,u),p=s?0:Math.floor(r/(1*Math.pow(10,u)))*Math.pow(10,u),f=d-p,v=Math.pow(10,u),S=Math.round(f/v);(S>a||a>2*S)&&!h;)if(S>a)v*=2,S=Math.round(f/v),S%1!==0&&(h=!0);else if(n&&u>=0){if(v/2%1!==0)break;v/=2,S=Math.round(f/v)}else v/=2,S=Math.round(f/v);return h&&(S=o,v=f/S),{steps:S,stepValue:v,min:p,max:p+S*v}},s.template=function(t,i){function e(t,i){var e=/\W/.test(t)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+t.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):s[t]=s[t];return i?e(i):e}var s={};return e(t,i)}),b=(s.generateLabels=function(t,i,e,s){var o=new Array(i);return labelTemplateString&&n(o,function(i,n){o[n]=y(t,{value:e+s*(n+1)})}),o},s.easingEffects={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-1*t*(t-2)},easeInOutQuad:function(t){return(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return 1*((t=t/1-1)*t*t+1)},easeInOutCubic:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-1*((t=t/1-1)*t*t*t-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return 1*(t/=1)*t*t*t*t},easeOutQuint:function(t){return 1*((t=t/1-1)*t*t*t*t+1)},easeInOutQuint:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return-1*Math.cos(t/1*(Math.PI/2))+1},easeOutSine:function(t){return 1*Math.sin(t/1*(Math.PI/2))},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t/1)-1)},easeInExpo:function(t){return 0===t?1:1*Math.pow(2,10*(t/1-1))},easeOutExpo:function(t){return 1===t?1:1*(-Math.pow(2,-10*t/1)+1)},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(-Math.pow(2,-10*--t)+2)},easeInCirc:function(t){return t>=1?t:-1*(Math.sqrt(1-(t/=1)*t)-1)},easeOutCirc:function(t){return 1*Math.sqrt(1-(t=t/1-1)*t)},easeInOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){var i=1.70158,e=0,s=1;return 0===t?0:1==(t/=1)?1:(e||(e=.3),s<Math.abs(1)?(s=1,i=e/4):i=e/(2*Math.PI)*Math.asin(1/s),-(s*Math.pow(2,10*(t-=1))*Math.sin(2*(1*t-i)*Math.PI/e)))},easeOutElastic:function(t){var i=1.70158,e=0,s=1;return 0===t?0:1==(t/=1)?1:(e||(e=.3),s<Math.abs(1)?(s=1,i=e/4):i=e/(2*Math.PI)*Math.asin(1/s),s*Math.pow(2,-10*t)*Math.sin(2*(1*t-i)*Math.PI/e)+1)},easeInOutElastic:function(t){var i=1.70158,e=0,s=1;return 0===t?0:2==(t/=.5)?1:(e||(e=.3*1.5),s<Math.abs(1)?(s=1,i=e/4):i=e/(2*Math.PI)*Math.asin(1/s),1>t?-.5*s*Math.pow(2,10*(t-=1))*Math.sin(2*(1*t-i)*Math.PI/e):s*Math.pow(2,-10*(t-=1))*Math.sin(2*(1*t-i)*Math.PI/e)*.5+1)},easeInBack:function(t){var i=1.70158;return 1*(t/=1)*t*((i+1)*t-i)},easeOutBack:function(t){var i=1.70158;return 1*((t=t/1-1)*t*((i+1)*t+i)+1)},easeInOutBack:function(t){var i=1.70158;return(t/=.5)<1?.5*t*t*(((i*=1.525)+1)*t-i):.5*((t-=2)*t*(((i*=1.525)+1)*t+i)+2)},easeInBounce:function(t){return 1-b.easeOutBounce(1-t)},easeOutBounce:function(t){return(t/=1)<1/2.75?7.5625*t*t:2/2.75>t?1*(7.5625*(t-=1.5/2.75)*t+.75):2.5/2.75>t?1*(7.5625*(t-=2.25/2.75)*t+.9375):1*(7.5625*(t-=2.625/2.75)*t+.984375)},easeInOutBounce:function(t){return.5>t?.5*b.easeInBounce(2*t):.5*b.easeOutBounce(2*t-1)+.5}}),w=s.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)}}(),P=(s.cancelAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(t){return window.clearTimeout(t,1e3/60)}}(),s.animationLoop=function(t,i,e,s,n,o){var a=0,h=b[e]||b.linear,l=function(){a++;var e=a/i,r=h(e);t.call(o,r,e,a),s.call(o,r,e),i>a?o.animationFrame=w(l):n.apply(o)};w(l)},s.getRelativePosition=function(t){var i,e,s=t.originalEvent||t,n=t.currentTarget||t.srcElement,o=n.getBoundingClientRect();return s.touches?(i=s.touches[0].clientX-o.left,e=s.touches[0].clientY-o.top):(i=s.clientX-o.left,e=s.clientY-o.top),{x:i,y:e}},s.addEvent=function(t,i,e){t.addEventListener?t.addEventListener(i,e):t.attachEvent?t.attachEvent("on"+i,e):t["on"+i]=e}),L=s.removeEvent=function(t,i,e){t.removeEventListener?t.removeEventListener(i,e,!1):t.detachEvent?t.detachEvent("on"+i,e):t["on"+i]=c},k=(s.bindEvents=function(t,i,e){t.events||(t.events={}),n(i,function(i){t.events[i]=function(){e.apply(t,arguments)},P(t.chart.canvas,i,t.events[i])})},s.unbindEvents=function(t,i){n(i,function(i,e){L(t.chart.canvas,e,i)})}),F=s.getMaximumSize=function(t){var i=t.parentNode;return i.clientWidth},R=s.retinaScale=function(t){var i=t.ctx,e=t.canvas.width,s=t.canvas.height;window.devicePixelRatio&&(i.canvas.style.width=e+"px",i.canvas.style.height=s+"px",i.canvas.height=s*window.devicePixelRatio,i.canvas.width=e*window.devicePixelRatio,i.scale(window.devicePixelRatio,window.devicePixelRatio))},A=s.clear=function(t){t.ctx.clearRect(0,0,t.width,t.height)},T=s.fontString=function(t,i,e){return i+" "+t+"px "+e},M=s.longestText=function(t,i,e){t.font=i;var s=0;return n(e,function(i){var e=t.measureText(i).width;s=e>s?e:s}),s},W=s.drawRoundedRectangle=function(t,i,e,s,n,o){t.beginPath(),t.moveTo(i+o,e),t.lineTo(i+s-o,e),t.quadraticCurveTo(i+s,e,i+s,e+o),t.lineTo(i+s,e+n-o),t.quadraticCurveTo(i+s,e+n,i+s-o,e+n),t.lineTo(i+o,e+n),t.quadraticCurveTo(i,e+n,i,e+n-o),t.lineTo(i,e+o),t.quadraticCurveTo(i,e,i+o,e),t.closePath()};e.instances={},e.Type=function(t,i,s){this.options=i,this.chart=s,this.id=u(),e.instances[this.id]=this,i.responsive&&this.resize(),this.initialize.call(this,t)},a(e.Type.prototype,{initialize:function(){return this},clear:function(){return A(this.chart),this},stop:function(){return s.cancelAnimFrame.call(t,this.animationFrame),this},resize:function(t){this.stop();var i=this.chart.canvas,e=F(this.chart.canvas),s=e/this.chart.aspectRatio;return i.width=this.chart.width=e,i.height=this.chart.height=s,R(this.chart),"function"==typeof t&&t.apply(this,Array.prototype.slice.call(arguments,1)),this},reflow:c,render:function(t){return t&&this.reflow(),this.options.animation&&!t?s.animationLoop(this.draw,this.options.animationSteps,this.options.animationEasing,this.options.onAnimationProgress,this.options.onAnimationComplete,this):(this.draw(),this.options.onAnimationComplete.call(this)),this},generateLegend:function(){return y(this.options.legendTemplate,this)},destroy:function(){this.clear(),k(this,this.events),delete e.instances[this.id]},showTooltip:function(t,i){"undefined"==typeof this.activeElements&&(this.activeElements=[]);var o=function(t){var i=!1;return t.length!==this.activeElements.length?i=!0:(n(t,function(t,e){t!==this.activeElements[e]&&(i=!0)},this),i)}.call(this,t);if(o||i){if(this.activeElements=t,this.draw(),t.length>0)if(this.datasets&&this.datasets.length>1){for(var a,h,r=this.datasets.length-1;r>=0&&(a=this.datasets[r].points||this.datasets[r].bars||this.datasets[r].segments,h=l(a,t[0]),-1===h);r--);var c=[],u=[],d=function(){var t,i,e,n,o,a=[],l=[],r=[];return s.each(this.datasets,function(i){t=i.points||i.bars||i.segments,t[h]&&a.push(t[h])}),s.each(a,function(t){l.push(t.x),r.push(t.y),c.push(s.template(this.options.multiTooltipTemplate,t)),u.push({fill:t._saved.fillColor||t.fillColor,stroke:t._saved.strokeColor||t.strokeColor})},this),o=m(r),e=g(r),n=m(l),i=g(l),{x:n>this.chart.width/2?n:i,y:(o+e)/2}}.call(this,h);new e.MultiTooltip({x:d.x,y:d.y,xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,xOffset:this.options.tooltipXOffset,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,titleTextColor:this.options.tooltipTitleFontColor,titleFontFamily:this.options.tooltipTitleFontFamily,titleFontStyle:this.options.tooltipTitleFontStyle,titleFontSize:this.options.tooltipTitleFontSize,cornerRadius:this.options.tooltipCornerRadius,labels:c,legendColors:u,legendColorBackground:this.options.multiTooltipKeyBackground,title:t[0].label,chart:this.chart,ctx:this.chart.ctx}).draw()}else n(t,function(t){var i=t.tooltipPosition();new e.Tooltip({x:Math.round(i.x),y:Math.round(i.y),xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,caretHeight:this.options.tooltipCaretSize,cornerRadius:this.options.tooltipCornerRadius,text:y(this.options.tooltipTemplate,t),chart:this.chart}).draw()},this);return this}},toBase64Image:function(){return this.chart.canvas.toDataURL.apply(this.chart.canvas,arguments)}}),e.Type.extend=function(t){var i=this,s=function(){return i.apply(this,arguments)};if(s.prototype=o(i.prototype),a(s.prototype,t),s.extend=e.Type.extend,t.name||i.prototype.name){var n=t.name||i.prototype.name,l=e.defaults[i.prototype.name]?o(e.defaults[i.prototype.name]):{};e.defaults[n]=a(l,t.defaults),e.types[n]=s,e.prototype[n]=function(t,i){var o=h(e.defaults.global,e.defaults[n],i||{});return new s(t,o,this)}}else d("Name not provided for this chart, so it hasn't been registered");return i},e.Element=function(t){a(this,t),this.initialize.apply(this,arguments),this.save()},a(e.Element.prototype,{initialize:function(){},restore:function(t){return t?n(t,function(t){this[t]=this._saved[t]},this):a(this,this._saved),this},save:function(){return this._saved=o(this),delete this._saved._saved,this},update:function(t){return n(t,function(t,i){this._saved[i]=this[i],this[i]=t},this),this},transition:function(t,i){return n(t,function(t,e){this[e]=(t-this._saved[e])*i+this._saved[e]},this),this},tooltipPosition:function(){return{x:this.x,y:this.y}}}),e.Element.extend=r,e.Point=e.Element.extend({display:!0,inRange:function(t,i){var e=this.hitDetectionRadius+this.radius;return Math.pow(t-this.x,2)+Math.pow(i-this.y,2)<Math.pow(e,2)},draw:function(){if(this.display){var t=this.ctx;t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI),t.closePath(),t.strokeStyle=this.strokeColor,t.lineWidth=this.strokeWidth,t.fillStyle=this.fillColor,t.fill(),t.stroke()}}}),e.Arc=e.Element.extend({inRange:function(t,i){var e=s.getAngleFromPoint(this,{x:t,y:i}),n=e.angle>=this.startAngle&&e.angle<=this.endAngle,o=e.distance>=this.innerRadius&&e.distance<=this.outerRadius;return n&&o},tooltipPosition:function(){var t=this.startAngle+(this.endAngle-this.startAngle)/2,i=(this.outerRadius-this.innerRadius)/2+this.innerRadius;return{x:this.x+Math.cos(t)*i,y:this.y+Math.sin(t)*i}},draw:function(){var t=this.ctx;t.beginPath(),t.arc(this.x,this.y,this.outerRadius,this.startAngle,this.endAngle),t.arc(this.x,this.y,this.innerRadius,this.endAngle,this.startAngle,!0),t.closePath(),t.strokeStyle=this.strokeColor,t.lineWidth=this.strokeWidth,t.fillStyle=this.fillColor,t.fill(),t.lineJoin="bevel",this.showStroke&&t.stroke()}}),e.Rectangle=e.Element.extend({draw:function(){var t=this.ctx,i=this.width/2,e=this.x-i,s=this.x+i,n=this.base-(this.base-this.y),o=this.strokeWidth/2;this.showStroke&&(e+=o,s-=o,n+=o),t.beginPath(),t.fillStyle=this.fillColor,t.strokeStyle=this.strokeColor,t.lineWidth=this.strokeWidth,t.moveTo(e,this.base),t.lineTo(e,n),t.lineTo(s,n),t.lineTo(s,this.base),t.fill(),this.showStroke&&t.stroke()},height:function(){return this.base-this.y},inRange:function(t,i){return t>=this.x-this.width/2&&t<=this.x+this.width/2&&i>=this.y&&i<=this.base}}),e.Tooltip=e.Element.extend({draw:function(){var t=this.chart.ctx;t.font=T(this.fontSize,this.fontStyle,this.fontFamily),this.xAlign="center",this.yAlign="above";var i=2,e=t.measureText(this.text).width+2*this.xPadding,s=this.fontSize+2*this.yPadding,n=s+this.caretHeight+i;this.x+e/2>this.chart.width?this.xAlign="left":this.x-e/2<0&&(this.xAlign="right"),this.y-n<0&&(this.yAlign="below");var o=this.x-e/2,a=this.y-n;switch(t.fillStyle=this.fillColor,this.yAlign){case"above":t.beginPath(),t.moveTo(this.x,this.y-i),t.lineTo(this.x+this.caretHeight,this.y-(i+this.caretHeight)),t.lineTo(this.x-this.caretHeight,this.y-(i+this.caretHeight)),t.closePath(),t.fill();break;case"below":a=this.y+i+this.caretHeight,t.beginPath(),t.moveTo(this.x,this.y+i),t.lineTo(this.x+this.caretHeight,this.y+i+this.caretHeight),t.lineTo(this.x-this.caretHeight,this.y+i+this.caretHeight),t.closePath(),t.fill()}switch(this.xAlign){case"left":o=this.x-e+(this.cornerRadius+this.caretHeight);break;case"right":o=this.x-(this.cornerRadius+this.caretHeight)}W(t,o,a,e,s,this.cornerRadius),t.fill(),t.fillStyle=this.textColor,t.textAlign="center",t.textBaseline="middle",t.fillText(this.text,o+e/2,a+s/2)}}),e.MultiTooltip=e.Element.extend({initialize:function(){this.font=T(this.fontSize,this.fontStyle,this.fontFamily),this.titleFont=T(this.titleFontSize,this.titleFontStyle,this.titleFontFamily),this.height=this.labels.length*this.fontSize+(this.labels.length-1)*(this.fontSize/2)+2*this.yPadding+1.5*this.titleFontSize,this.ctx.font=this.titleFont;var t=this.ctx.measureText(this.title).width,i=M(this.ctx,this.font,this.labels)+this.fontSize+3,e=g([i,t]);this.width=e+2*this.xPadding;var s=this.height/2;this.y-s<0?this.y=s:this.y+s>this.chart.height&&(this.y=this.chart.height-s),this.x>this.chart.width/2?this.x-=this.xOffset+this.width:this.x+=this.xOffset},getLineHeight:function(t){var i=this.y-this.height/2+this.yPadding,e=t-1;return 0===t?i+this.titleFontSize/2:i+(1.5*this.fontSize*e+this.fontSize/2)+1.5*this.titleFontSize},draw:function(){W(this.ctx,this.x,this.y-this.height/2,this.width,this.height,this.cornerRadius);var t=this.ctx;t.fillStyle=this.fillColor,t.fill(),t.closePath(),t.textAlign="left",t.textBaseline="middle",t.fillStyle=this.titleTextColor,t.font=this.titleFont,t.fillText(this.title,this.x+this.xPadding,this.getLineHeight(0)),t.font=this.font,s.each(this.labels,function(i,e){t.fillStyle=this.textColor,t.fillText(i,this.x+this.xPadding+this.fontSize+3,this.getLineHeight(e+1)),t.fillStyle=this.legendColorBackground,t.fillRect(this.x+this.xPadding,this.getLineHeight(e+1)-this.fontSize/2,this.fontSize,this.fontSize),t.fillStyle=this.legendColors[e].fill,t.fillRect(this.x+this.xPadding,this.getLineHeight(e+1)-this.fontSize/2,this.fontSize,this.fontSize)},this)}}),e.Scale=e.Element.extend({initialize:function(){this.fit()},buildYLabels:function(){this.yLabels=[];for(var t=v(this.stepValue),i=0;i<=this.steps;i++)this.yLabels.push(y(this.templateString,{value:(this.min+i*this.stepValue).toFixed(t)}));this.yLabelWidth=this.display&&this.showLabels?M(this.ctx,this.font,this.yLabels):0},addXLabel:function(t){this.xLabels.push(t),this.valuesCount++,this.fit()},removeXLabel:function(){this.xLabels.shift(),this.valuesCount--,this.fit()},fit:function(){this.startPoint=this.display?this.fontSize:0,this.endPoint=this.display?this.height-1.5*this.fontSize-5:this.height,this.startPoint+=this.padding,this.endPoint-=this.padding;var t,i=this.endPoint-this.startPoint;for(this.calculateYRange(i),this.buildYLabels(),this.calculateXLabelRotation();i>this.endPoint-this.startPoint;)i=this.endPoint-this.startPoint,t=this.yLabelWidth,this.calculateYRange(i),this.buildYLabels(),t<this.yLabelWidth&&this.calculateXLabelRotation()},calculateXLabelRotation:function(){this.ctx.font=this.font;var t,i,e=this.ctx.measureText(this.xLabels[0]).width,s=this.ctx.measureText(this.xLabels[this.xLabels.length-1]).width;if(this.xScalePaddingRight=s/2+3,this.xScalePaddingLeft=e/2>this.yLabelWidth+10?e/2:this.yLabelWidth+10,this.xLabelRotation=0,this.display){var n,o=M(this.ctx,this.font,this.xLabels);this.xLabelWidth=o;for(var a=Math.floor(this.calculateX(1)-this.calculateX(0))-6;this.xLabelWidth>a&&0===this.xLabelRotation||this.xLabelWidth>a&&this.xLabelRotation<=90&&this.xLabelRotation>0;)n=Math.cos(S(this.xLabelRotation)),t=n*e,i=n*s,t+this.fontSize/2>this.yLabelWidth+8&&(this.xScalePaddingLeft=t+this.fontSize/2),this.xScalePaddingRight=this.fontSize/2,this.xLabelRotation++,this.xLabelWidth=n*o;this.xLabelRotation>0&&(this.endPoint-=Math.sin(S(this.xLabelRotation))*o+3)}else this.xLabelWidth=0,this.xScalePaddingRight=this.padding,this.xScalePaddingLeft=this.padding},calculateYRange:c,drawingArea:function(){return this.startPoint-this.endPoint},calculateY:function(t){var i=this.drawingArea()/(this.min-this.max);return this.endPoint-i*(t-this.min)},calculateX:function(t){var i=(this.xLabelRotation>0,this.width-(this.xScalePaddingLeft+this.xScalePaddingRight)),e=i/(this.valuesCount-(this.offsetGridLines?0:1)),s=e*t+this.xScalePaddingLeft;return this.offsetGridLines&&(s+=e/2),Math.round(s)},update:function(t){s.extend(this,t),this.fit()},draw:function(){var t=this.ctx,i=(this.endPoint-this.startPoint)/this.steps,e=Math.round(this.xScalePaddingLeft);this.display&&(t.fillStyle=this.textColor,t.font=this.font,n(this.yLabels,function(n,o){var a=this.endPoint-i*o,h=Math.round(a);t.textAlign="right",t.textBaseline="middle",this.showLabels&&t.fillText(n,e-10,a),t.beginPath(),o>0?(t.lineWidth=this.gridLineWidth,t.strokeStyle=this.gridLineColor):(t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor),h+=s.aliasPixel(t.lineWidth),t.moveTo(e,h),t.lineTo(this.width,h),t.stroke(),t.closePath(),t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor,t.beginPath(),t.moveTo(e-5,h),t.lineTo(e,h),t.stroke(),t.closePath()},this),n(this.xLabels,function(i,e){var s=this.calculateX(e)+x(this.lineWidth),n=this.calculateX(e-(this.offsetGridLines?.5:0))+x(this.lineWidth),o=this.xLabelRotation>0;t.beginPath(),e>0?(t.lineWidth=this.gridLineWidth,t.strokeStyle=this.gridLineColor):(t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor),t.moveTo(n,this.endPoint),t.lineTo(n,this.startPoint-3),t.stroke(),t.closePath(),t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor,t.beginPath(),t.moveTo(n,this.endPoint),t.lineTo(n,this.endPoint+5),t.stroke(),t.closePath(),t.save(),t.translate(s,o?this.endPoint+12:this.endPoint+8),t.rotate(-1*S(this.xLabelRotation)),t.font=this.font,t.textAlign=o?"right":"center",t.textBaseline=o?"middle":"top",t.fillText(i,0,0),t.restore()},this))}}),e.RadialScale=e.Element.extend({initialize:function(){this.size=m([this.height,this.width]),this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2},calculateCenterOffset:function(t){var i=this.drawingArea/(this.max-this.min);return(t-this.min)*i},update:function(){this.lineArc?this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2:this.setScaleSize(),this.buildYLabels()},buildYLabels:function(){this.yLabels=[];for(var t=v(this.stepValue),i=0;i<=this.steps;i++)this.yLabels.push(y(this.templateString,{value:(this.min+i*this.stepValue).toFixed(t)}))},getCircumference:function(){return 2*Math.PI/this.valuesCount},setScaleSize:function(){var t,i,e,s,n,o,a,h,l,r,c,u,d=m([this.height/2-this.pointLabelFontSize-5,this.width/2]),p=this.width,g=0;for(this.ctx.font=T(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),i=0;i<this.valuesCount;i++)t=this.getPointPosition(i,d),e=this.ctx.measureText(y(this.templateString,{value:this.labels[i]})).width+5,0===i||i===this.valuesCount/2?(s=e/2,t.x+s>p&&(p=t.x+s,n=i),t.x-s<g&&(g=t.x-s,a=i)):i<this.valuesCount/2?t.x+e>p&&(p=t.x+e,n=i):i>this.valuesCount/2&&t.x-e<g&&(g=t.x-e,a=i);l=g,r=Math.ceil(p-this.width),o=this.getIndexAngle(n),h=this.getIndexAngle(a),c=r/Math.sin(o+Math.PI/2),u=l/Math.sin(h+Math.PI/2),c=f(c)?c:0,u=f(u)?u:0,this.drawingArea=d-(u+c)/2,this.setCenterPoint(u,c)},setCenterPoint:function(t,i){var e=this.width-i-this.drawingArea,s=t+this.drawingArea;this.xCenter=(s+e)/2,this.yCenter=this.height/2},getIndexAngle:function(t){var i=2*Math.PI/this.valuesCount;return t*i-Math.PI/2},getPointPosition:function(t,i){var e=this.getIndexAngle(t);return{x:Math.cos(e)*i+this.xCenter,y:Math.sin(e)*i+this.yCenter}},draw:function(){if(this.display){var t=this.ctx;if(n(this.yLabels,function(i,e){if(e>0){var s,n=e*(this.drawingArea/this.steps),o=this.yCenter-n;if(this.lineWidth>0)if(t.strokeStyle=this.lineColor,t.lineWidth=this.lineWidth,this.lineArc)t.beginPath(),t.arc(this.xCenter,this.yCenter,n,0,2*Math.PI),t.closePath(),t.stroke();else{t.beginPath();for(var a=0;a<this.valuesCount;a++)s=this.getPointPosition(a,this.calculateCenterOffset(this.min+e*this.stepValue)),0===a?t.moveTo(s.x,s.y):t.lineTo(s.x,s.y);t.closePath(),t.stroke()}if(this.showLabels){if(t.font=T(this.fontSize,this.fontStyle,this.fontFamily),this.showLabelBackdrop){var h=t.measureText(i).width;t.fillStyle=this.backdropColor,t.fillRect(this.xCenter-h/2-this.backdropPaddingX,o-this.fontSize/2-this.backdropPaddingY,h+2*this.backdropPaddingX,this.fontSize+2*this.backdropPaddingY)}t.textAlign="center",t.textBaseline="middle",t.fillStyle=this.fontColor,t.fillText(i,this.xCenter,o)}}},this),!this.lineArc){t.lineWidth=this.angleLineWidth,t.strokeStyle=this.angleLineColor;for(var i=this.valuesCount-1;i>=0;i--){if(this.angleLineWidth>0){var e=this.getPointPosition(i,this.calculateCenterOffset(this.max));t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(e.x,e.y),t.stroke(),t.closePath()}var s=this.getPointPosition(i,this.calculateCenterOffset(this.max)+5);t.font=T(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),t.fillStyle=this.pointLabelFontColor;var o=this.labels.length,a=this.labels.length/2,h=a/2,l=h>i||i>o-h,r=i===h||i===o-h;t.textAlign=0===i?"center":i===a?"center":a>i?"left":"right",t.textBaseline=r?"middle":l?"bottom":"top",t.fillText(this.labels[i],s.x,s.y)}}}}}),s.addEvent(window,"resize",function(){var t;return function(){clearTimeout(t),t=setTimeout(function(){n(e.instances,function(t){t.options.responsive&&t.resize(t.render,!0)})},50)}}()),p?define(function(){return e}):"object"==typeof module&&module.exports&&(module.exports=e),t.Chart=e,e.noConflict=function(){return t.Chart=i,e}}).call(this),function(){"use strict";var t=this,i=t.Chart,e=i.helpers,s={scaleBeginAtZero:!0,scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].fillColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'};i.Type.extend({name:"Bar",defaults:s,initialize:function(t){var s=this.options;this.ScaleClass=i.Scale.extend({offsetGridLines:!0,calculateBarX:function(t,i,e){var n=this.calculateBaseWidth(),o=this.calculateX(e)-n/2,a=this.calculateBarWidth(t);return o+a*i+i*s.barDatasetSpacing+a/2},calculateBaseWidth:function(){return this.calculateX(1)-this.calculateX(0)-2*s.barValueSpacing},calculateBarWidth:function(t){var i=this.calculateBaseWidth()-(t-1)*s.barDatasetSpacing;return i/t}}),this.datasets=[],this.options.showTooltips&&e.bindEvents(this,this.options.tooltipEvents,function(t){var i="mouseout"!==t.type?this.getBarsAtEvent(t):[];this.eachBars(function(t){t.restore(["fillColor","strokeColor"])}),e.each(i,function(t){t.fillColor=t.highlightFill,t.strokeColor=t.highlightStroke}),this.showTooltip(i)}),this.BarClass=i.Rectangle.extend({strokeWidth:this.options.barStrokeWidth,showStroke:this.options.barShowStroke,ctx:this.chart.ctx}),e.each(t.datasets,function(i){var s={label:i.label||null,fillColor:i.fillColor,strokeColor:i.strokeColor,bars:[]};this.datasets.push(s),e.each(i.data,function(n,o){e.isNumber(n)&&s.bars.push(new this.BarClass({value:n,label:t.labels[o],datasetLabel:i.label,strokeColor:i.strokeColor,fillColor:i.fillColor,highlightFill:i.highlightFill||i.fillColor,highlightStroke:i.highlightStroke||i.strokeColor}))},this)},this),this.buildScale(t.labels),this.BarClass.prototype.base=this.scale.endPoint,this.eachBars(function(t,i,s){e.extend(t,{width:this.scale.calculateBarWidth(this.datasets.length),x:this.scale.calculateBarX(this.datasets.length,s,i),y:this.scale.endPoint}),t.save()},this),this.render()},update:function(){this.scale.update(),e.each(this.activeElements,function(t){t.restore(["fillColor","strokeColor"])}),this.eachBars(function(t){t.save()}),this.render()},eachBars:function(t){e.each(this.datasets,function(i,s){e.each(i.bars,t,this,s)},this)},getBarsAtEvent:function(t){for(var i,s=[],n=e.getRelativePosition(t),o=function(t){s.push(t.bars[i])},a=0;a<this.datasets.length;a++)for(i=0;i<this.datasets[a].bars.length;i++)if(this.datasets[a].bars[i].inRange(n.x,n.y))return e.each(this.datasets,o),s;return s},buildScale:function(t){var i=this,s=function(){var t=[];return i.eachBars(function(i){t.push(i.value)}),t},n={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:t.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(t){var i=e.calculateScaleRange(s(),t,this.fontSize,this.beginAtZero,this.integersOnly);e.extend(this,i)},xLabels:t,font:e.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.barShowStroke?this.options.barStrokeWidth:0,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&e.extend(n,{calculateYRange:e.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new this.ScaleClass(n)},addData:function(t,i){e.each(t,function(t,s){e.isNumber(t)&&this.datasets[s].bars.push(new this.BarClass({value:t,label:i,x:this.scale.calculateBarX(this.datasets.length,s,this.scale.valuesCount+1),y:this.scale.endPoint,width:this.scale.calculateBarWidth(this.datasets.length),base:this.scale.endPoint,strokeColor:this.datasets[s].strokeColor,fillColor:this.datasets[s].fillColor}))},this),this.scale.addXLabel(i),this.update()},removeData:function(){this.scale.removeXLabel(),e.each(this.datasets,function(t){t.bars.shift()},this),this.update()},reflow:function(){e.extend(this.BarClass.prototype,{y:this.scale.endPoint,base:this.scale.endPoint});var t=e.extend({height:this.chart.height,width:this.chart.width});this.scale.update(t)},draw:function(t){var i=t||1;this.clear(),this.chart.ctx,this.scale.draw(i),e.each(this.datasets,function(t,s){e.each(t.bars,function(t,e){t.base=this.scale.endPoint,t.transition({x:this.scale.calculateBarX(this.datasets.length,s,e),y:this.scale.calculateY(t.value),width:this.scale.calculateBarWidth(this.datasets.length)},i).draw()},this)},this)}})}.call(this),function(){"use strict";var t=this,i=t.Chart,e=i.helpers,s={segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,percentageInnerCutout:50,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'};i.Type.extend({name:"Doughnut",defaults:s,initialize:function(t){this.segments=[],this.outerRadius=(e.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,this.SegmentArc=i.Arc.extend({ctx:this.chart.ctx,x:this.chart.width/2,y:this.chart.height/2}),this.options.showTooltips&&e.bindEvents(this,this.options.tooltipEvents,function(t){var i="mouseout"!==t.type?this.getSegmentsAtEvent(t):[];
e.each(this.segments,function(t){t.restore(["fillColor"])}),e.each(i,function(t){t.fillColor=t.highlightColor}),this.showTooltip(i)}),this.calculateTotal(t),e.each(t,function(t,i){this.addData(t,i,!0)},this),this.render()},getSegmentsAtEvent:function(t){var i=[],s=e.getRelativePosition(t);return e.each(this.segments,function(t){t.inRange(s.x,s.y)&&i.push(t)},this),i},addData:function(t,i,e){var s=i||this.segments.length;this.segments.splice(s,0,new this.SegmentArc({value:t.value,outerRadius:this.options.animateScale?0:this.outerRadius,innerRadius:this.options.animateScale?0:this.outerRadius/100*this.options.percentageInnerCutout,fillColor:t.color,highlightColor:t.highlight||t.color,showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,startAngle:1.5*Math.PI,circumference:this.options.animateRotate?0:this.calculateCircumference(t.value),label:t.label})),e||(this.reflow(),this.update())},calculateCircumference:function(t){return 2*Math.PI*(t/this.total)},calculateTotal:function(t){this.total=0,e.each(t,function(t){this.total+=t.value},this)},update:function(){this.calculateTotal(this.segments),e.each(this.activeElements,function(t){t.restore(["fillColor"])}),e.each(this.segments,function(t){t.save()}),this.render()},removeData:function(t){var i=e.isNumber(t)?t:this.segments.length-1;this.segments.splice(i,1),this.reflow(),this.update()},reflow:function(){e.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.outerRadius=(e.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,e.each(this.segments,function(t){t.update({outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout})},this)},draw:function(t){var i=t?t:1;this.clear(),e.each(this.segments,function(t,e){t.transition({circumference:this.calculateCircumference(t.value),outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout},i),t.endAngle=t.startAngle+t.circumference,t.draw(),0===e&&(t.startAngle=1.5*Math.PI),e<this.segments.length-1&&(this.segments[e+1].startAngle=t.endAngle)},this)}}),i.types.Doughnut.extend({name:"Pie",defaults:e.merge(s,{percentageInnerCutout:0})})}.call(this),function(){"use strict";var t=this,i=t.Chart,e=i.helpers,s={scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,bezierCurve:!0,bezierCurveTension:.4,pointDot:!0,pointDotRadius:4,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].strokeColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'};i.Type.extend({name:"Line",defaults:s,initialize:function(t){this.PointClass=i.Point.extend({strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx,inRange:function(t){return Math.pow(t-this.x,2)<Math.pow(this.radius+this.hitDetectionRadius,2)}}),this.datasets=[],this.options.showTooltips&&e.bindEvents(this,this.options.tooltipEvents,function(t){var i="mouseout"!==t.type?this.getPointsAtEvent(t):[];this.eachPoints(function(t){t.restore(["fillColor","strokeColor"])}),e.each(i,function(t){t.fillColor=t.highlightFill,t.strokeColor=t.highlightStroke}),this.showTooltip(i)}),e.each(t.datasets,function(i){var s={label:i.label||null,fillColor:i.fillColor,strokeColor:i.strokeColor,pointColor:i.pointColor,pointStrokeColor:i.pointStrokeColor,points:[]};this.datasets.push(s),e.each(i.data,function(n,o){e.isNumber(n)&&s.points.push(new this.PointClass({value:n,label:t.labels[o],datasetLabel:i.label,strokeColor:i.pointStrokeColor,fillColor:i.pointColor,highlightFill:i.pointHighlightFill||i.pointColor,highlightStroke:i.pointHighlightStroke||i.pointStrokeColor}))},this),this.buildScale(t.labels),this.eachPoints(function(t,i){e.extend(t,{x:this.scale.calculateX(i),y:this.scale.endPoint}),t.save()},this)},this),this.render()},update:function(){this.scale.update(),e.each(this.activeElements,function(t){t.restore(["fillColor","strokeColor"])}),this.eachPoints(function(t){t.save()}),this.render()},eachPoints:function(t){e.each(this.datasets,function(i){e.each(i.points,t,this)},this)},getPointsAtEvent:function(t){var i=[],s=e.getRelativePosition(t);return e.each(this.datasets,function(t){e.each(t.points,function(t){t.inRange(s.x,s.y)&&i.push(t)})},this),i},buildScale:function(t){var s=this,n=function(){var t=[];return s.eachPoints(function(i){t.push(i.value)}),t},o={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:t.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(t){var i=e.calculateScaleRange(n(),t,this.fontSize,this.beginAtZero,this.integersOnly);e.extend(this,i)},xLabels:t,font:e.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.pointDotRadius+this.options.pointDotStrokeWidth,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&e.extend(o,{calculateYRange:e.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new i.Scale(o)},addData:function(t,i){e.each(t,function(t,s){e.isNumber(t)&&this.datasets[s].points.push(new this.PointClass({value:t,label:i,x:this.scale.calculateX(this.scale.valuesCount+1),y:this.scale.endPoint,strokeColor:this.datasets[s].pointStrokeColor,fillColor:this.datasets[s].pointColor}))},this),this.scale.addXLabel(i),this.update()},removeData:function(){this.scale.removeXLabel(),e.each(this.datasets,function(t){t.points.shift()},this),this.update()},reflow:function(){var t=e.extend({height:this.chart.height,width:this.chart.width});this.scale.update(t)},draw:function(t){var i=t||1;this.clear();var s=this.chart.ctx;this.scale.draw(i),e.each(this.datasets,function(t){e.each(t.points,function(t,e){t.transition({y:this.scale.calculateY(t.value),x:this.scale.calculateX(e)},i)},this),this.options.bezierCurve&&e.each(t.points,function(i,s){i.controlPoints=0===s?e.splineCurve(i,i,t.points[s+1],0):s>=t.points.length-1?e.splineCurve(t.points[s-1],i,i,0):e.splineCurve(t.points[s-1],i,t.points[s+1],this.options.bezierCurveTension)},this),s.lineWidth=this.options.datasetStrokeWidth,s.strokeStyle=t.strokeColor,s.beginPath(),e.each(t.points,function(i,e){e>0?this.options.bezierCurve?s.bezierCurveTo(t.points[e-1].controlPoints.outer.x,t.points[e-1].controlPoints.outer.y,i.controlPoints.inner.x,i.controlPoints.inner.y,i.x,i.y):s.lineTo(i.x,i.y):s.moveTo(i.x,i.y)},this),s.stroke(),this.options.datasetFill&&(s.lineTo(t.points[t.points.length-1].x,this.scale.endPoint),s.lineTo(this.scale.calculateX(0),this.scale.endPoint),s.fillStyle=t.fillColor,s.closePath(),s.fill()),e.each(t.points,function(t){t.draw()})},this)}})}.call(this),function(){"use strict";var t=this,i=t.Chart,e=i.helpers,s={scaleShowLabelBackdrop:!0,scaleBackdropColor:"rgba(255,255,255,0.75)",scaleBeginAtZero:!0,scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,scaleShowLine:!0,segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'};i.Type.extend({name:"PolarArea",defaults:s,initialize:function(t){this.segments=[],this.SegmentArc=i.Arc.extend({showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,ctx:this.chart.ctx,innerRadius:0,x:this.chart.width/2,y:this.chart.height/2}),this.scale=new i.RadialScale({display:this.options.showScale,fontStyle:this.options.scaleFontStyle,fontSize:this.options.scaleFontSize,fontFamily:this.options.scaleFontFamily,fontColor:this.options.scaleFontColor,showLabels:this.options.scaleShowLabels,showLabelBackdrop:this.options.scaleShowLabelBackdrop,backdropColor:this.options.scaleBackdropColor,backdropPaddingY:this.options.scaleBackdropPaddingY,backdropPaddingX:this.options.scaleBackdropPaddingX,lineWidth:this.options.scaleShowLine?this.options.scaleLineWidth:0,lineColor:this.options.scaleLineColor,lineArc:!0,width:this.chart.width,height:this.chart.height,xCenter:this.chart.width/2,yCenter:this.chart.height/2,ctx:this.chart.ctx,templateString:this.options.scaleLabel,valuesCount:t.length}),this.updateScaleRange(t),this.scale.update(),e.each(t,function(t,i){this.addData(t,i,!0)},this),this.options.showTooltips&&e.bindEvents(this,this.options.tooltipEvents,function(t){var i="mouseout"!==t.type?this.getSegmentsAtEvent(t):[];e.each(this.segments,function(t){t.restore(["fillColor"])}),e.each(i,function(t){t.fillColor=t.highlightColor}),this.showTooltip(i)}),this.render()},getSegmentsAtEvent:function(t){var i=[],s=e.getRelativePosition(t);return e.each(this.segments,function(t){t.inRange(s.x,s.y)&&i.push(t)},this),i},addData:function(t,i,e){var s=i||this.segments.length;this.segments.splice(s,0,new this.SegmentArc({fillColor:t.color,highlightColor:t.highlight||t.color,label:t.label,value:t.value,outerRadius:this.options.animateScale?0:this.scale.calculateCenterOffset(t.value),circumference:this.options.animateRotate?0:this.scale.getCircumference(),startAngle:1.5*Math.PI})),e||(this.reflow(),this.update())},removeData:function(t){var i=e.isNumber(t)?t:this.segments.length-1;this.segments.splice(i,1),this.reflow(),this.update()},calculateTotal:function(t){this.total=0,e.each(t,function(t){this.total+=t.value},this),this.scale.valuesCount=this.segments.length},updateScaleRange:function(t){var i=[];e.each(t,function(t){i.push(t.value)});var s=this.options.scaleOverride?{steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}:e.calculateScaleRange(i,e.min([this.chart.width,this.chart.height])/2,this.options.scaleFontSize,this.options.scaleBeginAtZero,this.options.scaleIntegersOnly);e.extend(this.scale,s,{size:e.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2})},update:function(){this.calculateTotal(this.segments),e.each(this.segments,function(t){t.save()}),this.render()},reflow:function(){e.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.updateScaleRange(this.segments),this.scale.update(),e.extend(this.scale,{xCenter:this.chart.width/2,yCenter:this.chart.height/2}),e.each(this.segments,function(t){t.update({outerRadius:this.scale.calculateCenterOffset(t.value)})},this)},draw:function(t){var i=t||1;this.clear(),e.each(this.segments,function(t,e){t.transition({circumference:this.scale.getCircumference(),outerRadius:this.scale.calculateCenterOffset(t.value)},i),t.endAngle=t.startAngle+t.circumference,0===e&&(t.startAngle=1.5*Math.PI),e<this.segments.length-1&&(this.segments[e+1].startAngle=t.endAngle),t.draw()},this),this.scale.draw()}})}.call(this),function(){"use strict";var t=this,i=t.Chart,e=i.helpers;i.Type.extend({name:"Radar",defaults:{scaleShowLine:!0,angleShowLineOut:!0,scaleShowLabels:!1,scaleBeginAtZero:!0,angleLineColor:"rgba(0,0,0,.1)",angleLineWidth:1,pointLabelFontFamily:"'Arial'",pointLabelFontStyle:"normal",pointLabelFontSize:10,pointLabelFontColor:"#666",pointDot:!0,pointDotRadius:3,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].strokeColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'},initialize:function(t){this.PointClass=i.Point.extend({strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx}),this.datasets=[],this.buildScale(t),this.options.showTooltips&&e.bindEvents(this,this.options.tooltipEvents,function(t){var i="mouseout"!==t.type?this.getPointsAtEvent(t):[];this.eachPoints(function(t){t.restore(["fillColor","strokeColor"])}),e.each(i,function(t){t.fillColor=t.highlightFill,t.strokeColor=t.highlightStroke}),this.showTooltip(i)}),e.each(t.datasets,function(i){var s={label:i.label||null,fillColor:i.fillColor,strokeColor:i.strokeColor,pointColor:i.pointColor,pointStrokeColor:i.pointStrokeColor,points:[]};this.datasets.push(s),e.each(i.data,function(n,o){if(e.isNumber(n)){var a;this.scale.animation||(a=this.scale.getPointPosition(o,this.scale.calculateCenterOffset(n))),s.points.push(new this.PointClass({value:n,label:t.labels[o],datasetLabel:i.label,x:this.options.animation?this.scale.xCenter:a.x,y:this.options.animation?this.scale.yCenter:a.y,strokeColor:i.pointStrokeColor,fillColor:i.pointColor,highlightFill:i.pointHighlightFill||i.pointColor,highlightStroke:i.pointHighlightStroke||i.pointStrokeColor}))}},this)},this),this.render()},eachPoints:function(t){e.each(this.datasets,function(i){e.each(i.points,t,this)},this)},getPointsAtEvent:function(t){var i=e.getRelativePosition(t),s=e.getAngleFromPoint({x:this.scale.xCenter,y:this.scale.yCenter},i),n=2*Math.PI/this.scale.valuesCount,o=Math.round((s.angle-1.5*Math.PI)/n),a=[];return(o>=this.scale.valuesCount||0>o)&&(o=0),s.distance<=this.scale.drawingArea&&e.each(this.datasets,function(t){a.push(t.points[o])}),a},buildScale:function(t){this.scale=new i.RadialScale({display:this.options.showScale,fontStyle:this.options.scaleFontStyle,fontSize:this.options.scaleFontSize,fontFamily:this.options.scaleFontFamily,fontColor:this.options.scaleFontColor,showLabels:this.options.scaleShowLabels,showLabelBackdrop:this.options.scaleShowLabelBackdrop,backdropColor:this.options.scaleBackdropColor,backdropPaddingY:this.options.scaleBackdropPaddingY,backdropPaddingX:this.options.scaleBackdropPaddingX,lineWidth:this.options.scaleShowLine?this.options.scaleLineWidth:0,lineColor:this.options.scaleLineColor,angleLineColor:this.options.angleLineColor,angleLineWidth:this.options.angleShowLineOut?this.options.angleLineWidth:0,pointLabelFontColor:this.options.pointLabelFontColor,pointLabelFontSize:this.options.pointLabelFontSize,pointLabelFontFamily:this.options.pointLabelFontFamily,pointLabelFontStyle:this.options.pointLabelFontStyle,height:this.chart.height,width:this.chart.width,xCenter:this.chart.width/2,yCenter:this.chart.height/2,ctx:this.chart.ctx,templateString:this.options.scaleLabel,labels:t.labels,valuesCount:t.datasets[0].data.length}),this.scale.setScaleSize(),this.updateScaleRange(t.datasets),this.scale.buildYLabels()},updateScaleRange:function(t){var i=function(){var i=[];return e.each(t,function(t){t.data?i=i.concat(t.data):e.each(t.points,function(t){i.push(t.value)})}),i}(),s=this.options.scaleOverride?{steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}:e.calculateScaleRange(i,e.min([this.chart.width,this.chart.height])/2,this.options.scaleFontSize,this.options.scaleBeginAtZero,this.options.scaleIntegersOnly);e.extend(this.scale,s)},addData:function(t,i){this.scale.valuesCount++,e.each(t,function(t,s){if(e.isNumber(t)){var n=this.scale.getPointPosition(this.scale.valuesCount,this.scale.calculateCenterOffset(t));this.datasets[s].points.push(new this.PointClass({value:t,label:i,x:n.x,y:n.y,strokeColor:this.datasets[s].pointStrokeColor,fillColor:this.datasets[s].pointColor}))}},this),this.scale.labels.push(i),this.reflow(),this.update()},removeData:function(){this.scale.valuesCount--,this.scale.labels.shift(),e.each(this.datasets,function(t){t.points.shift()},this),this.reflow(),this.update()},update:function(){this.eachPoints(function(t){t.save()}),this.reflow(),this.render()},reflow:function(){e.extend(this.scale,{width:this.chart.width,height:this.chart.height,size:e.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2}),this.updateScaleRange(this.datasets),this.scale.setScaleSize(),this.scale.buildYLabels()},draw:function(t){var i=t||1,s=this.chart.ctx;this.clear(),this.scale.draw(),e.each(this.datasets,function(t){e.each(t.points,function(t,e){t.transition(this.scale.getPointPosition(e,this.scale.calculateCenterOffset(t.value)),i)},this),s.lineWidth=this.options.datasetStrokeWidth,s.strokeStyle=t.strokeColor,s.beginPath(),e.each(t.points,function(t,i){0===i?s.moveTo(t.x,t.y):s.lineTo(t.x,t.y)},this),s.closePath(),s.stroke(),s.fillStyle=t.fillColor,s.fill(),e.each(t.points,function(t){t.draw()})},this)}})}.call(this);
jtour=function(){function t(t){m=t}function e(t){return 1==t?f++:0==t?f=0:-1==t&&f--,f}function o(t){u=t}function n(){return f}function r(){if(e(1),f>=m)p();else{var t=u[f];console.log(t),i(t)}}function s(){if(e(-1),0==f)p();else{var t=u[f];i(t)}}function i(t){var e=document.querySelector(".introjs-helperLayer"),o=c(document.getElementById(t.element));if(console.log(o),null!=e){var n=e.querySelector(".introjs-tooltiptext"),r=e.querySelector(".introjs-arrow"),s=e.querySelector(".introjs-tooltip"),i=e.querySelector(".introjs-skipbutton"),p=e.querySelector(".introjs-prevbutton"),u=e.querySelector(".introjs-nextbutton");s.style.opacity=0,l(e,t.element);var y=document.querySelector(".introjs-showElement");y.className=y.className.replace(/introjs-[a-zA-Z]+/g,"").replace(/^\s+|\s+$/g,""),setTimeout(function(){n.innerHTML=t.intro,a(document.getElementById(t.element),s,r,t),s.style.opacity=1},350)}0==f&&m>1?(p.className="introjs-button introjs-prevbutton introjs-disabled",u.className="introjs-button introjs-nextbutton",i.innerHTML=this._options.skipLabel):m-1==f||1==m?(i.innerHTML="Done",p.className="introjs-button introjs-prevbutton",u.className="introjs-button introjs-nextbutton introjs-disabled"):(p.className="introjs-button introjs-prevbutton",u.className="introjs-button introjs-nextbutton",i.innerHTML="Skip"),document.getElementById(t.element).className+=" introjs-showElement introjs-relativePosition"}function l(t,e){if(t){if(!document.getElementById(e))return;var o=document.getElementById(e),n=c(o),r=10;t.setAttribute("style","width: "+(n.width+r)+"px; height:"+(n.height+r)+"px; top:"+(n.top-5)+"px;left: "+(n.left-5)+"px;"),m-1==f&&t.setAttribute("style","width: "+(n.width+r)+"px; height:"+(n.height+r)+"px; top:"+(n.top-5)+"px;left: "+(n.left-5)+"px;background-color: inherit;")}}function a(t,e,o,n){var r,s,i,l="";if(e.style.top=null,e.style.right=null,e.style.bottom=null,e.style.left=null,e.style.marginLeft=null,e.style.marginTop=null,o.style.display="inherit",n){r=n,l="string"==typeof r.tooltipClass?r.tooltipClass:"",e.className=("introjs-tooltip "+l).replace(/^\s+|\s+$/g,"");var l="";currentTooltipPosition=n.position;var t=document.getElementById(n.element);switch(currentTooltipPosition){case"top":e.style.left="15px",e.style.top="-"+(c(e).height+10)+"px",o.className="introjs-arrow bottom";break;case"right":e.style.left=c(t).width+20+"px",o.className="introjs-arrow left";break;case"left":e.style.right=c(t).width+20+"px",o.className="introjs-arrow right";break;case"floating":o.style.display="none",s=c(e),e.style.left="50%",e.style.top="50%",e.style.marginLeft="-"+s.width/2+"px",e.style.marginTop="-"+s.height/2+"px";break;case"bottom-right-aligned":o.className="introjs-arrow top-right",e.style.right="0px",e.style.bottom="-"+(c(e).height+10)+"px";break;case"bottom-middle-aligned":i=c(t),s=c(e),o.className="introjs-arrow top-middle",e.style.left=i.width/2-s.width/2+"px",e.style.bottom="-"+(s.height+10)+"px";break;case"bottom-left-aligned":case"bottom":default:e.style.bottom="-"+(c(e).height+10)+"px",o.className="introjs-arrow top"}}}function c(t){var e={};e.width=t.offsetWidth,e.height=t.offsetHeight;for(var o=0,n=0;t&&!isNaN(t.offsetLeft)&&!isNaN(t.offsetTop);)o+=t.offsetLeft,n+=t.offsetTop,t=t.offsetParent;return e.top=n,e.left=o,e}function p(){var t=document.getElementById("introjs_head").querySelector(".introjs-overlay");if(null!=t){t.style.opacity=0,setTimeout(function(){t.parentNode&&t.parentNode.removeChild(t)},500);var e=document.getElementById("introjs_head").querySelector(".introjs-helperLayer");e&&e.parentNode.removeChild(e);var o=document.querySelector(".introjs-showElement");o&&(o.className=o.className.replace(/introjs-[a-zA-Z]+/g,"").replace(/^\s+|\s+$/g,"")),f=-1}}var u,m=-1,f=-1;return{_nextStep:r,_setHelperLayerPosition:l,_getOffset:c,_exitIntro:p,_placeTooltip:a,_showElement:i,ini_Steps:o,_step:e,iniTour:t,_prevStep:s,curr_Step:n}}();
!function(t,e){"object"==typeof exports?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t)}(this,function(t){function e(t){this._targetElement=t,this._options={nextLabel:"Next &rarr;",prevLabel:"&larr; Back",skipLabel:"Skip",doneLabel:"Done",tooltipPosition:"bottom",tooltipClass:"",exitOnEsc:!0,exitOnOverlayClick:!0,showStepNumbers:!0,keyboardNavigation:!0,showButtons:!0,showBullets:!0,scrollToElement:!0,overlayOpacity:.8}}function n(t){var e=[],n=this;if(this._options.steps)for(var i=[],a=0,p=this._options.steps.length;p>a;a++){var u=o(this._options.steps[a]);if(u.step=e.length+1,"string"==typeof u.element&&(u.element=document.querySelector(u.element)),"undefined"==typeof u.element||null==u.element){var h=document.querySelector(".introjsFloatingElement");null==h&&(h=document.createElement("div"),h.className="introjsFloatingElement",document.body.appendChild(h)),u.element=h,u.position="floating"}null!=u.element&&e.push(u)}else{var i=t.querySelectorAll("*[data-intro]");if(i.length<1)return!1;for(var a=0,d=i.length;d>a;a++){var m=i[a],y=parseInt(m.getAttribute("data-step"),10);y>0&&(e[y-1]={element:m,intro:m.getAttribute("data-intro"),step:parseInt(m.getAttribute("data-step"),10),tooltipClass:m.getAttribute("data-tooltipClass"),position:m.getAttribute("data-position")||this._options.tooltipPosition})}for(var b=0,a=0,d=i.length;d>a;a++){var m=i[a];if(null==m.getAttribute("data-step")){for(;;){if("undefined"==typeof e[b])break;b++}e[b]={element:m,intro:m.getAttribute("data-intro"),step:b+1,tooltipClass:m.getAttribute("data-tooltipClass"),position:m.getAttribute("data-position")||this._options.tooltipPosition}}}}for(var g=[],v=0;v<e.length;v++)e[v]&&g.push(e[v]);if(e=g,e.sort(function(t,e){return t.step-e.step}),n._introItems=e,f.call(n,t)){r.call(n);{t.querySelector(".introjs-skipbutton"),t.querySelector(".introjs-nextbutton")}n._onKeyDown=function(e){27===e.keyCode&&1==n._options.exitOnEsc?(l.call(n,t),void 0!=n._introExitCallback&&n._introExitCallback.call(n)):37===e.keyCode?s.call(n):(39===e.keyCode||13===e.keyCode)&&(r.call(n),e.preventDefault?e.preventDefault():e.returnValue=!1)},n._onResize=function(){c.call(n,document.querySelector(".introjs-helperLayer"))},window.addEventListener?(this._options.keyboardNavigation&&window.addEventListener("keydown",n._onKeyDown,!0),window.addEventListener("resize",n._onResize,!0)):document.attachEvent&&(this._options.keyboardNavigation&&document.attachEvent("onkeydown",n._onKeyDown),document.attachEvent("onresize",n._onResize))}return!1}function o(t){if(null==t||"object"!=typeof t||"undefined"!=typeof t.nodeType)return t;var e={};for(var n in t)e[n]=o(t[n]);return e}function i(t){this._currentStep=t-2,"undefined"!=typeof this._introItems&&r.call(this)}function r(){if(this._direction="forward","undefined"==typeof this._currentStep?this._currentStep=0:++this._currentStep,this._introItems.length<=this._currentStep)return"function"==typeof this._introCompleteCallback&&this._introCompleteCallback.call(this),void l.call(this,this._targetElement);var t=this._introItems[this._currentStep];"undefined"!=typeof this._introBeforeChangeCallback&&this._introBeforeChangeCallback.call(this,t.element),p.call(this,t)}function s(){if(this._direction="backward",0===this._currentStep)return!1;var t=this._introItems[--this._currentStep];"undefined"!=typeof this._introBeforeChangeCallback&&this._introBeforeChangeCallback.call(this,t.element),p.call(this,t)}function l(t){var e=t.querySelector(".introjs-overlay");if(null!=e){e.style.opacity=0,setTimeout(function(){e.parentNode&&e.parentNode.removeChild(e)},500);var n=t.querySelector(".introjs-helperLayer");n&&n.parentNode.removeChild(n);var o=document.querySelector(".introjsFloatingElement");o&&o.parentNode.removeChild(o);var i=document.querySelector(".introjs-showElement");i&&(i.className=i.className.replace(/introjs-[a-zA-Z]+/g,"").replace(/^\s+|\s+$/g,""));var r=document.querySelectorAll(".introjs-fixParent");if(r&&r.length>0)for(var s=r.length-1;s>=0;s--)r[s].className=r[s].className.replace(/introjs-fixParent/g,"").replace(/^\s+|\s+$/g,"");window.removeEventListener?window.removeEventListener("keydown",this._onKeyDown,!0):document.detachEvent&&document.detachEvent("onkeydown",this._onKeyDown),this._currentStep=void 0}}function a(t,e,n,o){var i,r,s,l="";if(e.style.top=null,e.style.right=null,e.style.bottom=null,e.style.left=null,e.style.marginLeft=null,e.style.marginTop=null,n.style.display="inherit","undefined"!=typeof o&&null!=o&&(o.style.top=null,o.style.left=null),this._introItems[this._currentStep]){i=this._introItems[this._currentStep],l="string"==typeof i.tooltipClass?i.tooltipClass:this._options.tooltipClass,e.className=("introjs-tooltip "+l).replace(/^\s+|\s+$/g,"");var l=this._options.tooltipClass;switch(currentTooltipPosition=this._introItems[this._currentStep].position){case"top":e.style.left="15px",e.style.top="-"+(m(e).height+10)+"px",n.className="introjs-arrow bottom";break;case"right":e.style.left=m(t).width+20+"px",n.className="introjs-arrow left";break;case"left":1==this._options.showStepNumbers&&(e.style.top="15px"),e.style.right=m(t).width+20+"px",n.className="introjs-arrow right";break;case"floating":n.style.display="none",r=m(e),e.style.left="50%",e.style.top="50%",e.style.marginLeft="-"+r.width/2+"px",e.style.marginTop="-"+r.height/2+"px","undefined"!=typeof o&&null!=o&&(o.style.left="-"+(r.width/2+18)+"px",o.style.top="-"+(r.height/2+18)+"px");break;case"bottom-right-aligned":n.className="introjs-arrow top-right",e.style.right="0px",e.style.bottom="-"+(m(e).height+10)+"px";break;case"bottom-middle-aligned":s=m(t),r=m(e),n.className="introjs-arrow top-middle",e.style.left=s.width/2-r.width/2+"px",e.style.bottom="-"+(r.height+10)+"px";break;case"bottom-left-aligned":case"bottom":default:e.style.bottom="-"+(m(e).height+10)+"px",n.className="introjs-arrow top"}}}function c(t){if(t){if(!this._introItems[this._currentStep])return;var e=this._introItems[this._currentStep],n=m(e.element),o=10;"floating"==e.position&&(o=0),t.setAttribute("style","width: "+(n.width+o)+"px; height:"+(n.height+o)+"px; top:"+(n.top-5)+"px;left: "+(n.left-5)+"px;")}}function p(t){"undefined"!=typeof this._introChangeCallback&&this._introChangeCallback.call(this,t.element);{var e=this,n=document.querySelector(".introjs-helperLayer");m(t.element)}if(null!=n){var o=n.querySelector(".introjs-helperNumberLayer"),i=n.querySelector(".introjs-tooltiptext"),p=n.querySelector(".introjs-arrow"),f=n.querySelector(".introjs-tooltip"),y=n.querySelector(".introjs-skipbutton"),b=n.querySelector(".introjs-prevbutton"),g=n.querySelector(".introjs-nextbutton");if(f.style.opacity=0,null!=o){var v=this._introItems[t.step-2>=0?t.step-2:0];(null!=v&&"forward"==this._direction&&"floating"==v.position||"backward"==this._direction&&"floating"==t.position)&&(o.style.opacity=0)}c.call(e,n);var _=document.querySelectorAll(".introjs-fixParent");if(_&&_.length>0)for(var w=_.length-1;w>=0;w--)_[w].className=_[w].className.replace(/introjs-fixParent/g,"").replace(/^\s+|\s+$/g,"");var C=document.querySelector(".introjs-showElement");C.className=C.className.replace(/introjs-[a-zA-Z]+/g,"").replace(/^\s+|\s+$/g,""),e._lastShowElementTimer&&clearTimeout(e._lastShowElementTimer),e._lastShowElementTimer=setTimeout(function(){null!=o&&(o.innerHTML=t.step),i.innerHTML=t.intro,a.call(e,t.element,f,p,o),n.querySelector(".introjs-bullets li > a.active").className="",n.querySelector('.introjs-bullets li > a[data-stepnumber="'+t.step+'"]').className="active",f.style.opacity=1,o&&(o.style.opacity=1)},350)}else{var j=document.createElement("div"),k=document.createElement("div"),S=document.createElement("div"),E=document.createElement("div"),N=document.createElement("div"),x=document.createElement("div");j.className="introjs-helperLayer",c.call(e,j),this._targetElement.appendChild(j),k.className="introjs-arrow",E.className="introjs-tooltiptext",E.innerHTML=t.intro,N.className="introjs-bullets",this._options.showBullets===!1&&(N.style.display="none");for(var L=document.createElement("ul"),w=0,T=this._introItems.length;T>w;w++){var q=document.createElement("li"),A=document.createElement("a");A.onclick=function(){e.goToStep(this.getAttribute("data-stepnumber"))},w===t.step-1&&(A.className="active"),A.href="javascript:void(0);",A.innerHTML="&nbsp;",A.setAttribute("data-stepnumber",this._introItems[w].step),q.appendChild(A),L.appendChild(q)}if(N.appendChild(L),x.className="introjs-tooltipbuttons",this._options.showButtons===!1&&(x.style.display="none"),S.className="introjs-tooltip",S.appendChild(E),S.appendChild(N),1==this._options.showStepNumbers){var I=document.createElement("span");I.className="introjs-helperNumberLayer",I.innerHTML=t.step,j.appendChild(I)}S.appendChild(k),j.appendChild(S);var g=document.createElement("a");g.onclick=function(){e._introItems.length-1!=e._currentStep&&r.call(e)},g.href="javascript:void(0);",g.innerHTML=this._options.nextLabel;var b=document.createElement("a");b.onclick=function(){0!=e._currentStep&&s.call(e)},b.href="javascript:void(0);",b.innerHTML=this._options.prevLabel;var y=document.createElement("a");y.className="introjs-button introjs-skipbutton",y.href="javascript:void(0);",y.innerHTML=this._options.skipLabel,y.onclick=function(){e._introItems.length-1==e._currentStep&&"function"==typeof e._introCompleteCallback&&e._introCompleteCallback.call(e),e._introItems.length-1!=e._currentStep&&"function"==typeof e._introExitCallback&&e._introExitCallback.call(e),l.call(e,e._targetElement)},x.appendChild(y),this._introItems.length>1&&(x.appendChild(b),x.appendChild(g)),S.appendChild(x),a.call(e,t.element,S,k,I)}0==this._currentStep&&this._introItems.length>1?(b.className="introjs-button introjs-prevbutton introjs-disabled",g.className="introjs-button introjs-nextbutton",y.innerHTML=this._options.skipLabel):this._introItems.length-1==this._currentStep||1==this._introItems.length?(y.innerHTML=this._options.doneLabel,b.className="introjs-button introjs-prevbutton",g.className="introjs-button introjs-nextbutton introjs-disabled"):(b.className="introjs-button introjs-prevbutton",g.className="introjs-button introjs-nextbutton",y.innerHTML=this._options.skipLabel),g.focus(),t.element.className+=" introjs-showElement";var P=u(t.element,"position");"absolute"!==P&&"relative"!==P&&(t.element.className+=" introjs-relativePosition");for(var H=t.element.parentNode;null!=H&&"body"!==H.tagName.toLowerCase();){var B=u(H,"z-index"),M=parseFloat(u(H,"opacity")),O=u(H,"transform")||u(H,"-webkit-transform")||u(H,"-moz-transform")||u(H,"-ms-transform")||u(H,"-o-transform");(/[0-9]+/.test(B)||1>M||"none"!==O)&&(H.className+=" introjs-fixParent"),H=H.parentNode}if(!d(t.element)&&this._options.scrollToElement===!0){var z=t.element.getBoundingClientRect(),D=h().height,K=z.bottom-(z.bottom-z.top),R=z.bottom-D;0>K||t.element.clientHeight>D?window.scrollBy(0,K-30):window.scrollBy(0,R+100)}"undefined"!=typeof this._introAfterChangeCallback&&this._introAfterChangeCallback.call(this,t.element)}function u(t,e){var n="";return t.currentStyle?n=t.currentStyle[e]:document.defaultView&&document.defaultView.getComputedStyle&&(n=document.defaultView.getComputedStyle(t,null).getPropertyValue(e)),n&&n.toLowerCase?n.toLowerCase():n}function h(){if(void 0!=window.innerWidth)return{width:window.innerWidth,height:window.innerHeight};var t=document.documentElement;return{width:t.clientWidth,height:t.clientHeight}}function d(t){var e=t.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom+80<=window.innerHeight&&e.right<=window.innerWidth}function f(t){var e=document.createElement("div"),n="",o=this;if(e.className="introjs-overlay","body"===t.tagName.toLowerCase())n+="top: 0;bottom: 0; left: 0;right: 0;position: fixed;",e.setAttribute("style",n);else{var i=m(t);i&&(n+="width: "+i.width+"px; height:"+i.height+"px; top:"+i.top+"px;left: "+i.left+"px;",e.setAttribute("style",n))}return t.appendChild(e),e.onclick=function(){1==o._options.exitOnOverlayClick&&(l.call(o,t),void 0!=o._introExitCallback&&o._introExitCallback.call(o))},setTimeout(function(){n+="opacity: "+o._options.overlayOpacity.toString()+";",e.setAttribute("style",n)},10),!0}function m(t){var e={};e.width=t.offsetWidth,e.height=t.offsetHeight;for(var n=0,o=0;t&&!isNaN(t.offsetLeft)&&!isNaN(t.offsetTop);)n+=t.offsetLeft,o+=t.offsetTop,t=t.offsetParent;return e.top=o,e.left=n,e}function y(t,e){var n={};for(var o in t)n[o]=t[o];for(var o in e)n[o]=e[o];return n}var b="0.9.0",g=function(t){if("object"==typeof t)return new e(t);if("string"==typeof t){var n=document.querySelector(t);if(n)return new e(n);throw new Error("There is no element with given selector.")}return new e(document.body)};return g.version=b,g.fn=e.prototype={clone:function(){return new e(this)},setOption:function(t,e){return this._options[t]=e,this},setOptions:function(t){return this._options=y(this._options,t),this},start:function(){return n.call(this,this._targetElement),this},goToStep:function(t){return i.call(this,t),this},nextStep:function(){return r.call(this),this},previousStep:function(){return s.call(this),this},exit:function(){l.call(this,this._targetElement)},refresh:function(){return c.call(this,document.querySelector(".introjs-helperLayer")),this},onbeforechange:function(t){if("function"!=typeof t)throw new Error("Provided callback for onbeforechange was not a function");return this._introBeforeChangeCallback=t,this},onchange:function(t){if("function"!=typeof t)throw new Error("Provided callback for onchange was not a function.");return this._introChangeCallback=t,this},onafterchange:function(t){if("function"!=typeof t)throw new Error("Provided callback for onafterchange was not a function");return this._introAfterChangeCallback=t,this},oncomplete:function(t){if("function"!=typeof t)throw new Error("Provided callback for oncomplete was not a function.");return this._introCompleteCallback=t,this},onexit:function(t){if("function"!=typeof t)throw new Error("Provided callback for onexit was not a function.");return this._introExitCallback=t,this}},t.introJs=g,g});
!function(t){"use strict";var e=function(e,s){this.$element=t(e),this.options=t.extend({},t.fn.typeahead.defaults,s),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.$menu=t(this.options.menu),this.shown=!1,this.listen()};e.prototype={constructor:e,select:function(){var t=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(t)).change(),this.hide()},updater:function(t){return t},show:function(){var e=t.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:e.top+e.height,left:e.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(){var e;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(e=t.isFunction(this.source)?this.source(this.query,t.proxy(this.process,this)):this.source,e?this.process(e):this)},process:function(e){var s=this;return e=t.grep(e,function(t){return s.matcher(t)}),e=this.sorter(e),e.length?this.render(e.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(t){return~t.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(t){for(var e,s=[],i=[],n=[];e=t.shift();)e.toLowerCase().indexOf(this.query.toLowerCase())?~e.indexOf(this.query)?i.push(e):n.push(e):s.push(e);return s.concat(i,n)},highlighter:function(t){var e=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return t.replace(new RegExp("("+e+")","ig"),function(t,e){return"<strong>"+e+"</strong>"})},render:function(e){var s=this;return e=t(e).map(function(e,i){return e=t(s.options.item).attr("data-value",i),e.find("a").html(s.highlighter(i)),e[0]}),e.first().addClass("active"),this.$menu.html(e),this},next:function(){var e=this.$menu.find(".active").removeClass("active"),s=e.next();s.length||(s=t(this.$menu.find("li")[0])),s.addClass("active")},prev:function(){var t=this.$menu.find(".active").removeClass("active"),e=t.prev();e.length||(e=this.$menu.find("li").last()),e.addClass("active")},listen:function(){this.$element.on("focus",t.proxy(this.focus,this)).on("blur",t.proxy(this.blur,this)).on("keypress",t.proxy(this.keypress,this)).on("keyup",t.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",t.proxy(this.keydown,this)),this.$menu.on("click",t.proxy(this.click,this)).on("mouseenter","li",t.proxy(this.mouseenter,this)).on("mouseleave","li",t.proxy(this.mouseleave,this))},eventSupported:function(t){var e=t in this.$element;return e||(this.$element.setAttribute(t,"return;"),e="function"==typeof this.$element[t]),e},move:function(t){if(this.shown){switch(t.keyCode){case 9:case 13:case 27:t.preventDefault();break;case 38:t.preventDefault(),this.prev();break;case 40:t.preventDefault(),this.next()}t.stopPropagation()}},keydown:function(e){this.suppressKeyPressRepeat=~t.inArray(e.keyCode,[40,38,9,13,27]),this.move(e)},keypress:function(t){this.suppressKeyPressRepeat||this.move(t)},keyup:function(t){switch(t.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}t.stopPropagation(),t.preventDefault()},focus:function(){this.focused=!0},blur:function(){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function(t){t.stopPropagation(),t.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(e){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),t(e.currentTarget).addClass("active")},mouseleave:function(){this.mousedover=!1,!this.focused&&this.shown&&this.hide()}};var s=t.fn.typeahead;t.fn.typeahead=function(s){return this.each(function(){var i=t(this),n=i.data("typeahead"),h="object"==typeof s&&s;n||i.data("typeahead",n=new e(this,h)),"string"==typeof s&&n[s]()})},t.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},t.fn.typeahead.Constructor=e,t.fn.typeahead.noConflict=function(){return t.fn.typeahead=s,this},t(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(){var e=t(this);e.data("typeahead")||e.typeahead(e.data())})}(window.jQuery);
!function(e){e.fn.extend({mention:function(t){this.opts={users:[],delimiter:"@",sensitive:!0,emptyQuery:!1,queryBy:["name","username"],typeaheadOpts:{}};var r=e.extend({},this.opts,t),n=function(){if("undefined"==typeof e)throw new Error("jQuery is Required");if("undefined"==typeof e.fn.typeahead)throw new Error("Typeahead is Required");return!0},i=function(e,t){var n;for(n=t;n>=0&&e[n]!=r.delimiter;n--);return e.substring(n,t)},s=function(e){var t;if(r.emptyQuery){var n=this.query.toLowerCase(),i=this.$element[0].selectionStart,s=n.slice(i-1,i);if(s==r.delimiter)return!0}for(t in r.queryBy)if(e[r.queryBy[t]]){var a,u=e[r.queryBy[t]].toLowerCase(),o=this.query.toLowerCase().match(new RegExp(r.delimiter+"\\w+","g"));if(o)for(a=0;a<o.length;a++){var h=o[a].substring(1).toLowerCase(),m=new RegExp(r.delimiter+u,"g"),d=this.query.toLowerCase().match(m);if(-1!=u.indexOf(h)&&null===d)return!0}}},a=function(e){var t,n=this.query,i=this.$element[0].selectionStart;for(t=i;t>=0&&n[t]!=r.delimiter;t--);var s=(n.substring(t,i),n.substring(0,t)),a=n.substring(i),n=s+r.delimiter+e+a;return this.tempQuery=n,n},u=function(e){if(e.length&&r.sensitive){var t,n=i(this.query,this.$element[0].selectionStart).substring(1),s=e.length,a={highest:[],high:[],med:[],low:[]},u=[];if(1==n.length){for(t=0;s>t;t++){var o=e[t];o.username[0]==n?a.highest.push(o):o.username[0].toLowerCase()==n.toLowerCase()?a.high.push(o):-1!=o.username.indexOf(n)?a.med.push(o):a.low.push(o)}for(t in a){var h;for(h in a[t])u.push(a[t][h])}return u}}return e},o=function(t){var n=this;return t=e(t).map(function(t,i){t=e(n.options.item).attr("data-value",i.username);var s=e("<div />");return i.image&&s.append('<img class="mention_image" src="'+i.image+'">'),i.name&&s.append('<b class="mention_name">'+i.name+"</b>"),i.username&&s.append('<span class="mention_username"> '+r.delimiter+i.username+"</span>"),t.find("a").html(n.highlighter(s.html())),t[0]}),t.first().addClass("active"),this.$menu.html(t),this};return e.fn.typeahead.Constructor.prototype.render=o,this.each(function(){var t=e(this);n()&&t.typeahead(e.extend({source:r.users,matcher:s,updater:a,sorter:u},r.typeaheadOpts))})}})}(jQuery);